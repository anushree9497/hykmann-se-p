var tL=Object.defineProperty,nL=Object.defineProperties;var iL=Object.getOwnPropertyDescriptors;var hh=Object.getOwnPropertySymbols;var xC=Object.prototype.hasOwnProperty,RC=Object.prototype.propertyIsEnumerable;var NC=(n,e,t)=>e in n?tL(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Q=(n,e)=>{for(var t in e||={})xC.call(e,t)&&NC(n,t,e[t]);if(hh)for(var t of hh(e))RC.call(e,t)&&NC(n,t,e[t]);return n},Pe=(n,e)=>nL(n,iL(e));var OC=(n,e)=>{var t={};for(var i in n)xC.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&hh)for(var i of hh(n))e.indexOf(i)<0&&RC.call(n,i)&&(t[i]=n[i]);return t};var k=(n,e,t)=>new Promise((i,r)=>{var o=l=>{try{a(t.next(l))}catch(u){r(u)}},s=l=>{try{a(t.throw(l))}catch(u){r(u)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(o,s);a((t=t.apply(n,e)).next())});var PC=null;var Gg=1,zg=Symbol("SIGNAL");function ke(n){let e=PC;return PC=n,e}var kC={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function rL(n){if(!(Kg(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Gg)){if(!n.producerMustRecompute(n)&&!qg(n)){n.dirty=!1,n.lastCleanEpoch=Gg;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Gg}}function FC(n){return n&&(n.nextProducerIndex=0),ke(n)}function LC(n,e){if(ke(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Kg(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Wg(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function qg(n){fh(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(rL(t),i!==t.version))return!0}return!1}function VC(n){if(fh(n),Kg(n))for(let e=0;e<n.producerNode.length;e++)Wg(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Wg(n,e){if(oL(n),fh(n),n.liveConsumerNode.length===1)for(let i=0;i<n.producerNode.length;i++)Wg(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];fh(r),r.producerIndexOfThis[i]=e}}function Kg(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function fh(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function oL(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function sL(){throw new Error}var aL=sL;function BC(n){aL=n}function le(n){return typeof n=="function"}function ua(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ph=ua(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Uo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var wt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(le(i))try{i()}catch(o){e=o instanceof ph?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{UC(o)}catch(s){e=e??[],s instanceof ph?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ph(e)}}add(e){var t;if(e&&e!==this)if(this.closed)UC(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Uo(t,e)}remove(e){let{_finalizers:t}=this;t&&Uo(t,e),e instanceof n&&e._removeParent(this)}};wt.EMPTY=(()=>{let n=new wt;return n.closed=!0,n})();var Qg=wt.EMPTY;function mh(n){return n instanceof wt||n&&"closed"in n&&le(n.remove)&&le(n.add)&&le(n.unsubscribe)}function UC(n){le(n)?n():n.unsubscribe()}var di={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var da={setTimeout(n,e,...t){let{delegate:i}=da;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=da;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function gh(n){da.setTimeout(()=>{let{onUnhandledError:e}=di;if(e)e(n);else throw n})}function lr(){}var jC=Yg("C",void 0,void 0);function $C(n){return Yg("E",void 0,n)}function HC(n){return Yg("N",n,void 0)}function Yg(n,e,t){return{kind:n,value:e,error:t}}var jo=null;function ha(n){if(di.useDeprecatedSynchronousErrorHandling){let e=!jo;if(e&&(jo={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=jo;if(jo=null,t)throw i}}else n()}function GC(n){di.useDeprecatedSynchronousErrorHandling&&jo&&(jo.errorThrown=!0,jo.error=n)}var $o=class extends wt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,mh(e)&&e.add(this)):this.destination=uL}static create(e,t,i){return new cr(e,t,i)}next(e){this.isStopped?Xg(HC(e),this):this._next(e)}error(e){this.isStopped?Xg($C(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Xg(jC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},lL=Function.prototype.bind;function Jg(n,e){return lL.call(n,e)}var Zg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){_h(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){_h(i)}else _h(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){_h(t)}}},cr=class extends $o{constructor(e,t,i){super();let r;if(le(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&di.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Jg(e.next,o),error:e.error&&Jg(e.error,o),complete:e.complete&&Jg(e.complete,o)}):r=e}this.destination=new Zg(r)}};function _h(n){di.useDeprecatedSynchronousErrorHandling?GC(n):gh(n)}function cL(n){throw n}function Xg(n,e){let{onStoppedNotification:t}=di;t&&da.setTimeout(()=>t(n,e))}var uL={closed:!0,next:lr,error:cL,complete:lr};var fa=typeof Symbol=="function"&&Symbol.observable||"@@observable";function gn(n){return n}function e_(...n){return t_(n)}function t_(n){return n.length===0?gn:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var he=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=hL(t)?t:new cr(t,i,r);return ha(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=zC(i),new i((r,o)=>{let s=new cr({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[fa](){return this}pipe(...t){return t_(t)(this)}toPromise(t){return t=zC(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function zC(n){var e;return(e=n??di.Promise)!==null&&e!==void 0?e:Promise}function dL(n){return n&&le(n.next)&&le(n.error)&&le(n.complete)}function hL(n){return n&&n instanceof $o||dL(n)&&mh(n)}function n_(n){return le(n?.lift)}function we(n){return e=>{if(n_(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function fe(n,e,t,i,r){return new i_(n,e,t,i,r)}var i_=class extends $o{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function pa(){return we((n,e)=>{let t=null;n._refCount++;let i=fe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var ma=class extends he{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,n_(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new wt;let t=this.getSubject();e.add(this.source.subscribe(fe(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=wt.EMPTY)}return e}refCount(){return pa()(this)}};var qC=ua(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ge=(()=>{class n extends he{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new vh(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new qC}next(t){ha(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){ha(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){ha(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Qg:(this.currentObservers=null,o.push(t),new wt(()=>{this.currentObservers=null,Uo(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new he;return t.source=this,t}}return n.create=(e,t)=>new vh(e,t),n})(),vh=class extends Ge{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:Qg}};var bt=class extends Ge{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Sc={now(){return(Sc.delegate||Date).now()},delegate:void 0};var yh=class extends Ge{constructor(e=1/0,t=1/0,i=Sc){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=t.now(),a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}};var wh=class extends wt{constructor(e,t){super()}schedule(e,t=0){return this}};var Ac={setInterval(n,e,...t){let{delegate:i}=Ac;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ac;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ga=class extends wh{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return Ac.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&Ac.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Uo(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var _a=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};_a.now=Sc.now;var va=class extends _a{constructor(e,t=_a.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var ya=new va(ga),r_=ya;var Eh=class extends ga{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}};var bh=class extends va{};var o_=new bh(Eh);var Yt=new he(n=>n.complete());function Ih(n){return n&&le(n.schedule)}function WC(n){return n[n.length-1]}function qr(n){return le(WC(n))?n.pop():void 0}function Wr(n){return Ih(WC(n))?n.pop():void 0}function s_(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function QC(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):r(d.value).then(a,l)}u((i=i.apply(n,e||[])).next())})}function KC(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ho(n){return this instanceof Ho?(this.v=n,this):new Ho(n)}function YC(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(_){return function(T){return Promise.resolve(T).then(_,f)}}function a(_,T){i[_]&&(r[_]=function(M){return new Promise(function(N,B){o.push([_,M,N,B])>1||l(_,M)})},T&&(r[_]=T(r[_])))}function l(_,T){try{u(i[_](T))}catch(M){m(o[0][3],M)}}function u(_){_.value instanceof Ho?Promise.resolve(_.value.v).then(d,f):m(o[0][2],_)}function d(_){l("next",_)}function f(_){l("throw",_)}function m(_,T){_(T),o.shift(),o.length&&l(o[0][0],o[0][1])}}function JC(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof KC=="function"?KC(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}var wa=n=>n&&typeof n.length=="number"&&typeof n!="function";function Ch(n){return le(n?.then)}function Th(n){return le(n[fa])}function Dh(n){return Symbol.asyncIterator&&le(n?.[Symbol.asyncIterator])}function Sh(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function fL(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ah=fL();function Mh(n){return le(n?.[Ah])}function Nh(n){return YC(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield Ho(t.read());if(r)return yield Ho(void 0);yield yield Ho(i)}}finally{t.releaseLock()}})}function xh(n){return le(n?.getReader)}function Ne(n){if(n instanceof he)return n;if(n!=null){if(Th(n))return pL(n);if(wa(n))return mL(n);if(Ch(n))return gL(n);if(Dh(n))return XC(n);if(Mh(n))return _L(n);if(xh(n))return vL(n)}throw Sh(n)}function pL(n){return new he(e=>{let t=n[fa]();if(le(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function mL(n){return new he(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function gL(n){return new he(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,gh)})}function _L(n){return new he(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function XC(n){return new he(e=>{yL(n,e).catch(t=>e.error(t))})}function vL(n){return XC(Nh(n))}function yL(n,e){var t,i,r,o;return QC(this,void 0,void 0,function*(){try{for(t=JC(n);i=yield t.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})}function Sn(n,e,t,i=0,r=!1){let o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Kr(n,e=0){return we((t,i)=>{t.subscribe(fe(i,r=>Sn(i,n,()=>i.next(r),e),()=>Sn(i,n,()=>i.complete(),e),r=>Sn(i,n,()=>i.error(r),e)))})}function Qr(n,e=0){return we((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function ZC(n,e){return Ne(n).pipe(Qr(e),Kr(e))}function eT(n,e){return Ne(n).pipe(Qr(e),Kr(e))}function tT(n,e){return new he(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function nT(n,e){return new he(t=>{let i;return Sn(t,e,()=>{i=n[Ah](),Sn(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>le(i?.return)&&i.return()})}function Rh(n,e){if(!n)throw new Error("Iterable cannot be null");return new he(t=>{Sn(t,e,()=>{let i=n[Symbol.asyncIterator]();Sn(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function iT(n,e){return Rh(Nh(n),e)}function rT(n,e){if(n!=null){if(Th(n))return ZC(n,e);if(wa(n))return tT(n,e);if(Ch(n))return eT(n,e);if(Dh(n))return Rh(n,e);if(Mh(n))return nT(n,e);if(xh(n))return iT(n,e)}throw Sh(n)}function ut(n,e){return e?rT(n,e):Ne(n)}function ne(...n){let e=Wr(n);return ut(n,e)}function Ea(n,e){let t=le(n)?n:()=>n,i=r=>r.error(t());return new he(e?r=>e.schedule(i,0,r):i)}function ur(n){return!!n&&(n instanceof he||le(n.lift)&&le(n.subscribe))}var dr=ua(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function oT(n){return n instanceof Date&&!isNaN(n)}function ce(n,e){return we((t,i)=>{let r=0;t.subscribe(fe(i,o=>{i.next(n.call(e,o,r++))}))})}var{isArray:wL}=Array;function EL(n,e){return wL(e)?n(...e):n(e)}function ba(n){return ce(e=>EL(n,e))}var{isArray:bL}=Array,{getPrototypeOf:IL,prototype:CL,keys:TL}=Object;function Oh(n){if(n.length===1){let e=n[0];if(bL(e))return{args:e,keys:null};if(DL(e)){let t=TL(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function DL(n){return n&&typeof n=="object"&&IL(n)===CL}function Ph(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Mc(...n){let e=Wr(n),t=qr(n),{args:i,keys:r}=Oh(n);if(i.length===0)return ut([],e);let o=new he(SL(i,e,r?s=>Ph(r,s):gn));return t?o.pipe(ba(t)):o}function SL(n,e,t=gn){return i=>{sT(e,()=>{let{length:r}=n,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)sT(e,()=>{let u=ut(n[l],e),d=!1;u.subscribe(fe(i,f=>{o[l]=f,d||(d=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function sT(n,e,t){n?Sn(t,n,e):e()}function aT(n,e,t,i,r,o,s,a){let l=[],u=0,d=0,f=!1,m=()=>{f&&!l.length&&!u&&e.complete()},_=M=>u<i?T(M):l.push(M),T=M=>{o&&e.next(M),u++;let N=!1;Ne(t(M,d++)).subscribe(fe(e,B=>{r?.(B),o?_(B):e.next(B)},()=>{N=!0},void 0,()=>{if(N)try{for(u--;l.length&&u<i;){let B=l.shift();s?Sn(e,s,()=>T(B)):T(B)}m()}catch(B){e.error(B)}}))};return n.subscribe(fe(e,_,()=>{f=!0,m()})),()=>{a?.()}}function et(n,e,t=1/0){return le(e)?et((i,r)=>ce((o,s)=>e(i,o,r,s))(Ne(n(i,r))),t):(typeof e=="number"&&(t=e),we((i,r)=>aT(i,r,n,t)))}function a_(n=1/0){return et(gn,n)}function lT(){return a_(1)}function On(...n){return lT()(ut(n,Wr(n)))}function Go(n){return new he(e=>{Ne(n()).subscribe(e)})}function Nc(...n){let e=qr(n),{args:t,keys:i}=Oh(n),r=new he(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,u=s;for(let d=0;d<s;d++){let f=!1;Ne(t[d]).subscribe(fe(o,m=>{f||(f=!0,u--),a[d]=m},()=>l--,void 0,()=>{(!l||!f)&&(u||o.next(i?Ph(i,a):a),o.complete())}))}});return e?r.pipe(ba(e)):r}var AL=["addListener","removeListener"],ML=["addEventListener","removeEventListener"],NL=["on","off"];function _n(n,e,t,i){if(le(t)&&(i=t,t=void 0),i)return _n(n,e,t).pipe(ba(i));let[r,o]=OL(n)?ML.map(s=>a=>n[s](e,a,t)):xL(n)?AL.map(cT(n,e)):RL(n)?NL.map(cT(n,e)):[];if(!r&&wa(n))return et(s=>_n(s,e,t))(Ne(n));if(!r)throw new TypeError("Invalid event target");return new he(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function cT(n,e){return t=>i=>n[t](e,i)}function xL(n){return le(n.addListener)&&le(n.removeListener)}function RL(n){return le(n.on)&&le(n.off)}function OL(n){return le(n.addEventListener)&&le(n.removeEventListener)}function xc(n=0,e,t=r_){let i=-1;return e!=null&&(Ih(e)?t=e:i=e),new he(r=>{let o=oT(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}var{isArray:PL}=Array;function kh(n){return n.length===1&&PL(n[0])?n[0]:n}function It(n,e){return we((t,i)=>{let r=0;t.subscribe(fe(i,o=>n.call(e,o,r++)&&i.next(o)))})}function Fh(...n){return n=kh(n),n.length===1?Ne(n[0]):new he(kL(n))}function kL(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push(Ne(n[i]).subscribe(fe(e,r=>{if(t){for(let o=0;o<t.length;o++)o!==i&&t[o].unsubscribe();t=null}e.next(r)})))}}function Rc(...n){let e=qr(n),t=kh(n);return t.length?new he(i=>{let r=t.map(()=>[]),o=t.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<t.length;s++)Ne(t[s]).subscribe(fe(i,a=>{if(r[s].push(a),r.every(l=>l.length)){let l=r.map(u=>u.shift());i.next(e?e(...l):l),r.some((u,d)=>!u.length&&o[d])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):Yt}function Yr(n){return we((e,t)=>{let i=null,r=!1,o;i=e.subscribe(fe(t,void 0,void 0,s=>{o=Ne(n(s,Yr(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function uT(n,e,t,i,r){return(o,s)=>{let a=t,l=e,u=0;o.subscribe(fe(s,d=>{let f=u++;l=a?n(l,d,f):(a=!0,d),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function Oi(n,e){return le(e)?et(n,e,1):et(n,1)}function Jr(n){return we((e,t)=>{let i=!1;e.subscribe(fe(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function dt(n){return n<=0?()=>Yt:we((e,t)=>{let i=0;e.subscribe(fe(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function dT(){return we((n,e)=>{n.subscribe(fe(e,lr))})}function Oc(n){return ce(()=>n)}function l_(n,e){return e?t=>On(e.pipe(dt(1),dT()),t.pipe(l_(n))):et((t,i)=>Ne(n(t,i)).pipe(dt(1),Oc(t)))}function c_(n,e=ya){let t=xc(n,e);return l_(()=>t)}function Lh(n=FL){return we((e,t)=>{let i=!1;e.subscribe(fe(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function FL(){return new dr}function u_(...n){return e=>On(e,ne(...n))}function hr(n){return we((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function hi(n,e){let t=arguments.length>=2;return i=>i.pipe(n?It((r,o)=>n(r,o,i)):gn,dt(1),t?Jr(e):Lh(()=>new dr))}function Ia(n){return n<=0?()=>Yt:we((e,t)=>{let i=[];e.subscribe(fe(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function d_(n,e){let t=arguments.length>=2;return i=>i.pipe(n?It((r,o)=>n(r,o,i)):gn,Ia(1),t?Jr(e):Lh(()=>new dr))}function h_(n,e){return we(uT(n,e,arguments.length>=2,!0))}function hT(n={}){let{connector:e=()=>new Ge,resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,l,u=0,d=!1,f=!1,m=()=>{a?.unsubscribe(),a=void 0},_=()=>{m(),s=l=void 0,d=f=!1},T=()=>{let M=s;_(),M?.unsubscribe()};return we((M,N)=>{u++,!f&&!d&&m();let B=l=l??e();N.add(()=>{u--,u===0&&!f&&!d&&(a=f_(T,r))}),B.subscribe(N),!s&&u>0&&(s=new cr({next:z=>B.next(z),error:z=>{f=!0,m(),a=f_(_,t,z),B.error(z)},complete:()=>{d=!0,m(),a=f_(_,i),B.complete()}}),Ne(M).subscribe(s))})(o)}}function f_(n,e,...t){if(e===!0){n();return}if(e===!1)return;let i=new cr({next:()=>{i.unsubscribe(),n()}});return Ne(e(...t)).subscribe(i)}function Vh(n,e,t){let i,r=!1;return n&&typeof n=="object"?{bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n:i=n??1/0,hT({connector:()=>new yh(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Bh(...n){let e=Wr(n);return we((t,i)=>{(e?On(n,t,e):On(n,t)).subscribe(i)})}function Lt(n,e){return we((t,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();t.subscribe(fe(i,l=>{r?.unsubscribe();let u=0,d=o++;Ne(n(l,d)).subscribe(r=fe(i,f=>i.next(e?e(l,f,d,u++):f),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Mt(n){return we((e,t)=>{Ne(n).subscribe(fe(t,()=>t.complete(),lr)),!t.closed&&e.subscribe(t)})}function tt(n,e,t){let i=le(n)||e||t?{next:n,error:e,complete:t}:n;return i?we((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(fe(o,l=>{var u;(u=i.next)===null||u===void 0||u.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var u;a=!1,(u=i.error)===null||u===void 0||u.call(i,l),o.error(l)},()=>{var l,u;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(u=i.finalize)===null||u===void 0||u.call(i)}))}):gn}function Pc(...n){let e=qr(n);return we((t,i)=>{let r=n.length,o=new Array(r),s=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)Ne(n[l]).subscribe(fe(i,u=>{o[l]=u,!a&&!s[l]&&(s[l]=!0,(a=s.every(gn))&&(s=null))},lr));t.subscribe(fe(i,l=>{if(a){let u=[l,...o];i.next(e?e(...u):u)}}))})}var LL="https://g.co/ng/security#xss",re=class extends Error{constructor(e,t){super(Ef(e,t)),this.code=e}};function Ef(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Qc(n){return{toString:n}.toString()}var Uh="__parameters__";function VL(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function qT(n,e,t){return Qc(()=>{let i=VL(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,u,d){let f=l.hasOwnProperty(Uh)?l[Uh]:Object.defineProperty(l,Uh,{value:[]})[Uh];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(s),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var kc=globalThis;function Qe(n){for(let e in n)if(n[e]===Qe)return e;throw Error("Could not find renamed property on target object.")}function BL(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function wn(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(wn).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function x_(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var UL=Qe({__forward_ref__:Qe});function Bi(n){return n.__forward_ref__=Bi,n.toString=function(){return wn(this())},n}function vn(n){return WT(n)?n():n}function WT(n){return typeof n=="function"&&n.hasOwnProperty(UL)&&n.__forward_ref__===Bi}function J(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ve(n){return{providers:n.providers||[],imports:n.imports||[]}}function bf(n){return fT(n,QT)||fT(n,YT)}function KT(n){return bf(n)!==null}function fT(n,e){return n.hasOwnProperty(e)?n[e]:null}function jL(n){let e=n&&(n[QT]||n[YT]);return e||null}function pT(n){return n&&(n.hasOwnProperty(mT)||n.hasOwnProperty($L))?n[mT]:null}var QT=Qe({\u0275prov:Qe}),mT=Qe({\u0275inj:Qe}),YT=Qe({ngInjectableDef:Qe}),$L=Qe({ngInjectorDef:Qe}),Z=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=J({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function JT(n){return n&&!!n.\u0275providers}var HL=Qe({\u0275cmp:Qe}),GL=Qe({\u0275dir:Qe}),zL=Qe({\u0275pipe:Qe}),qL=Qe({\u0275mod:Qe}),Xh=Qe({\u0275fac:Qe}),Fc=Qe({__NG_ELEMENT_ID__:Qe}),gT=Qe({__NG_ENV_ID__:Qe});function Lc(n){return typeof n=="string"?n:n==null?"":String(n)}function WL(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Lc(n)}function KL(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new re(-200,n)}function Nv(n,e){throw new re(-201,!1)}var Ee=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ee||{}),R_;function XT(){return R_}function An(n){let e=R_;return R_=n,e}function ZT(n,e,t){let i=bf(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&Ee.Optional)return null;if(e!==void 0)return e;Nv(n,"Injector")}var QL={},Vc=QL,O_="__NG_DI_FLAG__",Zh="ngTempTokenPath",YL="ngTokenPath",JL=/\n/gm,XL="\u0275",_T="__source",Sa;function ZL(){return Sa}function Xr(n){let e=Sa;return Sa=n,e}function e2(n,e=Ee.Default){if(Sa===void 0)throw new re(-203,!1);return Sa===null?ZT(n,void 0,e):Sa.get(n,e&Ee.Optional?null:void 0,e)}function te(n,e=Ee.Default){return(XT()||e2)(vn(n),e)}function V(n,e=Ee.Default){return te(n,If(e))}function If(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function P_(n){let e=[];for(let t=0;t<n.length;t++){let i=vn(n[t]);if(Array.isArray(i)){if(i.length===0)throw new re(900,!1);let r,o=Ee.Default;for(let s=0;s<i.length;s++){let a=i[s],l=t2(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}e.push(te(r,o))}else e.push(te(i))}return e}function eD(n,e){return n[O_]=e,n.prototype[O_]=e,n}function t2(n){return n[O_]}function n2(n,e,t,i){let r=n[Zh];throw e[_T]&&r.unshift(e[_T]),n.message=i2(`
`+n.message,r,t,i),n[YL]=r,n[Zh]=null,n}function i2(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==XL?n.slice(2):n;let r=wn(e);if(Array.isArray(e))r=e.map(wn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):wn(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(JL,`
  `)}`}var an=eD(qT("Optional"),8);var tD=eD(qT("SkipSelf"),4);function qo(n,e){let t=n.hasOwnProperty(Xh);return t?n[Xh]:null}function r2(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function o2(n){return n.flat(Number.POSITIVE_INFINITY)}function xv(n,e){n.forEach(t=>Array.isArray(t)?xv(t,e):e(t))}function nD(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ef(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function s2(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function a2(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let o=r-2;n[r]=n[o],r--}n[e]=t,n[e+1]=i}}function Rv(n,e,t){let i=Yc(n,e);return i>=0?n[i|1]=t:(i=~i,a2(n,i,e,t)),i}function p_(n,e){let t=Yc(n,e);if(t>=0)return n[t|1]}function Yc(n,e){return l2(n,e,1)}function l2(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}var Ma={},yn=[],Wo=new Z(""),iD=new Z("",-1),rD=new Z(""),tf=class{get(e,t=Vc){if(t===Vc){let i=new Error(`NullInjectorError: No provider for ${wn(e)}!`);throw i.name="NullInjectorError",i}return t}},oD=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(oD||{}),Fi=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Fi||{}),Nt=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Nt||{});function c2(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function k_(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{let o=r,s=t[++i];d2(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function u2(n){return n===3||n===4||n===6}function d2(n){return n.charCodeAt(0)===64}function Bc(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?vT(n,t,r,null,e[++i]):vT(n,t,r,null,null))}}return n}function vT(n,e,t,i,r){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(n[o+1]=r);return}else if(i===n[o+1]){n[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i),r!==null&&n.splice(o++,0,r)}var sD="ng-template";function h2(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&c2(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(Ov(n))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Ov(n){return n.type===4&&n.value!==sD}function f2(n,e,t){let i=n.type===4&&!t?sD:n.value;return e===i}function p2(n,e,t){let i=4,r=n.attrs,o=r!==null?_2(r):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!fi(i)&&!fi(l))return!1;if(s&&fi(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!f2(n,l,t)||l===""&&e.length===1){if(fi(i))return!1;s=!0}}else if(i&8){if(r===null||!h2(n,r,l,t)){if(fi(i))return!1;s=!0}}else{let u=e[++a],d=m2(l,r,Ov(n),t);if(d===-1){if(fi(i))return!1;s=!0;continue}if(u!==""){let f;if(d>o?f="":f=r[d+1].toLowerCase(),i&2&&u!==f){if(fi(i))return!1;s=!0}}}}return fi(i)||s}function fi(n){return(n&1)===0}function m2(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){let s=e[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return v2(e,n)}function aD(n,e,t=!1){for(let i=0;i<e.length;i++)if(p2(n,e[i],t))return!0;return!1}function g2(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function _2(n){for(let e=0;e<n.length;e++){let t=n[e];if(u2(t))return e}return n.length}function v2(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function y2(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function yT(n,e){return n?":not("+e.trim()+")":e}function w2(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(i&2){let a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!fi(s)&&(e+=yT(o,r),r=""),i=s,o=o||!fi(i);t++}return r!==""&&(e+=yT(o,r)),e}function E2(n){return n.map(w2).join(",")}function b2(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&e.push(o,n[++i]):r===8&&t.push(o);else{if(!fi(r))break;r=o}i++}return{attrs:e,classes:t}}function Se(n){return Qc(()=>{let e=hD(n),t=Pe(Q({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===oD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Fi.Emulated,styles:n.styles||yn,_:null,schemas:n.schemas||null,tView:null,id:""});fD(t);let i=n.dependencies;return t.directiveDefs=ET(i,!1),t.pipeDefs=ET(i,!0),t.id=T2(t),t})}function I2(n){return eo(n)||lD(n)}function C2(n){return n!==null}function Be(n){return Qc(()=>({type:n.type,bootstrap:n.bootstrap||yn,declarations:n.declarations||yn,imports:n.imports||yn,exports:n.exports||yn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function wT(n,e){if(n==null)return Ma;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,a=Nt.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(t[o]=a!==Nt.None?[i,a]:i,e[o]=s):t[o]=i}return t}function gt(n){return Qc(()=>{let e=hD(n);return fD(e),e})}function Pv(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function eo(n){return n[HL]||null}function lD(n){return n[GL]||null}function cD(n){return n[zL]||null}function uD(n){let e=eo(n)||lD(n)||cD(n);return e!==null?e.standalone:!1}function dD(n,e){let t=n[qL]||null;if(!t&&e===!0)throw new Error(`Type ${wn(n)} does not have '\u0275mod' property.`);return t}function hD(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Ma,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||yn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:wT(n.inputs,e),outputs:wT(n.outputs),debugInfo:null}}function fD(n){n.features?.forEach(e=>e(n))}function ET(n,e){if(!n)return null;let t=e?cD:I2;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(C2)}function T2(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function bn(n){return{\u0275providers:n}}function kv(...n){return{\u0275providers:pD(!0,n),\u0275fromNgModule:!0}}function pD(n,...e){let t=[],i=new Set,r,o=s=>{t.push(s)};return xv(e,s=>{let a=s;F_(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&mD(r,o),t}function mD(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];Fv(r,o=>{e(o,i)})}}function F_(n,e,t,i){if(n=vn(n),!n)return!1;let r=null,o=pT(n),s=!o&&eo(n);if(!o&&!s){let l=n.ngModule;if(o=pT(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=n}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)F_(u,e,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let u;try{xv(o.imports,d=>{F_(d,e,t,i)&&(u||=[],u.push(d))})}finally{}u!==void 0&&mD(u,e)}if(!a){let u=qo(r)||(()=>new r);e({provide:r,useFactory:u,deps:yn},r),e({provide:rD,useValue:r,multi:!0},r),e({provide:Wo,useValue:()=>te(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let u=n;Fv(l,d=>{e(d,u)})}}else return!1;return r!==n&&n.providers!==void 0}function Fv(n,e){for(let t of n)JT(t)&&(t=t.\u0275providers),Array.isArray(t)?Fv(t,e):e(t)}var D2=Qe({provide:String,useValue:Qe});function gD(n){return n!==null&&typeof n=="object"&&D2 in n}function S2(n){return!!(n&&n.useExisting)}function A2(n){return!!(n&&n.useFactory)}function Na(n){return typeof n=="function"}function M2(n){return!!n.useClass}var Cf=new Z(""),qh={},N2={},m_;function Tf(){return m_===void 0&&(m_=new tf),m_}var Jt=class{},Uc=class extends Jt{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,V_(e,s=>this.processProvider(s)),this.records.set(iD,Ca(void 0,this)),r.has("environment")&&this.records.set(Jt,Ca(void 0,this));let o=this.records.get(Cf);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(rD,yn,Ee.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ke(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ke(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Xr(this),i=An(void 0),r;try{return e()}finally{Xr(t),An(i)}}get(e,t=Vc,i=Ee.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(gT))return e[gT](this);i=If(i);let r,o=Xr(this),s=An(void 0);try{if(!(i&Ee.SkipSelf)){let l=this.records.get(e);if(l===void 0){let u=k2(e)&&bf(e);u&&this.injectableDefInScope(u)?l=Ca(L_(e),qh):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=i&Ee.Self?Tf():this.parent;return t=i&Ee.Optional&&t===Vc?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Zh]=a[Zh]||[]).unshift(wn(e)),o)throw a;return n2(a,e,"R3InjectorError",this.source)}else throw a}finally{An(s),Xr(o)}}resolveInjectorInitializers(){let e=ke(null),t=Xr(this),i=An(void 0),r;try{let o=this.get(Wo,yn,Ee.Self);for(let s of o)s()}finally{Xr(t),An(i),ke(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(wn(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new re(205,!1)}processProvider(e){e=vn(e);let t=Na(e)?e:vn(e&&e.provide),i=R2(e);if(!Na(e)&&e.multi===!0){let r=this.records.get(t);r||(r=Ca(void 0,qh,!0),r.factory=()=>P_(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=ke(null);try{return t.value===qh&&(t.value=N2,t.value=t.factory()),typeof t.value=="object"&&t.value&&P2(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ke(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=vn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function L_(n){let e=bf(n),t=e!==null?e.factory:qo(n);if(t!==null)return t;if(n instanceof Z)throw new re(204,!1);if(n instanceof Function)return x2(n);throw new re(204,!1)}function x2(n){if(n.length>0)throw new re(204,!1);let t=jL(n);return t!==null?()=>t.factory(n):()=>new n}function R2(n){if(gD(n))return Ca(void 0,n.useValue);{let e=_D(n);return Ca(e,qh)}}function _D(n,e,t){let i;if(Na(n)){let r=vn(n);return qo(r)||L_(r)}else if(gD(n))i=()=>vn(n.useValue);else if(A2(n))i=()=>n.useFactory(...P_(n.deps||[]));else if(S2(n))i=()=>te(vn(n.useExisting));else{let r=vn(n&&(n.useClass||n.provide));if(O2(n))i=()=>new r(...P_(n.deps));else return qo(r)||L_(r)}return i}function Ca(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function O2(n){return!!n.deps}function P2(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function k2(n){return typeof n=="function"||typeof n=="object"&&n instanceof Z}function V_(n,e){for(let t of n)Array.isArray(t)?V_(t,e):t&&JT(t)?V_(t.\u0275providers,e):e(t)}function yr(n,e){n instanceof Uc&&n.assertNotDestroyed();let t,i=Xr(n),r=An(void 0);try{return e()}finally{Xr(i),An(r)}}function F2(){return XT()!==void 0||ZL()!=null}function L2(n){return typeof n=="function"}var Pn=0,pe=1,ue=2,Vt=3,mi=4,Fn=5,Kn=6,jc=7,Qn=8,xa=9,Li=10,qe=11,$c=12,bT=13,ka=14,kn=15,Jc=16,Ta=17,pr=18,Df=19,vD=20,Zr=21,g_=22,Ko=23,xt=25,yD=1,Hc=6,mr=7,nf=8,Ra=9,En=10,Lv=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Lv||{});function fr(n){return Array.isArray(n)&&typeof n[yD]=="object"}function Ui(n){return Array.isArray(n)&&n[yD]===!0}function wD(n){return(n.flags&4)!==0}function Xc(n){return n.componentOffset>-1}function Vv(n){return(n.flags&1)===1}function to(n){return!!n.template}function ED(n){return(n[ue]&512)!==0}var B_=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function bD(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}function vi(){return ID}function ID(n){return n.type.prototype.ngOnChanges&&(n.setInput=B2),V2}vi.ngInherit=!0;function V2(){let n=TD(this),e=n?.current;if(e){let t=n.previous;if(t===Ma)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function B2(n,e,t,i,r){let o=this.declaredInputs[i],s=TD(n)||U2(n,{previous:Ma,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new B_(u&&u.currentValue,t,l===Ma),bD(n,e,r,t)}var CD="__ngSimpleChanges__";function TD(n){return n[CD]||null}function U2(n,e){return n[CD]=e}var IT=null;var Pi=function(n,e,t){IT?.(n,e,t)},j2="svg",$2="math",H2=!1;function G2(){return H2}function gi(n){for(;Array.isArray(n);)n=n[Pn];return n}function DD(n,e){return gi(e[n])}function Ln(n,e){return gi(e[n.index])}function Bv(n,e){return n.data[e]}function SD(n,e){return n[e]}function io(n,e){let t=e[n];return fr(t)?t:t[Pn]}function z2(n){return(n[ue]&4)===4}function Uv(n){return(n[ue]&128)===128}function q2(n){return Ui(n[Vt])}function rf(n,e){return e==null?null:n[e]}function AD(n){n[Ta]=0}function W2(n){n[ue]&1024||(n[ue]|=1024,Uv(n)&&Gc(n))}function K2(n,e){for(;n>0;)e=e[ka],n--;return e}function jv(n){return!!(n[ue]&9216||n[Ko]?.dirty)}function U_(n){n[Li].changeDetectionScheduler?.notify(1),jv(n)?Gc(n):n[ue]&64&&(G2()?(n[ue]|=1024,Gc(n)):n[Li].changeDetectionScheduler?.notify())}function Gc(n){n[Li].changeDetectionScheduler?.notify();let e=zc(n);for(;e!==null&&!(e[ue]&8192||(e[ue]|=8192,!Uv(e)));)e=zc(e)}function MD(n,e){if((n[ue]&256)===256)throw new re(911,!1);n[Zr]===null&&(n[Zr]=[]),n[Zr].push(e)}function Q2(n,e){if(n[Zr]===null)return;let t=n[Zr].indexOf(e);t!==-1&&n[Zr].splice(t,1)}function zc(n){let e=n[Vt];return Ui(e)?e[Vt]:e}var ve={lFrame:VD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Y2(){return ve.lFrame.elementDepthCount}function J2(){ve.lFrame.elementDepthCount++}function X2(){ve.lFrame.elementDepthCount--}function ND(){return ve.bindingsEnabled}function Fa(){return ve.skipHydrationRootTNode!==null}function Z2(n){return ve.skipHydrationRootTNode===n}function eV(n){ve.skipHydrationRootTNode=n}function tV(){ve.skipHydrationRootTNode=null}function Te(){return ve.lFrame.lView}function Rt(){return ve.lFrame.tView}function it(n){return ve.lFrame.contextLView=n,n[Qn]}function rt(n){return ve.lFrame.contextLView=null,n}function Vn(){let n=xD();for(;n!==null&&n.type===64;)n=n.parent;return n}function xD(){return ve.lFrame.currentTNode}function nV(){let n=ve.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Zc(n,e){let t=ve.lFrame;t.currentTNode=n,t.isParent=e}function RD(){return ve.lFrame.isParent}function OD(){ve.lFrame.isParent=!1}function iV(){return ve.lFrame.contextLView}function PD(){let n=ve.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function rV(){return ve.lFrame.bindingIndex}function oV(n){return ve.lFrame.bindingIndex=n}function La(){return ve.lFrame.bindingIndex++}function $v(n){let e=ve.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function sV(){return ve.lFrame.inI18n}function aV(n,e){let t=ve.lFrame;t.bindingIndex=t.bindingRootIndex=n,j_(e)}function lV(){return ve.lFrame.currentDirectiveIndex}function j_(n){ve.lFrame.currentDirectiveIndex=n}function cV(n){let e=ve.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function kD(){return ve.lFrame.currentQueryIndex}function Hv(n){ve.lFrame.currentQueryIndex=n}function uV(n){let e=n[pe];return e.type===2?e.declTNode:e.type===1?n[Fn]:null}function FD(n,e,t){if(t&Ee.SkipSelf){let r=e,o=n;for(;r=r.parent,r===null&&!(t&Ee.Host);)if(r=uV(o),r===null||(o=o[ka],r.type&10))break;if(r===null)return!1;e=r,n=o}let i=ve.lFrame=LD();return i.currentTNode=e,i.lView=n,!0}function Gv(n){let e=LD(),t=n[pe];ve.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function LD(){let n=ve.lFrame,e=n===null?null:n.child;return e===null?VD(n):e}function VD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function BD(){let n=ve.lFrame;return ve.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var UD=BD;function zv(){let n=BD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function dV(n){return(ve.lFrame.contextLView=K2(n,ve.lFrame.contextLView))[Qn]}function ro(){return ve.lFrame.selectedIndex}function Qo(n){ve.lFrame.selectedIndex=n}function Sf(){let n=ve.lFrame;return Bv(n.tView,n.selectedIndex)}function jD(){return ve.lFrame.currentNamespace}var $D=!0;function qv(){return $D}function ji(n){$D=n}function hV(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=ID(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Wv(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function Wh(n,e,t){HD(n,e,3,t)}function Kh(n,e,t,i){(n[ue]&3)===t&&HD(n,e,t,i)}function __(n,e){let t=n[ue];(t&3)===e&&(t&=16383,t+=1,n[ue]=t)}function HD(n,e,t,i){let r=i!==void 0?n[Ta]&65535:0,o=i??-1,s=e.length-1,a=0;for(let l=r;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(n[Ta]+=65536),(a<o||o==-1)&&(fV(n,t,e,l),n[Ta]=(n[Ta]&4294901760)+l+2),l++}function CT(n,e){Pi(4,n,e);let t=ke(null);try{e.call(n)}finally{ke(t),Pi(5,n,e)}}function fV(n,e,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=n[s];r?n[ue]>>14<n[Ta]>>16&&(n[ue]&3)===e&&(n[ue]+=16384,CT(a,o)):CT(a,o)}var Aa=-1,Yo=class{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function pV(n){return n instanceof Yo}function mV(n){return(n.flags&8)!==0}function gV(n){return(n.flags&16)!==0}function GD(n){return n!==Aa}function of(n){return n&32767}function _V(n){return n>>16}function sf(n,e){let t=_V(n),i=e;for(;t>0;)i=i[ka],t--;return i}var $_=!0;function af(n){let e=$_;return $_=n,e}var vV=256,zD=vV-1,qD=5,yV=0,ki={};function wV(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(Fc)&&(i=t[Fc]),i==null&&(i=t[Fc]=yV++);let r=i&zD,o=1<<r;e.data[n+(r>>qD)]|=o}function lf(n,e){let t=WD(n,e);if(t!==-1)return t;let i=e[pe];i.firstCreatePass&&(n.injectorIndex=e.length,v_(i.data,n),v_(e,null),v_(i.blueprint,null));let r=Kv(n,e),o=n.injectorIndex;if(GD(r)){let s=of(r),a=sf(r,e),l=a[pe].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=r,o}function v_(n,e){n.push(0,0,0,0,0,0,0,0,e)}function WD(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Kv(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=XD(r),i===null)return Aa;if(t++,r=r[ka],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return Aa}function H_(n,e,t){wV(n,e,t)}function KD(n,e,t){if(t&Ee.Optional||n!==void 0)return n;Nv(e,"NodeInjector")}function QD(n,e,t,i){if(t&Ee.Optional&&i===void 0&&(i=null),!(t&(Ee.Self|Ee.Host))){let r=n[xa],o=An(void 0);try{return r?r.get(e,i,t&Ee.Optional):ZT(e,i,t&Ee.Optional)}finally{An(o)}}return KD(i,e,t)}function YD(n,e,t,i=Ee.Default,r){if(n!==null){if(e[ue]&2048&&!(i&Ee.Self)){let s=CV(n,e,t,i,ki);if(s!==ki)return s}let o=JD(n,e,t,i,ki);if(o!==ki)return o}return QD(e,t,i,r)}function JD(n,e,t,i,r){let o=bV(t);if(typeof o=="function"){if(!FD(e,n,i))return i&Ee.Host?KD(r,t,i):QD(e,t,i,r);try{let s;if(s=o(i),s==null&&!(i&Ee.Optional))Nv(t);else return s}finally{UD()}}else if(typeof o=="number"){let s=null,a=WD(n,e),l=Aa,u=i&Ee.Host?e[kn][Fn]:null;for((a===-1||i&Ee.SkipSelf)&&(l=a===-1?Kv(n,e):e[a+8],l===Aa||!DT(i,!1)?a=-1:(s=e[pe],a=of(l),e=sf(l,e)));a!==-1;){let d=e[pe];if(TT(o,a,d.data)){let f=EV(a,e,t,s,i,u);if(f!==ki)return f}l=e[a+8],l!==Aa&&DT(i,e[pe].data[a+8]===u)&&TT(o,a,e)?(s=d,a=of(l),e=sf(l,e)):a=-1}}return r}function EV(n,e,t,i,r,o){let s=e[pe],a=s.data[n+8],l=i==null?Xc(a)&&$_:i!=s&&(a.type&3)!==0,u=r&Ee.Host&&o===a,d=Qh(a,s,t,l,u);return d!==null?Jo(e,s,d,a):ki}function Qh(n,e,t,i,r){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,u=n.directiveEnd,d=o>>20,f=i?a:a+d,m=r?a+d:u;for(let _=f;_<m;_++){let T=s[_];if(_<l&&t===T||_>=l&&T.type===t)return _}if(r){let _=s[l];if(_&&to(_)&&_.type===t)return l}return null}function Jo(n,e,t,i){let r=n[t],o=e.data;if(pV(r)){let s=r;s.resolving&&KL(WL(o[t]));let a=af(s.canSeeViewProviders);s.resolving=!0;let l,u=s.injectImpl?An(s.injectImpl):null,d=FD(n,i,Ee.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&hV(t,o[t],e)}finally{u!==null&&An(u),af(a),s.resolving=!1,UD()}}return r}function bV(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Fc)?n[Fc]:void 0;return typeof e=="number"?e>=0?e&zD:IV:e}function TT(n,e,t){let i=1<<n;return!!(t[e+(n>>qD)]&i)}function DT(n,e){return!(n&Ee.Self)&&!(n&Ee.Host&&e)}var zo=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return YD(this._tNode,this._lView,e,If(i),t)}};function IV(){return new zo(Vn(),Te())}function yi(n){return Qc(()=>{let e=n.prototype.constructor,t=e[Xh]||G_(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[Xh]||G_(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function G_(n){return WT(n)?()=>{let e=G_(vn(n));return e&&e()}:qo(n)}function CV(n,e,t,i,r){let o=n,s=e;for(;o!==null&&s!==null&&s[ue]&2048&&!(s[ue]&512);){let a=JD(o,s,t,i|Ee.Self,ki);if(a!==ki)return a;let l=o.parent;if(!l){let u=s[vD];if(u){let d=u.get(t,ki,i);if(d!==ki)return d}l=XD(s),s=s[ka]}o=l}return r}function XD(n){let e=n[pe],t=e.type;return t===2?e.declTNode:t===1?n[Fn]:null}function ST(n,e=null,t=null,i){let r=ZD(n,e,t,i);return r.resolveInjectorInitializers(),r}function ZD(n,e=null,t=null,i,r=new Set){let o=[t||yn,kv(n)];return i=i||(typeof n=="object"?void 0:wn(n)),new Uc(o,e||Tf(),i||null,r)}var Ot=(()=>{class n{static{this.THROW_IF_NOT_FOUND=Vc}static{this.NULL=new tf}static create(t,i){if(Array.isArray(t))return ST({name:""},i,t,"");{let r=t.name??"";return ST({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=J({token:n,providedIn:"any",factory:()=>te(iD)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();var TV="ngOriginalError";function y_(n){return n[TV]}var gr=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&y_(e);for(;t&&y_(t);)t=y_(t);return t||null}},eS=new Z("",{providedIn:"root",factory:()=>V(gr).handleError.bind(void 0)}),Qv=(()=>{class n{static{this.__NG_ELEMENT_ID__=DV}static{this.__NG_ENV_ID__=t=>t}}return n})(),z_=class extends Qv{constructor(e){super(),this._lView=e}onDestroy(e){return MD(this._lView,e),()=>Q2(this._lView,e)}};function DV(){return new z_(Te())}function SV(){return Va(Vn(),Te())}function Va(n,e){return new Xt(Ln(n,e))}var Xt=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=SV}}return n})();function AV(n){return n instanceof Xt?n.nativeElement:n}var q_=class extends Ge{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,F2()&&(this.destroyRef=V(Qv,{optional:!0})??void 0)}emit(e){let t=ke(null);try{super.next(e)}finally{ke(t)}}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=w_(o),r&&(r=w_(r)),s&&(s=w_(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof wt&&e.add(a),a}};function w_(n){return e=>{setTimeout(n,void 0,e)}}var Le=q_;function MV(){return this._results[Symbol.iterator]()}var W_=class n{get changes(){return this._changes??=new Le}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=MV)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=o2(e);(this._changesDetected=!r2(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},NV="ngSkipHydration",xV="ngskiphydration";function tS(n){let e=n.mergedAttrs;if(e===null)return!1;for(let t=0;t<e.length;t+=2){let i=e[t];if(typeof i=="number")return!1;if(typeof i=="string"&&i.toLowerCase()===xV)return!0}return!1}function nS(n){return n.hasAttribute(NV)}function cf(n){return(n.flags&128)===128}function RV(n){if(cf(n))return!0;let e=n.parent;for(;e;){if(cf(n)||tS(e))return!0;e=e.parent}return!1}var iS=new Map,OV=0;function PV(){return OV++}function kV(n){iS.set(n[Df],n)}function FV(n){iS.delete(n[Df])}var AT="__ngContext__";function Xo(n,e){fr(e)?(n[AT]=e[Df],kV(e)):n[AT]=e}function rS(n){return sS(n[$c])}function oS(n){return sS(n[mi])}function sS(n){for(;n!==null&&!Ui(n);)n=n[mi];return n}var K_;function aS(n){K_=n}function Af(){if(K_!==void 0)return K_;if(typeof document<"u")return document;throw new re(210,!1)}var Mf=new Z("",{providedIn:"root",factory:()=>LV}),LV="ng",Yv=new Z(""),Bt=new Z("",{providedIn:"platform",factory:()=>"unknown"});var Jv=new Z("",{providedIn:"root",factory:()=>Af().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function VV(){let n=new ts;return V(Bt)==="browser"&&(n.store=BV(Af(),V(Mf))),n}var ts=(()=>{class n{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=J({token:n,providedIn:"root",factory:VV})}get(t,i){return this.store[t]!==void 0?this.store[t]:i}set(t,i){this.store[t]=i}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(t,i){this.onSerializeCallbacks[t]=i}toJson(){for(let t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();function BV(n,e){let t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(i){console.warn("Exception while restoring TransferState for app "+e,i)}return{}}var lS="h",cS="b",Q_=function(n){return n.FirstChild="f",n.NextSibling="n",n}(Q_||{}),UV="e",jV="t",Xv="c",uS="x",uf="r",$V="i",HV="n",GV="d",zV="__nghData__",dS=zV,E_="ngh",qV="nghm",hS=()=>null;function WV(n,e,t=!1){let i=n.getAttribute(E_);if(i==null)return null;let[r,o]=i.split("|");if(i=t?o:r,!i)return null;let s=o?`|${o}`:"",a=t?r:s,l={};if(i!==""){let d=e.get(ts,null,{optional:!0});d!==null&&(l=d.get(dS,[])[Number(i)])}let u={data:l,firstChild:n.firstChild??null};return t&&(u.firstChild=n,Nf(u,0,n.nextSibling)),a?n.setAttribute(E_,a):n.removeAttribute(E_),u}function KV(){hS=WV}function Zv(n,e,t=!1){return hS(n,e,t)}function QV(n){let e=n._lView;return e[pe].type===2?null:(ED(e)&&(e=e[xt]),e)}function YV(n){return n.textContent?.replace(/\s/gm,"")}function JV(n){let e=Af(),t=e.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=YV(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),i,r=[];for(;i=t.nextNode();)r.push(i);for(let o of r)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function Nf(n,e,t){n.segmentHeads??={},n.segmentHeads[e]=t}function Y_(n,e){return n.segmentHeads?.[e]??null}function XV(n,e){let t=n.data,i=t[UV]?.[e]??null;return i===null&&t[Xv]?.[e]&&(i=e0(n,e)),i}function fS(n,e){return n.data[Xv]?.[e]??null}function e0(n,e){let t=fS(n,e)??[],i=0;for(let r of t)i+=r[uf]*(r[uS]??1);return i}function xf(n,e){if(typeof n.disconnectedNodes>"u"){let t=n.data[GV];n.disconnectedNodes=t?new Set(t):null}return!!n.disconnectedNodes?.has(e)}var jh=new Z(""),pS=!1,mS=new Z("",{providedIn:"root",factory:()=>pS}),ZV=new Z("");var J_=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${LL})`}};function Rf(n){return n instanceof J_?n.changingThisBreaksApplicationSecurity:n}var eB=/^>|^->|<!--|-->|--!>|<!-$/g,tB=/(<|>)/g,nB="\u200B$1\u200B";function iB(n){return n.replace(eB,e=>e.replace(tB,nB))}function t0(n){return n.ownerDocument.defaultView}function rB(n){return n.ownerDocument.body}function gS(n){return n instanceof Function?n():n}function $h(n){return(n??V(Ot)).get(Bt)==="browser"}var _r=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(_r||{}),oB;function n0(n,e){return oB(n,e)}function Da(n,e,t,i,r){if(i!=null){let o,s=!1;Ui(i)?o=i:fr(i)&&(s=!0,i=i[Pn]);let a=gi(i);n===0&&t!==null?r==null?wS(e,t,a):hf(e,t,a,r||null,!0):n===1&&t!==null?hf(e,t,a,r||null,!0):n===2?l0(e,a,s):n===3&&e.destroyNode(a),o!=null&&wB(e,n,o,t,r)}}function i0(n,e){return n.createText(e)}function sB(n,e,t){n.setValue(e,t)}function r0(n,e){return n.createComment(iB(e))}function Of(n,e,t){return n.createElement(e,t)}function aB(n,e){_S(n,e),e[Pn]=null,e[Fn]=null}function lB(n,e,t,i,r,o){i[Pn]=r,i[Fn]=e,Pf(n,i,t,1,r,o)}function _S(n,e){e[Li].changeDetectionScheduler?.notify(1),Pf(n,e,e[qe],2,null,null)}function cB(n){let e=n[$c];if(!e)return b_(n[pe],n);for(;e;){let t=null;if(fr(e))t=e[$c];else{let i=e[En];i&&(t=i)}if(!t){for(;e&&!e[mi]&&e!==n;)fr(e)&&b_(e[pe],e),e=e[Vt];e===null&&(e=n),fr(e)&&b_(e[pe],e),t=e&&e[mi]}e=t}}function uB(n,e,t,i){let r=En+i,o=t.length;i>0&&(t[r-1][mi]=e),i<o-En?(e[mi]=t[r],nD(t,En+i,e)):(t.push(e),e[mi]=null),e[Vt]=t;let s=e[Jc];s!==null&&t!==s&&dB(s,e);let a=e[pr];a!==null&&a.insertView(n),U_(e),e[ue]|=128}function dB(n,e){let t=n[Ra],r=e[Vt][Vt][kn];e[kn]!==r&&(n[ue]|=Lv.HasTransplantedViews),t===null?n[Ra]=[e]:t.push(e)}function vS(n,e){let t=n[Ra],i=t.indexOf(e);t.splice(i,1)}function df(n,e){if(n.length<=En)return;let t=En+e,i=n[t];if(i){let r=i[Jc];r!==null&&r!==n&&vS(r,i),e>0&&(n[t-1][mi]=i[mi]);let o=ef(n,En+e);aB(i[pe],i);let s=o[pr];s!==null&&s.detachView(o[pe]),i[Vt]=null,i[mi]=null,i[ue]&=-129}return i}function o0(n,e){if(!(e[ue]&256)){let t=e[qe];t.destroyNode&&Pf(n,e,t,3,null,null),cB(e)}}function b_(n,e){if(e[ue]&256)return;let t=ke(null);try{e[ue]&=-129,e[ue]|=256,e[Ko]&&VC(e[Ko]),fB(n,e),hB(n,e),e[pe].type===1&&e[qe].destroy();let i=e[Jc];if(i!==null&&Ui(e[Vt])){i!==e[Vt]&&vS(i,e);let r=e[pr];r!==null&&r.detachView(n)}FV(e)}finally{ke(t)}}function hB(n,e){let t=n.cleanup,i=e[jc];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[t[o+1]];t[o].call(s)}i!==null&&(e[jc]=null);let r=e[Zr];if(r!==null){e[Zr]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function fB(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof Yo)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];Pi(4,a,l);try{l.call(a)}finally{Pi(5,a,l)}}else{Pi(4,r,o);try{o.call(r)}finally{Pi(5,r,o)}}}}}function yS(n,e,t){return pB(n,e.parent,t)}function pB(n,e,t){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return t[Pn];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=n.data[i.directiveStart+r];if(o===Fi.None||o===Fi.Emulated)return null}return Ln(i,t)}}function hf(n,e,t,i,r){n.insertBefore(e,t,i,r)}function wS(n,e,t){n.appendChild(e,t)}function MT(n,e,t,i,r){i!==null?hf(n,e,t,i,r):wS(n,e,t)}function mB(n,e,t,i){n.removeChild(e,t,i)}function s0(n,e){return n.parentNode(e)}function gB(n,e){return n.nextSibling(e)}function ES(n,e,t){return vB(n,e,t)}function _B(n,e,t){return n.type&40?Ln(n,t):null}var vB=_B,NT;function a0(n,e,t,i){let r=yS(n,i,e),o=e[qe],s=i.parent||e[Fn],a=ES(s,i,e);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)MT(o,r,t[l],a,!1);else MT(o,r,t,a,!1);NT!==void 0&&NT(o,i,e,t,r)}function Yh(n,e){if(e!==null){let t=e.type;if(t&3)return Ln(e,n);if(t&4)return X_(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return Yh(n,i);{let r=n[e.index];return Ui(r)?X_(-1,r):gi(r)}}else{if(t&32)return n0(e,n)()||gi(n[e.index]);{let i=bS(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=zc(n[kn]);return Yh(r,i)}else return Yh(n,e.next)}}}return null}function bS(n,e){if(e!==null){let i=n[kn][Fn],r=e.projection;return i.projection[r]}return null}function X_(n,e){let t=En+n+1;if(t<e.length){let i=e[t],r=i[pe].firstChild;if(r!==null)return Yh(i,r)}return e[mr]}function l0(n,e,t){let i=s0(n,e);i&&mB(n,i,e,t)}function IS(n){n.textContent=""}function c0(n,e,t,i,r,o,s){for(;t!=null;){let a=i[t.index],l=t.type;if(s&&e===0&&(a&&Xo(gi(a),i),t.flags|=2),(t.flags&32)!==32)if(l&8)c0(n,e,t.child,i,r,o,!1),Da(e,n,r,a,o);else if(l&32){let u=n0(t,i),d;for(;d=u();)Da(e,n,r,d,o);Da(e,n,r,a,o)}else l&16?CS(n,e,i,t,r,o):Da(e,n,r,a,o);t=s?t.projectionNext:t.next}}function Pf(n,e,t,i,r,o){c0(t,i,n.firstChild,e,r,o,!1)}function yB(n,e,t){let i=e[qe],r=yS(n,t,e),o=t.parent||e[Fn],s=ES(o,t,e);CS(i,0,e,t,r,s)}function CS(n,e,t,i,r,o){let s=t[kn],l=s[Fn].projection[i.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let d=l[u];Da(e,n,r,d,o)}else{let u=l,d=s[Vt];cf(i)&&(u.flags|=128),c0(n,e,u,d,r,o,!0)}}function wB(n,e,t,i,r){let o=t[mr],s=gi(t);o!==s&&Da(e,n,i,o,r);for(let a=En;a<t.length;a++){let l=t[a];Pf(l[pe],l,n,e,i,o)}}function EB(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:_r.DashCase;r==null?n.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=_r.Important),n.setStyle(t,i,r,o))}}function bB(n,e,t){n.setAttribute(e,"style",t)}function TS(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function DS(n,e,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&k_(n,e,i),r!==null&&TS(n,e,r),o!==null&&bB(n,e,o)}var wi={};function I(n=1){SS(Rt(),Te(),ro()+n,!1)}function SS(n,e,t,i){if(!i)if((e[ue]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Wh(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Kh(e,o,0,t)}Qo(t)}function H(n,e=Ee.Default){let t=Te();if(t===null)return te(n,e);let i=Vn();return YD(i,t,vn(n),e)}function AS(n,e,t,i,r,o){let s=ke(null);try{let a=null;r&Nt.SignalBased&&(a=e[i][zg]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&Nt.HasDecoratorInputTransform&&(o=n.inputTransforms[i].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,i):bD(e,a,i,o)}finally{ke(s)}}function IB(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)Qo(~r);else{let o=r,s=t[++i],a=t[++i];aV(s,o);let l=e[o];a(2,l)}}}finally{Qo(-1)}}function kf(n,e,t,i,r,o,s,a,l,u,d){let f=e.blueprint.slice();return f[Pn]=r,f[ue]=i|4|128|8|64,(u!==null||n&&n[ue]&2048)&&(f[ue]|=2048),AD(f),f[Vt]=f[ka]=n,f[Qn]=t,f[Li]=s||n&&n[Li],f[qe]=a||n&&n[qe],f[xa]=l||n&&n[xa]||null,f[Fn]=o,f[Df]=PV(),f[Kn]=d,f[vD]=u,f[kn]=e.type==2?n[kn]:f,f}function eu(n,e,t,i,r){let o=n.data[e];if(o===null)o=CB(n,e,t,i,r),sV()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=nV();o.injectorIndex=s===null?-1:s.injectorIndex}return Zc(o,!0),o}function CB(n,e,t,i,r){let o=xD(),s=RD(),a=s?o:o&&o.parent,l=n.data[e]=xB(n,a,t,e,i,r);return n.firstChild===null&&(n.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function MS(n,e,t,i){if(t===0)return-1;let r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function NS(n,e,t,i,r){let o=ro(),s=i&2;try{Qo(-1),s&&e.length>xt&&SS(n,e,xt,!1),Pi(s?2:0,r),t(i,r)}finally{Qo(o),Pi(s?3:1,r)}}function xS(n,e,t){if(wD(e)){let i=ke(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{ke(i)}}}function RS(n,e,t){ND()&&(LB(n,e,t,Ln(t,e)),(t.flags&64)===64&&VS(n,e,t))}function OS(n,e,t=Ln){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(e,n):n[s];n[r++]=a}}}function PS(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=u0(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function u0(n,e,t,i,r,o,s,a,l,u,d){let f=xt+i,m=f+r,_=TB(f,m),T=typeof u=="function"?u():u;return _[pe]={type:n,blueprint:_,template:t,queries:null,viewQuery:a,declTNode:e,data:_.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:T,incompleteFirstPass:!1,ssrId:d}}function TB(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:wi);return t}function DB(n,e,t,i){let o=i.get(mS,pS)||t===Fi.ShadowDom,s=n.selectRootElement(e,o);return SB(s),s}function SB(n){kS(n)}var kS=()=>null;function AB(n){nS(n)?IS(n):JV(n)}function MB(){kS=AB}function NB(n,e,t,i){let r=jS(e);r.push(t),n.firstCreatePass&&$S(n).push(i,r.length-1)}function xB(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return Fa()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function xT(n,e,t,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;i??={};let a,l=Nt.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let u=o;if(r!==null){if(!r.hasOwnProperty(o))continue;u=r[o]}n===0?RT(i,t,u,a,l):RT(i,t,u,a)}return i}function RT(n,e,t,i,r){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,i):o=n[t]=[e,i],r!==void 0&&o.push(r)}function RB(n,e,t){let i=e.directiveStart,r=e.directiveEnd,o=n.data,s=e.attrs,a=[],l=null,u=null;for(let d=i;d<r;d++){let f=o[d],m=t?t.get(f):null,_=m?m.inputs:null,T=m?m.outputs:null;l=xT(0,f.inputs,d,l,_),u=xT(1,f.outputs,d,u,T);let M=l!==null&&s!==null&&!Ov(e)?KB(l,d,s):null;a.push(M)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}function OB(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function d0(n,e,t,i,r,o,s,a){let l=Ln(e,t),u=e.inputs,d;!a&&u!=null&&(d=u[i])?(h0(n,t,d,i,r),Xc(e)&&PB(t,e.index)):e.type&3?(i=OB(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(l,i,r)):e.type&12}function PB(n,e){let t=io(e,n);t[ue]&16||(t[ue]|=64)}function FS(n,e,t,i){if(ND()){let r=i===null?null:{"":-1},o=BB(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&LS(n,e,t,s,r,a),r&&UB(t,i,r)}t.mergedAttrs=Bc(t.mergedAttrs,t.attrs)}function LS(n,e,t,i,r,o){for(let u=0;u<i.length;u++)H_(lf(t,e),n,i[u].type);$B(t,n.data.length,i.length);for(let u=0;u<i.length;u++){let d=i[u];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,l=MS(n,e,i.length,null);for(let u=0;u<i.length;u++){let d=i[u];t.mergedAttrs=Bc(t.mergedAttrs,d.hostAttrs),HB(n,t,e,l,d),jB(l,d,r),d.contentQueries!==null&&(t.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(t.flags|=64);let f=d.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}RB(n,t,o)}function kB(n,e,t,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;FB(s)!=a&&s.push(a),s.push(t,i,o)}}function FB(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function LB(n,e,t,i){let r=t.directiveStart,o=t.directiveEnd;Xc(t)&&GB(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||lf(t,e),Xo(i,e);let s=t.initialInputs;for(let a=r;a<o;a++){let l=n.data[a],u=Jo(e,n,a,t);if(Xo(u,e),s!==null&&WB(e,a-r,u,l,t,s),to(l)){let d=io(t.index,e);d[Qn]=Jo(e,n,a,t)}}}function VS(n,e,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=lV();try{Qo(o);for(let a=i;a<r;a++){let l=n.data[a],u=e[a];j_(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&VB(l,u)}}finally{Qo(-1),j_(s)}}function VB(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function BB(n,e){let t=n.directiveRegistry,i=null,r=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(aD(e,s.selectors,!1))if(i||(i=[]),to(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let l=a.length;Z_(n,e,l)}else i.unshift(s),Z_(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function Z_(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function UB(n,e,t){if(e){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let o=t[e[r+1]];if(o==null)throw new re(-301,!1);i.push(e[r],o)}}}function jB(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;to(e)&&(t[""]=n)}}function $B(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function HB(n,e,t,i,r){n.data[i]=r;let o=r.factory||(r.factory=qo(r.type,!0)),s=new Yo(o,to(r),H);n.blueprint[i]=s,t[i]=s,kB(n,e,i,MS(n,t,r.hostVars,wi),r)}function GB(n,e,t){let i=Ln(e,n),r=PS(t),o=n[Li].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=Ff(n,kf(n,r,null,s,i,e,null,o.createRenderer(i,t),null,null,null));n[e.index]=a}function zB(n,e,t,i,r,o){let s=Ln(n,e);qB(e[qe],s,o,n.value,t,i,r)}function qB(n,e,t,i,r,o,s){if(o==null)n.removeAttribute(e,r,t);else{let a=s==null?Lc(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}function WB(n,e,t,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],u=s[a++],d=s[a++],f=s[a++];AS(i,t,l,u,d,f)}}function KB(n,e,t){let i=null,r=0;for(;r<t.length;){let o=t[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){i===null&&(i=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],t[r+1]);break}}r+=2}return i}function BS(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function US(n,e){let t=n.contentQueries;if(t!==null){let i=ke(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=n.data[s];Hv(o),a.contentQueries(2,e[s],s)}}}finally{ke(i)}}}function Ff(n,e){return n[$c]?n[bT][mi]=e:n[$c]=e,n[bT]=e,e}function ev(n,e,t){Hv(0);let i=ke(null);try{e(n,t)}finally{ke(i)}}function jS(n){return n[jc]||(n[jc]=[])}function $S(n){return n.cleanup||(n.cleanup=[])}function HS(n,e){let t=n[xa],i=t?t.get(gr,null):null;i&&i.handleError(e)}function h0(n,e,t,i,r){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],l=t[o++],u=e[s],d=n.data[s];AS(d,u,i,a,l,r)}}function GS(n,e,t){let i=DD(e,n);sB(n[qe],i,t)}function QB(n,e){let t=io(e,n),i=t[pe];YB(i,t);let r=t[Pn];r!==null&&t[Kn]===null&&(t[Kn]=Zv(r,t[xa])),f0(i,t,t[Qn])}function YB(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function f0(n,e,t){Gv(e);try{let i=n.viewQuery;i!==null&&ev(1,i,t);let r=n.template;r!==null&&NS(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[pr]?.finishViewCreation(n),n.staticContentQueries&&US(n,e),n.staticViewQueries&&ev(2,n.viewQuery,t);let o=n.components;o!==null&&JB(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[ue]&=-5,zv()}}function JB(n,e){for(let t=0;t<e.length;t++)QB(n,e[t])}function zS(n,e,t,i){let r=ke(null);try{let o=e.tView,a=n[ue]&4096?4096:16,l=kf(n,o,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),u=n[e.index];l[Jc]=u;let d=n[pr];return d!==null&&(l[pr]=d.createEmbeddedView(o)),f0(o,l,t),l}finally{ke(r)}}function XB(n,e){let t=En+e;if(t<n.length)return n[t]}function tv(n,e){return!e||e.firstChild===null||cf(n)}function qS(n,e,t,i=!0){let r=e[pe];if(uB(r,e,n,t),i){let s=X_(t,n),a=e[qe],l=s0(a,n[mr]);l!==null&&lB(r,n[Fn],a,e,l,s)}let o=e[Kn];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ZB(n,e){let t=df(n,e);return t!==void 0&&o0(t[pe],t),t}function ff(n,e,t,i,r=!1){for(;t!==null;){let o=e[t.index];o!==null&&i.push(gi(o)),Ui(o)&&eU(o,i);let s=t.type;if(s&8)ff(n,e,t.child,i);else if(s&32){let a=n0(t,e),l;for(;l=a();)i.push(l)}else if(s&16){let a=bS(e,t);if(Array.isArray(a))i.push(...a);else{let l=zc(e[kn]);ff(l[pe],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function eU(n,e){for(let t=En;t<n.length;t++){let i=n[t],r=i[pe].firstChild;r!==null&&ff(i[pe],i,r,e)}n[mr]!==n[Pn]&&e.push(n[mr])}var WS=[];function tU(n){return n[Ko]??nU(n)}function nU(n){let e=WS.pop()??Object.create(rU);return e.lView=n,e}function iU(n){n.lView[Ko]!==n&&(n.lView=null,WS.push(n))}var rU=Pe(Q({},kC),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Gc(n.lView)},consumerOnSignalRead(){this.lView[Ko]=this}}),KS=100;function QS(n,e=!0,t=0){let i=n[Li],r=i.rendererFactory,o=!1;o||r.begin?.();try{oU(n,t)}catch(s){throw e&&HS(n,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function oU(n,e){nv(n,e);let t=0;for(;jv(n);){if(t===KS)throw new re(103,!1);t++,nv(n,1)}}function sU(n,e,t,i){let r=e[ue];if((r&256)===256)return;let o=!1;!o&&e[Li].inlineEffectRunner?.flush(),Gv(e);let s=null,a=null;!o&&aU(n)&&(a=tU(e),s=FC(a));try{AD(e),oV(n.bindingStartIndex),t!==null&&NS(n,e,t,2,i);let l=(r&3)===3;if(!o)if(l){let f=n.preOrderCheckHooks;f!==null&&Wh(e,f,null)}else{let f=n.preOrderHooks;f!==null&&Kh(e,f,0,null),__(e,0)}if(lU(e),YS(e,0),n.contentQueries!==null&&US(n,e),!o)if(l){let f=n.contentCheckHooks;f!==null&&Wh(e,f)}else{let f=n.contentHooks;f!==null&&Kh(e,f,1),__(e,1)}IB(n,e);let u=n.components;u!==null&&XS(e,u,0);let d=n.viewQuery;if(d!==null&&ev(2,d,i),!o)if(l){let f=n.viewCheckHooks;f!==null&&Wh(e,f)}else{let f=n.viewHooks;f!==null&&Kh(e,f,2),__(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[g_]){for(let f of e[g_])f();e[g_]=null}o||(e[ue]&=-73)}catch(l){throw Gc(e),l}finally{a!==null&&(LC(a,s),iU(a)),zv()}}function aU(n){return n.type!==2}function YS(n,e){for(let t=rS(n);t!==null;t=oS(t))for(let i=En;i<t.length;i++){let r=t[i];JS(r,e)}}function lU(n){for(let e=rS(n);e!==null;e=oS(e)){if(!(e[ue]&Lv.HasTransplantedViews))continue;let t=e[Ra];for(let i=0;i<t.length;i++){let r=t[i],o=r[Vt];W2(r)}}}function cU(n,e,t){let i=io(e,n);JS(i,t)}function JS(n,e){Uv(n)&&nv(n,e)}function nv(n,e){let i=n[pe],r=n[ue],o=n[Ko],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&qg(o)),o&&(o.dirty=!1),n[ue]&=-9217,s)sU(i,n,i.template,n[Qn]);else if(r&8192){YS(n,1);let a=i.components;a!==null&&XS(n,a,1)}}function XS(n,e,t){for(let i=0;i<e.length;i++)cU(n,e[i],t)}function p0(n){for(n[Li].changeDetectionScheduler?.notify();n;){n[ue]|=64;let e=zc(n);if(ED(n)&&!e)return n;n=e}return null}var Zo=class{get rootNodes(){let e=this._lView,t=e[pe];return ff(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Qn]}set context(e){this._lView[Qn]=e}get destroyed(){return(this._lView[ue]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Vt];if(Ui(e)){let t=e[nf],i=t?t.indexOf(this):-1;i>-1&&(df(e,i),ef(t,i))}this._attachedToViewContainer=!1}o0(this._lView[pe],this._lView)}onDestroy(e){MD(this._lView,e)}markForCheck(){p0(this._cdRefInjectingView||this._lView)}detach(){this._lView[ue]&=-129}reattach(){U_(this._lView),this._lView[ue]|=128}detectChanges(){this._lView[ue]|=1024,QS(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,_S(this._lView[pe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new re(902,!1);this._appRef=e,U_(this._lView)}},Vi=(()=>{class n{static{this.__NG_ELEMENT_ID__=hU}}return n})(),uU=Vi,dU=class extends uU{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=zS(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new Zo(r)}};function hU(){return Lf(Vn(),Te())}function Lf(n,e){return n.type&4?new dU(e,n,Va(n,e)):null}function ZS(n){let e=n[Hc]??[],i=n[Vt][qe];for(let r of e)fU(r,i);n[Hc]=yn}function fU(n,e){let t=0,i=n.firstChild;if(i){let r=n.data[uf];for(;t<r;){let o=i.nextSibling;l0(e,i,!1),i=o,t++}}}function eA(n){ZS(n);for(let e=En;e<n.length;e++)pf(n[e])}function pU(n){let e=n[Kn]?.i18nNodes;if(e){let t=n[qe];for(let i of e.values())l0(t,i,!1);n[Kn].i18nNodes=void 0}}function pf(n){pU(n);let e=n[pe];for(let t=xt;t<e.bindingStartIndex;t++)if(Ui(n[t])){let i=n[t];eA(i)}else fr(n[t])&&pf(n[t])}function mU(n){let e=n._views;for(let t of e){let i=QV(t);if(i!==null&&i[Pn]!==null)if(fr(i))pf(i);else{let r=i[Pn];pf(r),eA(i)}}}var gU=new RegExp(`^(\\d+)*(${cS}|${lS})*(.*)`);function _U(n){let e=n.match(gU),[t,i,r,o]=e,s=i?parseInt(i,10):r,a=[];for(let[l,u,d]of o.matchAll(/(f|n)(\d*)/g)){let f=parseInt(d,10)||1;a.push(u,f)}return[s,...a]}function vU(n){return!n.prev&&n.parent?.type===8}function I_(n){return n.index-xt}function yU(n,e){let t=n.i18nNodes;if(t){let i=t.get(e);return i&&t.delete(e),i}return null}function Vf(n,e,t,i){let r=I_(i),o=yU(n,r);if(!o){let s=n.data[HV];if(s?.[r])o=EU(s[r],t);else if(e.firstChild===i)o=n.firstChild;else{let a=i.prev===null,l=i.prev??i.parent;if(vU(i)){let u=I_(i.parent);o=Y_(n,u)}else{let u=Ln(l,t);if(a)o=u.firstChild;else{let d=I_(l),f=Y_(n,d);if(l.type===2&&f){let _=e0(n,d)+1;o=Bf(_,f)}else o=u.nextSibling}}}}return o}function Bf(n,e){let t=e;for(let i=0;i<n;i++)t=t.nextSibling;return t}function wU(n,e){let t=n;for(let i=0;i<e.length;i+=2){let r=e[i],o=e[i+1];for(let s=0;s<o;s++)switch(r){case Q_.FirstChild:t=t.firstChild;break;case Q_.NextSibling:t=t.nextSibling;break}}return t}function EU(n,e){let[t,...i]=_U(n),r;if(t===lS)r=e[kn][Pn];else if(t===cS)r=rB(e[kn][Pn]);else{let o=Number(t);r=gi(e[o+xt])}return wU(r,i)}function bU(n,e){let t=[];for(let i of e)for(let r=0;r<(i[uS]??1);r++){let o={data:i,firstChild:null};i[uf]>0&&(o.firstChild=n,n=Bf(i[uf],n)),t.push(o)}return[n,t]}var tA=()=>null;function IU(n,e){let t=n[Hc];return!e||t===null||t.length===0?null:t[0].data[$V]===e?t.shift():(ZS(n),null)}function CU(){tA=IU}function iv(n,e){return tA(n,e)}var rv=class{},ov=class{},mf=class{};function TU(n){let e=Error(`No component factory found for ${wn(n)}.`);return e[DU]=n,e}var DU="ngComponent";var sv=class{resolveComponentFactory(e){throw TU(e)}},Uf=(()=>{class n{static{this.NULL=new sv}}return n})(),qc=class{},wr=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>SU()}}return n})();function SU(){let n=Te(),e=Vn(),t=io(e.index,n);return(fr(t)?t:n)[qe]}var AU=(()=>{class n{static{this.\u0275prov=J({token:n,providedIn:"root",factory:()=>null})}}return n})(),C_={};var OT=new Set;function Ba(n){OT.has(n)||(OT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function PT(...n){}function MU(){let n=typeof kc.requestAnimationFrame=="function",e=kc[n?"requestAnimationFrame":"setTimeout"],t=kc[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}var Ce=class n{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Le(!1),this.onMicrotaskEmpty=new Le(!1),this.onStable=new Le(!1),this.onError=new Le(!1),typeof Zone>"u")throw new re(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=MU().nativeRequestAnimationFrame,RU(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new re(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new re(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,NU,PT,PT);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},NU={};function m0(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function xU(n){n.isCheckStableRunning||n.lastRequestAnimationFrameId!==-1||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(kc,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,av(n),n.isCheckStableRunning=!0,m0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),av(n))}function RU(n){let e=()=>{xU(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(OU(a))return t.invokeTask(r,o,s,a);try{return kT(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),FT(n)}},onInvoke:(t,i,r,o,s,a,l)=>{try{return kT(n),t.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),FT(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,av(n),m0(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function av(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.lastRequestAnimationFrameId!==-1?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function kT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function FT(n){n._nesting--,m0(n)}function OU(n){return!Array.isArray(n)||n.length!==1?!1:n[0].data?.__ignore_ng_zone__===!0}var nA=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of t)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=J({token:n,providedIn:"root",factory:()=>new n})}}return n})();function lv(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=x_(r,a);else if(o==2){let l=a,u=e[++s];i=x_(i,l+": "+u+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}var gf=class extends Uf{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=eo(e);return new Oa(t,this.ngModule)}};function LT(n){let e=[];for(let t in n){if(!n.hasOwnProperty(t))continue;let i=n[t];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:t})}return e}function PU(n){let e=n.toLowerCase();return e==="svg"?j2:e==="math"?$2:null}var cv=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=If(i);let r=this.injector.get(e,C_,i);return r!==C_||t===C_?r:this.parentInjector.get(e,t,i)}},Oa=class extends mf{get inputs(){let e=this.componentDef,t=e.inputTransforms,i=LT(e.inputs);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return LT(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=E2(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=ke(null);try{r=r||this.ngModule;let s=r instanceof Jt?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new cv(e,s):e,l=a.get(qc,null);if(l===null)throw new re(407,!1);let u=a.get(AU,null),d=a.get(nA,null),f=a.get(rv,null),m={rendererFactory:l,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:f},_=l.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",M=i?DB(_,i,this.componentDef.encapsulation,a):Of(_,T,PU(T)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let B=null;M!==null&&(B=Zv(M,a,!0));let z=u0(0,null,null,1,0,null,null,null,null,null,null),$=kf(null,z,null,N,null,null,m,_,a,null,B);Gv($);let W,oe;try{let Y=this.componentDef,S,w=null;Y.findHostDirectiveDefs?(S=[],w=new Map,Y.findHostDirectiveDefs(Y,S,w),S.push(Y)):S=[Y];let b=kU($,M),D=FU(b,M,Y,S,$,m,_);oe=Bv(z,xt),M&&BU(_,Y,M,i),t!==void 0&&UU(oe,this.ngContentSelectors,t),W=VU(D,Y,S,w,$,[jU]),f0(z,$,null)}finally{zv()}return new uv(this.componentType,W,Va(oe,$),$,oe)}finally{ke(o)}}},uv=class extends ov{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Zo(r,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;h0(o[pe],o,r,e,t),this.previousInputValues.set(e,t);let s=io(this._tNode.index,o);p0(s)}}get injector(){return new zo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function kU(n,e){let t=n[pe],i=xt;return n[i]=e,eu(t,i,2,"#host",null)}function FU(n,e,t,i,r,o,s){let a=r[pe];LU(i,n,e,s);let l=null;e!==null&&(l=Zv(e,r[xa]));let u=o.rendererFactory.createRenderer(e,t),d=16;t.signals?d=4096:t.onPush&&(d=64);let f=kf(r,PS(t),null,d,r[n.index],n,o,u,null,null,l);return a.firstCreatePass&&Z_(a,n,i.length-1),Ff(r,f),r[n.index]=f}function LU(n,e,t,i){for(let r of n)e.mergedAttrs=Bc(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(lv(e,e.mergedAttrs,!0),t!==null&&DS(i,t,e))}function VU(n,e,t,i,r,o){let s=Vn(),a=r[pe],l=Ln(s,r);LS(a,r,s,t,null,i);for(let d=0;d<t.length;d++){let f=s.directiveStart+d,m=Jo(r,a,f,s);Xo(m,r)}VS(a,r,s),l&&Xo(l,r);let u=Jo(r,a,s.directiveStart+s.componentOffset,s);if(n[Qn]=r[Qn]=u,o!==null)for(let d of o)d(u,e);return xS(a,s,r),u}function BU(n,e,t,i){if(i)k_(n,t,["ng-version","17.3.12"]);else{let{attrs:r,classes:o}=b2(e.selectors[0]);r&&k_(n,t,r),o&&o.length>0&&TS(n,t,o.join(" "))}}function UU(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let o=t[r];i.push(o!=null?Array.from(o):null)}}function jU(){let n=Vn();Wv(Te()[pe],n)}var $i=(()=>{class n{static{this.__NG_ELEMENT_ID__=$U}}return n})();function $U(){let n=Vn();return rA(n,Te())}var HU=$i,iA=class extends HU{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Va(this._hostTNode,this._hostLView)}get injector(){return new zo(this._hostTNode,this._hostLView)}get parentInjector(){let e=Kv(this._hostTNode,this._hostLView);if(GD(e)){let t=sf(e,this._hostLView),i=of(e),r=t[pe].data[i+8];return new zo(r,t)}else return new zo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=VT(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-En}createEmbeddedView(e,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=iv(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,tv(this._hostTNode,s)),a}createComponent(e,t,i,r,o){let s=e&&!L2(e),a;if(s)a=t;else{let T=t||{};a=T.index,i=T.injector,r=T.projectableNodes,o=T.environmentInjector||T.ngModuleRef}let l=s?e:new Oa(eo(e)),u=i||this.parentInjector;if(!o&&l.ngModule==null){let M=(s?u:this.parentInjector).get(Jt,null);M&&(o=M)}let d=eo(l.componentType??{}),f=iv(this._lContainer,d?.id??null),m=f?.firstChild??null,_=l.create(u,r,m,o);return this.insertImpl(_.hostView,a,tv(this._hostTNode,f)),_}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(q2(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[Vt],u=new iA(l,l[Fn],l[Vt]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return qS(s,r,o,i),e.attachToViewContainerRef(),nD(T_(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=VT(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=df(this._lContainer,t);i&&(ef(T_(this._lContainer),t),o0(i[pe],i))}detach(e){let t=this._adjustIndex(e,-1),i=df(this._lContainer,t);return i&&ef(T_(this._lContainer),t)!=null?new Zo(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function VT(n){return n[nf]}function T_(n){return n[nf]||(n[nf]=[])}function rA(n,e){let t,i=e[n.index];return Ui(i)?t=i:(t=BS(i,e,null,n),e[n.index]=t,Ff(e,t)),oA(t,e,n,i),new iA(t,n,e)}function GU(n,e){let t=n[qe],i=t.createComment(""),r=Ln(e,n),o=s0(t,r);return hf(t,o,i,gB(t,r),!1),i}var oA=sA,g0=()=>!1;function zU(n,e,t){return g0(n,e,t)}function sA(n,e,t,i){if(n[mr])return;let r;t.type&8?r=gi(i):r=GU(e,t),n[mr]=r}function qU(n,e,t){if(n[mr]&&n[Hc])return!0;let i=t[Kn],r=e.index-xt;if(!i||RV(e)||xf(i,r))return!1;let s=Y_(i,r),a=i.data[Xv]?.[r],[l,u]=bU(s,a);return n[mr]=l,n[Hc]=u,!0}function WU(n,e,t,i){g0(n,t,e)||sA(n,e,t,i)}function KU(){oA=WU,g0=qU}var dv=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},hv=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)_0(e,t).matches!==null&&this.queries[t].setDirty()}},fv=class{constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=nj(e):this.predicate=e}},pv=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},mv=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,t,QU(t,o)),this.matchTNodeWithReadOption(e,t,Qh(t,e,o,!1,!1))}else i===Vi?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Qh(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Xt||r===$i||r===Vi&&t.type&4)this.addMatch(t.index,-2);else{let o=Qh(t,e,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function QU(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function YU(n,e){return n.type&11?Va(n,e):n.type&4?Lf(n,e):null}function JU(n,e,t,i){return t===-1?YU(e,n):t===-2?XU(n,e,i):Jo(n,n[pe],t,e)}function XU(n,e,t){if(t===Xt)return Va(e,n);if(t===Vi)return Lf(e,n);if(t===$i)return rA(e,n)}function aA(n,e,t,i){let r=e[pr].queries[i];if(r.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let u=s[l];if(u<0)a.push(null);else{let d=o[u];a.push(JU(e,d,s[l+1],t.metadata.read))}}r.matches=a}return r.matches}function gv(n,e,t,i){let r=n.queries.getByIndex(t),o=r.matches;if(o!==null){let s=aA(n,e,r,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let u=o[a+1],d=e[-l];for(let f=En;f<d.length;f++){let m=d[f];m[Jc]===m[Vt]&&gv(m[pe],m,u,i)}if(d[Ra]!==null){let f=d[Ra];for(let m=0;m<f.length;m++){let _=f[m];gv(_[pe],_,u,i)}}}}}return i}function ZU(n,e){return n[pr].queries[e].queryList}function ej(n,e,t){let i=new W_((t&4)===4);return NB(n,e,i,i.destroy),(e[pr]??=new hv).queries.push(new dv(i))-1}function tj(n,e,t){let i=Rt();return i.firstCreatePass&&(ij(i,new fv(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),ej(i,Te(),e)}function nj(n){return n.split(",").map(e=>e.trim())}function ij(n,e,t){n.queries===null&&(n.queries=new pv),n.queries.track(new mv(e,t))}function _0(n,e){return n.queries.getByIndex(e)}function rj(n,e){let t=n[pe],i=_0(t,e);return i.crossesNgTemplate?gv(t,n,e,[]):aA(t,n,i,e)}function oj(n){return typeof n=="function"&&n[zg]!==void 0}function lA(n){return oj(n)&&typeof n.set=="function"}function sj(n){return Object.getPrototypeOf(n.prototype).constructor}function Yn(n){let e=sj(n.type),t=!0,i=[n];for(;e;){let r;if(to(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new re(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let s=n;s.inputs=Hh(n.inputs),s.inputTransforms=Hh(n.inputTransforms),s.declaredInputs=Hh(n.declaredInputs),s.outputs=Hh(n.outputs);let a=r.hostBindings;a&&dj(n,a);let l=r.viewQuery,u=r.contentQueries;if(l&&cj(n,l),u&&uj(n,u),aj(n,r),BL(n.outputs,r.outputs),to(r)&&r.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Yn&&(t=!1)}}e=Object.getPrototypeOf(e)}lj(i)}function aj(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];if(i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function lj(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Bc(r.hostAttrs,t=Bc(t,r.hostAttrs))}}function Hh(n){return n===Ma?{}:n===yn?[]:n}function cj(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function uj(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,o)=>{e(i,r,o),t(i,r,o)}:n.contentQueries=e}function dj(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}var no=class{},Wc=class{};var _v=class extends no{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gf(this);let r=dD(e);this._bootstrapComponents=gS(r.bootstrap),this._r3Injector=ZD(e,t,[{provide:no,useValue:this},{provide:Uf,useValue:this.componentFactoryResolver},...i],wn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},vv=class extends Wc{constructor(e){super(),this.moduleType=e}create(e){return new _v(this.moduleType,e,[])}};var _f=class extends no{constructor(e){super(),this.componentFactoryResolver=new gf(this),this.instance=null;let t=new Uc([...e.providers,{provide:no,useValue:this},{provide:Uf,useValue:this.componentFactoryResolver}],e.parent||Tf(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function v0(n,e,t=null){return new _f({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var ns=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new bt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function cA(n){return fj(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function hj(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function fj(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function pj(n,e,t){return n[e]=t}function _i(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function mj(n,e,t,i){let r=_i(n,e,t);return _i(n,e+1,i)||r}function tu(n){return(n.flags&32)===32}function gj(n,e,t,i,r,o,s,a,l){let u=e.consts,d=eu(e,n,4,s||null,rf(u,a));FS(e,t,d,rf(u,l)),Wv(e,d);let f=d.tView=u0(2,d,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function Ie(n,e,t,i,r,o,s,a){let l=Te(),u=Rt(),d=n+xt,f=u.firstCreatePass?gj(d,u,l,e,t,i,r,o,s):u.data[d];Zc(f,!1);let m=uA(u,l,f,n);qv()&&a0(u,l,m,f),Xo(m,l);let _=BS(m,l,m,f);return l[d]=_,Ff(l,_),zU(_,f,l),Vv(f)&&RS(u,l,f),s!=null&&OS(l,f,a),Ie}var uA=dA;function dA(n,e,t,i){return ji(!0),e[qe].createComment("")}function _j(n,e,t,i){let r=e[Kn],o=!r||Fa()||tu(t)||xf(r,i);if(ji(o),o)return dA(n,e,t,i);let s=r.data[jV]?.[i]??null;s!==null&&t.tView!==null&&t.tView.ssrId===null&&(t.tView.ssrId=s);let a=Vf(r,n,e,t);Nf(r,i,a);let l=e0(r,i);return Bf(l,a)}function vj(){uA=_j}function Ua(n,e,t,i){let r=Te(),o=La();if(_i(r,o,e)){let s=Rt(),a=Sf();zB(a,r,n,e,t,i)}return Ua}function yj(n,e,t,i){return _i(n,La(),t)?e+Lc(t)+i:wi}function wj(n,e,t,i,r,o){let s=rV(),a=mj(n,s,t,r);return $v(2),a?e+Lc(t)+i+Lc(r)+o:wi}function Gh(n,e){return n<<17|e<<2}function es(n){return n>>17&32767}function Ej(n){return(n&2)==2}function bj(n,e){return n&131071|e<<17}function yv(n){return n|2}function Pa(n){return(n&131068)>>2}function D_(n,e){return n&-131069|e<<2}function Ij(n){return(n&1)===1}function wv(n){return n|1}function Cj(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=es(s),l=Pa(s);n[i]=t;let u=!1,d;if(Array.isArray(t)){let f=t;d=f[1],(d===null||Yc(f,d)>0)&&(u=!0)}else d=t;if(r)if(l!==0){let m=es(n[a+1]);n[i+1]=Gh(m,a),m!==0&&(n[m+1]=D_(n[m+1],i)),n[a+1]=bj(n[a+1],i)}else n[i+1]=Gh(a,0),a!==0&&(n[a+1]=D_(n[a+1],i)),a=i;else n[i+1]=Gh(l,0),a===0?a=i:n[l+1]=D_(n[l+1],i),l=i;u&&(n[i+1]=yv(n[i+1])),BT(n,d,i,!0),BT(n,d,i,!1),Tj(e,d,n,i,o),s=Gh(a,l),o?e.classBindings=s:e.styleBindings=s}function Tj(n,e,t,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Yc(o,e)>=0&&(t[i+1]=wv(t[i+1]))}function BT(n,e,t,i){let r=n[t+1],o=e===null,s=i?es(r):Pa(r),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],u=n[s+1];Dj(l,e)&&(a=!0,n[s+1]=i?wv(u):yv(u)),s=i?es(u):Pa(u)}a&&(n[t+1]=i?yv(r):wv(r))}function Dj(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Yc(n,e)>=0:!1}var pi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Sj(n){return n.substring(pi.key,pi.keyEnd)}function Aj(n){return Mj(n),hA(n,fA(n,0,pi.textEnd))}function hA(n,e){let t=pi.textEnd;return t===e?-1:(e=pi.keyEnd=Nj(n,pi.key=e,t),fA(n,e,t))}function Mj(n){pi.key=0,pi.keyEnd=0,pi.value=0,pi.valueEnd=0,pi.textEnd=n.length}function fA(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Nj(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function se(n,e,t){let i=Te(),r=La();if(_i(i,r,e)){let o=Rt(),s=Sf();d0(o,s,i,n,e,i[qe],t,!1)}return se}function Ev(n,e,t,i,r){let o=e.inputs,s=r?"class":"style";h0(n,t,o[s],s,i)}function Ei(n,e){return Rj(n,e,null,!0),Ei}function ja(n){Oj(Bj,xj,n,!0)}function xj(n,e){for(let t=Aj(e);t>=0;t=hA(e,t))Rv(n,Sj(e),!0)}function Rj(n,e,t,i){let r=Te(),o=Rt(),s=$v(2);if(o.firstUpdatePass&&mA(o,n,s,i),e!==wi&&_i(r,s,e)){let a=o.data[ro()];gA(o,a,r,r[qe],n,r[s+1]=jj(e,t),i,s)}}function Oj(n,e,t,i){let r=Rt(),o=$v(2);r.firstUpdatePass&&mA(r,null,o,i);let s=Te();if(t!==wi&&_i(s,o,t)){let a=r.data[ro()];if(_A(a,i)&&!pA(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=x_(l,t||"")),Ev(r,a,s,t,i)}else Uj(r,a,s,s[qe],s[o+1],s[o+1]=Vj(n,e,t),i,o)}}function pA(n,e){return e>=n.expandoStartIndex}function mA(n,e,t,i){let r=n.data;if(r[t+1]===null){let o=r[ro()],s=pA(n,t);_A(o,i)&&e===null&&!s&&(e=!1),e=Pj(r,o,e,i),Cj(r,o,e,t,s,i)}}function Pj(n,e,t,i){let r=cV(n),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=S_(null,n,e,t,i),t=Kc(t,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==r)if(t=S_(r,n,e,t,i),o===null){let l=kj(n,e,i);l!==void 0&&Array.isArray(l)&&(l=S_(null,n,e,l[1],i),l=Kc(l,e.attrs,i),Fj(n,e,i,l))}else o=Lj(n,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),t}function kj(n,e,t){let i=t?e.classBindings:e.styleBindings;if(Pa(i)!==0)return n[es(i)]}function Fj(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[es(r)]=i}function Lj(n,e,t){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=Kc(i,s,t)}return Kc(i,e.attrs,t)}function S_(n,e,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],i=Kc(i,o.hostAttrs,r),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function Kc(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Rv(n,s,t?!0:e[++o]))}return n===void 0?null:n}function Vj(n,e,t){if(t==null||t==="")return yn;let i=[],r=Rf(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function Bj(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&Rv(n,i,t)}function Uj(n,e,t,i,r,o,s,a){r===wi&&(r=yn);let l=0,u=0,d=0<r.length?r[0]:null,f=0<o.length?o[0]:null;for(;d!==null||f!==null;){let m=l<r.length?r[l+1]:void 0,_=u<o.length?o[u+1]:void 0,T=null,M;d===f?(l+=2,u+=2,m!==_&&(T=f,M=_)):f===null||d!==null&&d<f?(l+=2,T=d):(u+=2,T=f,M=_),T!==null&&gA(n,e,t,i,T,M,s,a),d=l<r.length?r[l]:null,f=u<o.length?o[u]:null}}function gA(n,e,t,i,r,o,s,a){if(!(e.type&3))return;let l=n.data,u=l[a+1],d=Ij(u)?UT(l,e,t,r,Pa(u),s):void 0;if(!vf(d)){vf(o)||Ej(u)&&(o=UT(l,null,t,r,a,s));let f=DD(ro(),t);EB(i,s,f,r,o)}}function UT(n,e,t,i,r,o){let s=e===null,a;for(;r>0;){let l=n[r],u=Array.isArray(l),d=u?l[1]:l,f=d===null,m=t[r+1];m===wi&&(m=f?yn:void 0);let _=f?p_(m,i):d===i?m:void 0;if(u&&!vf(_)&&(_=p_(l,i)),vf(_)&&(a=_,s))return a;let T=n[r+1];r=s?es(T):Pa(T)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=p_(l,i))}return a}function vf(n){return n!==void 0}function jj(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=wn(Rf(n)))),n}function _A(n,e){return(n.flags&(e?8:16))!==0}function vA(n,e,t){Ba("NgControlFlow");let i=Te(),r=La(),o=$j(i,xt+n),s=0;if(_i(i,r,e)){let a=ke(null);try{if(ZB(o,s),e!==-1){let l=Hj(i[pe],xt+e),u=iv(o,l.tView.ssrId),d=zS(i,l,t,{dehydratedView:u});qS(o,d,s,tv(l,u))}}finally{ke(a)}}else{let a=XB(o,s);a!==void 0&&(a[Qn]=t)}}function $j(n,e){return n[e]}function Hj(n,e){return Bv(n,e)}function Gj(n,e,t,i,r,o){let s=e.consts,a=rf(s,r),l=eu(e,n,2,i,a);return FS(e,t,l,rf(s,o)),l.attrs!==null&&lv(l,l.attrs,!1),l.mergedAttrs!==null&&lv(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function g(n,e,t,i){let r=Te(),o=Rt(),s=xt+n,a=r[qe],l=o.firstCreatePass?Gj(s,o,r,e,t,i):o.data[s],u=yA(o,r,l,a,e,n);r[s]=u;let d=Vv(l);return Zc(l,!0),DS(a,u,l),!tu(l)&&qv()&&a0(o,r,u,l),Y2()===0&&Xo(u,r),J2(),d&&(RS(o,r,l),xS(o,l,r)),i!==null&&OS(r,l),g}function y(){let n=Vn();RD()?OD():(n=n.parent,Zc(n,!1));let e=n;Z2(e)&&tV(),X2();let t=Rt();return t.firstCreatePass&&(Wv(t,n),wD(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&mV(e)&&Ev(t,e,Te(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&gV(e)&&Ev(t,e,Te(),e.stylesWithoutHost,!1),y}function U(n,e,t,i){return g(n,e,t,i),y(),U}var yA=(n,e,t,i,r,o)=>(ji(!0),Of(i,r,jD()));function zj(n,e,t,i,r,o){let s=e[Kn],a=!s||Fa()||tu(t)||xf(s,o);if(ji(a),a)return Of(i,r,jD());let l=Vf(s,n,e,t);return fS(s,o)&&Nf(s,o,l.nextSibling),s&&(tS(t)||nS(l))&&Xc(t)&&(eV(t),IS(l)),l}function qj(){yA=zj}var Wj=(n,e,t,i)=>(ji(!0),r0(e[qe],""));function Kj(n,e,t,i){let r,o=e[Kn],s=!o||Fa()||tu(t);if(ji(s),s)return r0(e[qe],"");let a=Vf(o,n,e,t),l=XV(o,i);return Nf(o,i,a),r=Bf(l,a),r}function Qj(){Wj=Kj}function Zt(){return Te()}function y0(n,e,t){let i=Te(),r=La();if(_i(i,r,e)){let o=Rt(),s=Sf();d0(o,s,i,n,e,i[qe],t,!0)}return y0}var yf="en-US";var Yj=yf;function Jj(n){typeof n=="string"&&(Yj=n.toLowerCase().replace(/_/g,"-"))}function wA(n,e,t){let i=n[qe];switch(t){case Node.COMMENT_NODE:return r0(i,e);case Node.TEXT_NODE:return i0(i,e);case Node.ELEMENT_NODE:return Of(i,e,null)}}var Xj=(n,e,t,i)=>(ji(!0),wA(n,t,i));function Zj(n,e,t,i){return ji(!0),wA(n,t,i)}function e3(){Xj=Zj}function me(n,e,t,i){let r=Te(),o=Rt(),s=Vn();return EA(o,r,r[qe],s,n,e,i),me}function t3(n,e,t,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=e[jc],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function EA(n,e,t,i,r,o,s){let a=Vv(i),u=n.firstCreatePass&&$S(n),d=e[Qn],f=jS(e),m=!0;if(i.type&3||s){let M=Ln(i,e),N=s?s(M):M,B=f.length,z=s?W=>s(gi(W[i.index])):i.index,$=null;if(!s&&a&&($=t3(n,e,r,i.index)),$!==null){let W=$.__ngLastListenerFn__||$;W.__ngNextListenerFn__=o,$.__ngLastListenerFn__=o,m=!1}else{o=$T(i,e,d,o,!1);let W=t.listen(N,r,o);f.push(o,W),u&&u.push(r,z,B,B+1)}}else o=$T(i,e,d,o,!1);let _=i.outputs,T;if(m&&_!==null&&(T=_[r])){let M=T.length;if(M)for(let N=0;N<M;N+=2){let B=T[N],z=T[N+1],oe=e[B][z].subscribe(o),Y=f.length;f.push(o,oe),u&&u.push(r,i.index,Y,-(Y+1))}}}function jT(n,e,t,i){let r=ke(null);try{return Pi(6,e,t),t(i)!==!1}catch(o){return HS(n,o),!1}finally{Pi(7,e,t),ke(r)}}function $T(n,e,t,i,r){return function o(s){if(s===Function)return i;let a=n.componentOffset>-1?io(n.index,e):e;p0(a);let l=jT(e,t,i,s),u=o.__ngNextListenerFn__;for(;u;)l=jT(e,t,u,s)&&l,u=u.__ngNextListenerFn__;return r&&l===!1&&s.preventDefault(),l}}function $e(n=1){return dV(n)}function n3(n,e){let t=null,i=g2(n);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){t=r;continue}if(i===null?aD(n,o,!0):y2(i,o))return r}return t}function jf(n){let e=Te()[kn][Fn];if(!e.projection){let t=n?n.length:1,i=e.projection=s2(t,null),r=i.slice(),o=e.child;for(;o!==null;){let s=n?n3(o,n):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function $f(n,e=0,t){let i=Te(),r=Rt(),o=eu(r,xt+n,16,null,t||null);o.projection===null&&(o.projection=e),OD(),(!i[Kn]||Fa())&&(o.flags&32)!==32&&yB(r,i,o)}function oo(n,e,t){tj(n,e,t)}function Er(n){let e=Te(),t=Rt(),i=kD();Hv(i+1);let r=_0(t,i);if(n.dirty&&z2(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=rj(e,i);n.reset(o,AV),n.notifyOnChanges()}return!0}return!1}function br(){return ZU(Te(),kD())}function i3(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function $a(n){let e=iV();return SD(e,xt+n)}function E(n,e=""){let t=Te(),i=Rt(),r=n+xt,o=i.firstCreatePass?eu(i,r,1,e,null):i.data[r],s=bA(i,t,o,e,n);t[r]=s,qv()&&a0(i,t,s,o),Zc(o,!1)}var bA=(n,e,t,i,r)=>(ji(!0),i0(e[qe],i));function r3(n,e,t,i,r){let o=e[Kn],s=!o||Fa()||tu(t)||xf(o,r);return ji(s),s?i0(e[qe],i):Vf(o,n,e,t)}function o3(){bA=r3}function F(n){return ie("",n,""),F}function ie(n,e,t){let i=Te(),r=yj(i,n,e,t);return r!==wi&&GS(i,ro(),r),ie}function nu(n,e,t,i,r){let o=Te(),s=wj(o,n,e,t,i,r);return s!==wi&&GS(o,ro(),s),nu}function w0(n,e,t){lA(e)&&(e=e());let i=Te(),r=La();if(_i(i,r,e)){let o=Rt(),s=Sf();d0(o,s,i,n,e,i[qe],t,!1)}return w0}function IA(n,e){let t=lA(n);return t&&n.set(e),t}function E0(n,e){let t=Te(),i=Rt(),r=Vn();return EA(i,t,t[qe],r,n,e),E0}function s3(n,e,t){let i=Rt();if(i.firstCreatePass){let r=to(n);bv(t,i.data,i.blueprint,r,!0),bv(e,i.data,i.blueprint,r,!1)}}function bv(n,e,t,i,r){if(n=vn(n),Array.isArray(n))for(let o=0;o<n.length;o++)bv(n[o],e,t,i,r);else{let o=Rt(),s=Te(),a=Vn(),l=Na(n)?n:vn(n.provide),u=_D(n),d=a.providerIndexes&1048575,f=a.directiveStart,m=a.providerIndexes>>20;if(Na(n)||!n.multi){let _=new Yo(u,r,H),T=M_(l,e,r?d:d+m,f);T===-1?(H_(lf(a,s),o,l),A_(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(_),s.push(_)):(t[T]=_,s[T]=_)}else{let _=M_(l,e,d+m,f),T=M_(l,e,d,d+m),M=_>=0&&t[_],N=T>=0&&t[T];if(r&&!N||!r&&!M){H_(lf(a,s),o,l);let B=c3(r?l3:a3,t.length,r,i,u);!r&&N&&(t[T].providerFactory=B),A_(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(B),s.push(B)}else{let B=CA(t[r?T:_],u,!r&&i);A_(o,n,_>-1?_:T,B)}!r&&i&&N&&t[T].componentProviders++}}}function A_(n,e,t,i){let r=Na(e),o=M2(e);if(r||o){let l=(o?vn(e.useClass):e).prototype.ngOnDestroy;if(l){let u=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let d=u.indexOf(t);d===-1?u.push(t,[i,l]):u[d+1].push(i,l)}else u.push(t,l)}}}function CA(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function M_(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function a3(n,e,t,i){return Iv(this.multi,[])}function l3(n,e,t,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Jo(t,t[pe],this.providerFactory.index,i);o=a.slice(0,s),Iv(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Iv(r,o);return o}function Iv(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function c3(n,e,t,i,r){let o=new Yo(n,t,H);return o.multi=[],o.index=e,o.componentProviders=0,CA(o,r,i&&!t),o}function Hi(n,e=[]){return t=>{t.providersResolver=(i,r)=>s3(i,r?r(n):n,e)}}var u3=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=pD(!1,t.type),r=i.length>0?v0([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=J({token:n,providedIn:"environment",factory:()=>new n(te(Jt))})}}return n})();function Ae(n){Ba("NgStandalone"),n.getStandaloneInjector=e=>e.get(u3).getOrCreateStandaloneInjector(n)}function Hf(n,e,t,i){return TA(Te(),PD(),n,e,t,i)}function d3(n,e){let t=n[e];return t===wi?void 0:t}function TA(n,e,t,i,r,o){let s=e+t;return _i(n,s,r)?pj(n,s+1,o?i.call(o,r):i(r)):d3(n,s+1)}function x(n,e){let t=Rt(),i,r=n+xt;t.firstCreatePass?(i=h3(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=qo(i.type,!0)),s,a=An(H);try{let l=af(!1),u=o();return af(l),i3(t,Te(),r,u),u}finally{An(a)}}function h3(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function R(n,e,t){let i=n+xt,r=Te(),o=SD(r,i);return f3(r,i)?TA(r,PD(),e,o.transform,t,o):o.transform(t)}function f3(n,e){return n[pe].data[e].pure}function so(n,e){return Lf(n,e)}var vr=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},DA=new vr("17.3.12"),Gf=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var SA=new Z("");function is(n){return!!n&&typeof n.then=="function"}function AA(n){return!!n&&typeof n.subscribe=="function"}var MA=new Z(""),NA=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=V(MA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=r();if(is(o))t.push(o);else if(AA(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ha=new Z("");function p3(){BC(()=>{throw new re(600,!1)})}function m3(n){return n.isBoundToModule}function g3(n,e,t){try{let i=t();return is(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}var bi=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=V(eS),this.afterRenderEffectManager=V(nA),this.externalTestViews=new Set,this.beforeRender=new Ge,this.afterTick=new Ge,this.componentTypes=[],this.components=[],this.isStable=V(ns).hasPendingTasks.pipe(ce(t=>!t)),this._injector=V(Jt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){let r=t instanceof mf;if(!this._injector.get(NA).done){let m=!r&&uD(t),_=!1;throw new re(405,_)}let s;r?s=t:s=this._injector.get(Uf).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=m3(s)?void 0:this._injector.get(no),l=i||s.selector,u=s.create(Ot.NULL,[],l,a),d=u.location.nativeElement,f=u.injector.get(SA,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),N_(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new re(101,!1);let i=ke(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(r){this.internalErrorHandler(r)}finally{this.afterTick.next(),this._runningTick=!1,ke(i)}}detectChangesInAttachedViews(t){let i=0,r=this.afterRenderEffectManager;for(;;){if(i===KS)throw new re(103,!1);if(t){let o=i===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)_3(s,o,a)}if(i++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Cv(o))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Cv(o))))break}}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;N_(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let i=this._injector.get(Ha,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>N_(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new re(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function N_(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var zh;function b0(n){zh??=new WeakMap;let e=zh.get(n);if(e)return e;let t=n.isStable.pipe(hi(i=>i)).toPromise().then(()=>{});return zh.set(n,t),n.onDestroy(()=>zh?.delete(n)),t}function _3(n,e,t){!e&&!Cv(n)||v3(n,t,e)}function Cv(n){return jv(n)}function v3(n,e,t){let i;t?(i=0,n[ue]|=1024):n[ue]&64?i=0:i=1,QS(n,e,i)}var Tv=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},I0=(()=>{class n{compileModuleSync(t){return new vv(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=dD(t),o=gS(r.declarations).reduce((s,a)=>{let l=eo(a);return l&&s.push(new Oa(l)),s},[]);return new Tv(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var y3=(()=>{class n{constructor(){this.zone=V(Ce),this.applicationRef=V(bi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function w3(n){return[{provide:Ce,useFactory:n},{provide:Wo,multi:!0,useFactory:()=>{let e=V(y3,{optional:!0});return()=>e.initialize()}},{provide:Wo,multi:!0,useFactory:()=>{let e=V(C3);return()=>{e.initialize()}}},{provide:eS,useFactory:E3}]}function E3(){let n=V(Ce),e=V(gr);return t=>n.runOutsideAngular(()=>e.handleError(t))}function b3(n){let e=w3(()=>new Ce(I3(n)));return bn([[],e])}function I3(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var C3=(()=>{class n{constructor(){this.subscription=new wt,this.initialized=!1,this.zone=V(Ce),this.pendingTasks=V(ns)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function T3(){return typeof $localize<"u"&&$localize.locale||yf}var zf=new Z("",{providedIn:"root",factory:()=>V(zf,Ee.Optional|Ee.SkipSelf)||T3()});var xA=new Z("");var Jh=null;function D3(n=[],e){return Ot.create({name:e,providers:[{provide:Cf,useValue:"platform"},{provide:xA,useValue:new Set([()=>Jh=null])},...n]})}function S3(n=[]){if(Jh)return Jh;let e=D3(n);return Jh=e,p3(),A3(e),e}function A3(n){n.get(Yv,null)?.forEach(t=>t())}var Jn=(()=>{class n{static{this.__NG_ELEMENT_ID__=M3}}return n})();function M3(n){return N3(Vn(),Te(),(n&16)===16)}function N3(n,e,t){if(Xc(n)&&!t){let i=io(n.index,e);return new Zo(i,i)}else if(n.type&47){let i=e[kn];return new Zo(i,e)}return null}var Dv=class{constructor(){}supports(e){return cA(e)}create(e){return new Sv(e)}},x3=(n,e)=>e,Sv=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||x3}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){let s=!i||t&&t.currentIndex<HT(i,r,o)?t:i,a=HT(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,s.previousIndex==null)r++;else{o||(o=[]);let u=a-r,d=l-r;if(u!=d){for(let m=0;m<u;m++){let _=m<o.length?o[m]:o[m]=0,T=_+m;d<=T&&T<u&&(o[m]=_+1)}let f=s.previousIndex;o[f]=d-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!cA(e))throw new re(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),i=!0):(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else r=0,hj(e,a=>{s=this._trackByFn(r,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new Av(t,i),o,r)),e}_verifyReinsertion(e,t,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new wf),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new wf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Av=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Mv=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},wf=class{constructor(){this.map=new Map}put(e){let t=e.trackById,i=this.map.get(t);i||(i=new Mv,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function HT(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function GT(){return new C0([new Dv])}var C0=(()=>{class n{static{this.\u0275prov=J({token:n,providedIn:"root",factory:GT})}constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||GT()),deps:[[n,new tD,new an]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new re(901,!1)}}return n})();function RA(n){try{let{rootComponent:e,appProviders:t,platformProviders:i}=n,r=S3(i),o=[b3(),...t||[]],a=new _f({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(Ce);return l.run(()=>{a.resolveInjectorInitializers();let u=a.get(gr,null),d;l.runOutsideAngular(()=>{d=l.onError.subscribe({next:_=>{u.handleError(_)}})});let f=()=>a.destroy(),m=r.get(xA);return m.add(f),a.onDestroy(()=>{d.unsubscribe(),m.delete(f)}),g3(u,l,()=>{let _=a.get(NA);return _.runInitializers(),_.donePromise.then(()=>{let T=a.get(zf,yf);Jj(T||yf);let M=a.get(bi);return e!==void 0&&M.bootstrap(e),M})})})}catch(e){return Promise.reject(e)}}var zT=!1,R3=!1;function O3(){zT||(zT=!0,KV(),qj(),o3(),Qj(),vj(),KU(),CU(),MB(),e3())}function P3(n,e){return b0(n)}function OA(){return bn([{provide:jh,useFactory:()=>{let n=!0;return $h()&&(n=!!V(ts,{optional:!0})?.get(dS,null)),n&&Ba("NgHydration"),n}},{provide:Wo,useValue:()=>{R3=!!V(ZV,{optional:!0}),$h()&&V(jh)&&(k3(),O3())},multi:!0},{provide:mS,useFactory:()=>$h()&&V(jh)},{provide:Ha,useFactory:()=>{if($h()&&V(jh)){let n=V(bi),e=V(Ot);return()=>{P3(n,e).then(()=>{mU(n)})}}return()=>{}},multi:!0}])}function k3(){let n=Af(),e;for(let t of n.body.childNodes)if(t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===qV){e=t;break}if(!e)throw new re(-507,!1)}function qf(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Wf(n,e){let t=eo(n),i=e.elementInjector||Tf();return new Oa(t).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}var UA=null;function Ir(){return UA}function jA(n){UA??=n}var Kf=class{};var Et=new Z(""),$A=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=J({token:n,factory:()=>V(V3),providedIn:"platform"})}}return n})();var V3=(()=>{class n extends $A{constructor(){super(),this._doc=V(Et),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ir().getBaseHref(this._doc)}onPopState(t){let i=Ir().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=Ir().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=J({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function HA(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function PA(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,i=t-(n[t-1]==="/"?1:0);return n.slice(0,i)+n.slice(t)}function rs(n){return n&&n[0]!=="?"?"?"+n:n}var Qf=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=J({token:n,factory:()=>V(GA),providedIn:"root"})}}return n})(),B3=new Z(""),GA=(()=>{class n extends Qf{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??V(Et).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return HA(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+rs(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+rs(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+rs(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(te($A),te(B3,8))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var iu=(()=>{class n{constructor(t){this._subject=new Le,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=$3(PA(kA(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+rs(i))}normalize(t){return n.stripTrailingSlash(j3(this._basePath,kA(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rs(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rs(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=rs}static{this.joinWithSlash=HA}static{this.stripTrailingSlash=PA}static{this.\u0275fac=function(i){return new(i||n)(te(Qf))}}static{this.\u0275prov=J({token:n,factory:()=>U3(),providedIn:"root"})}}return n})();function U3(){return new iu(te(Qf))}function j3(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function kA(n){return n.replace(/\/index.html$/,"")}function $3(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function Yf(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var T0=/\s+/,FA=[],zA=(()=>{class n{constructor(t,i){this._ngEl=t,this._renderer=i,this.initialClasses=FA,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(T0):FA}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(T0):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(T0).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||n)(H(Xt),H(wr))}}static{this.\u0275dir=gt({type:n,selectors:[["","ngClass",""]],inputs:{klass:[Nt.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var D0=class{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Jf=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new D0(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),LA(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);LA(o,r)})}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(H($i),H(Vi),H(C0))}}static{this.\u0275dir=gt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function LA(n,e){n.context.$implicit=e.item}var za=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new S0,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){VA("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){VA("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(H($i),H(Vi))}}static{this.\u0275dir=gt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),S0=class{constructor(){this.$implicit=null,this.ngIf=null}};function VA(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${wn(e)}'.`)}var Bn=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Ve({})}}return n})(),A0="browser",H3="server";function ao(n){return n===A0}function ru(n){return n===H3}var Ga=class{};var au=class{},ep=class{},Xn=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var N0=class{encodeKey(e){return qA(e)}encodeValue(e){return qA(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function z3(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var q3=/%(\d[a-f0-9])/gi,W3={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function qA(n){return encodeURIComponent(n).replace(q3,(e,t)=>W3[t]??e)}function Xf(n){return`${n}`}var lo=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new N0,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=z3(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(Xf):[Xf(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Xf(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(Xf(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var x0=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function K3(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function WA(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function KA(n){return typeof Blob<"u"&&n instanceof Blob}function QA(n){return typeof FormData<"u"&&n instanceof FormData}function Q3(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var su=class n{constructor(e,t,i,r){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(K3(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Xn,this.context??=new x0,!this.params)this.params=new lo,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||WA(this.body)||KA(this.body)||QA(this.body)||Q3(this.body)?this.body:this.body instanceof lo?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||QA(this.body)?null:KA(this.body)?this.body.type||null:WA(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof lo?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,u=e.headers||this.headers,d=e.params||this.params,f=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((m,_)=>m.set(_,e.setHeaders[_]),u)),e.setParams&&(d=Object.keys(e.setParams).reduce((m,_)=>m.set(_,e.setParams[_]),d)),new n(t,i,s,{params:d,headers:u,context:f,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},qa=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(qa||{}),lu=class{constructor(e,t=np.Ok,i="OK"){this.headers=e.headers||new Xn,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},R0=class n extends lu{constructor(e={}){super(e),this.type=qa.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Wa=class n extends lu{constructor(e={}){super(e),this.type=qa.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},tp=class extends lu{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},np=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(np||{});function M0(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var os=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof su)o=t;else{let l;r.headers instanceof Xn?l=r.headers:l=new Xn(r.headers);let u;r.params&&(r.params instanceof lo?u=r.params:u=new lo({fromObject:r.params})),o=new su(t,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:u,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=ne(o).pipe(Oi(l=>this.handler.handle(l)));if(t instanceof su||r.observe==="events")return s;let a=s.pipe(It(l=>l instanceof Wa));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ce(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(ce(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(ce(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(ce(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new lo().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,M0(r,i))}post(t,i,r={}){return this.request("POST",t,M0(r,i))}put(t,i,r={}){return this.request("PUT",t,M0(r,i))}static{this.\u0275fac=function(i){return new(i||n)(te(au))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})();function sM(n,e){return e(n)}function Y3(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}function J3(n,e,t){return(i,r)=>yr(t,()=>e(i,o=>n(o,r)))}var X3=new Z(""),O0=new Z(""),aM=new Z(""),Z3=new Z("");function e$(){let n=null;return(e,t)=>{n===null&&(n=(V(X3,{optional:!0})??[]).reduceRight(Y3,sM));let i=V(ns),r=i.add();return n(e,t).pipe(hr(()=>i.remove(r)))}}var YA=(()=>{class n extends au{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=V(ns);let r=V(Z3,{optional:!0});this.backend=r??t}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(O0),...this.injector.get(aM,[])]));this.chain=r.reduceRight((o,s)=>J3(o,s,this.injector),sM)}let i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(hr(()=>this.pendingTasks.remove(i)))}static{this.\u0275fac=function(i){return new(i||n)(te(ep),te(Jt))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})();var t$=/^\)\]\}',?\n/;function n$(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var JA=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new re(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?ut(i.\u0275loadImpl()):ne(null)).pipe(Lt(()=>new he(o=>{let s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((M,N)=>s.setRequestHeader(M,N.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let M=t.detectContentTypeHeader();M!==null&&s.setRequestHeader("Content-Type",M)}if(t.responseType){let M=t.responseType.toLowerCase();s.responseType=M!=="json"?M:"text"}let a=t.serializeBody(),l=null,u=()=>{if(l!==null)return l;let M=s.statusText||"OK",N=new Xn(s.getAllResponseHeaders()),B=n$(s)||t.url;return l=new R0({headers:N,status:s.status,statusText:M,url:B}),l},d=()=>{let{headers:M,status:N,statusText:B,url:z}=u(),$=null;N!==np.NoContent&&($=typeof s.response>"u"?s.responseText:s.response),N===0&&(N=$?np.Ok:0);let W=N>=200&&N<300;if(t.responseType==="json"&&typeof $=="string"){let oe=$;$=$.replace(t$,"");try{$=$!==""?JSON.parse($):null}catch(Y){$=oe,W&&(W=!1,$={error:Y,text:$})}}W?(o.next(new Wa({body:$,headers:M,status:N,statusText:B,url:z||void 0})),o.complete()):o.error(new tp({error:$,headers:M,status:N,statusText:B,url:z||void 0}))},f=M=>{let{url:N}=u(),B=new tp({error:M,status:s.status||0,statusText:s.statusText||"Unknown Error",url:N||void 0});o.error(B)},m=!1,_=M=>{m||(o.next(u()),m=!0);let N={type:qa.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(N.total=M.total),t.responseType==="text"&&s.responseText&&(N.partialText=s.responseText),o.next(N)},T=M=>{let N={type:qa.UploadProgress,loaded:M.loaded};M.lengthComputable&&(N.total=M.total),o.next(N)};return s.addEventListener("load",d),s.addEventListener("error",f),s.addEventListener("timeout",f),s.addEventListener("abort",f),t.reportProgress&&(s.addEventListener("progress",_),a!==null&&s.upload&&s.upload.addEventListener("progress",T)),s.send(a),o.next({type:qa.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",d),s.removeEventListener("timeout",f),t.reportProgress&&(s.removeEventListener("progress",_),a!==null&&s.upload&&s.upload.removeEventListener("progress",T)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||n)(te(Ga))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})(),lM=new Z(""),i$="XSRF-TOKEN",r$=new Z("",{providedIn:"root",factory:()=>i$}),o$="X-XSRF-TOKEN",s$=new Z("",{providedIn:"root",factory:()=>o$}),ip=class{},a$=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Yf(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(i){return new(i||n)(te(Et),te(Bt),te(r$))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})();function l$(n,e){let t=n.url.toLowerCase();if(!V(lM)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let i=V(ip).getToken(),r=V(s$);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var cM=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(cM||{});function c$(n,e){return{\u0275kind:n,\u0275providers:e}}function P0(...n){let e=[os,JA,YA,{provide:au,useExisting:YA},{provide:ep,useExisting:JA},{provide:O0,useValue:l$,multi:!0},{provide:lM,useValue:!0},{provide:ip,useClass:a$}];for(let t of n)e.push(...t.\u0275providers);return bn(e)}var XA=new Z("");function u$(){return c$(cM.LegacyInterceptors,[{provide:XA,useFactory:e$},{provide:O0,useExisting:XA,multi:!0}])}var uM=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Ve({providers:[P0(u$())]})}}return n})();var ZA="b",eM="h",tM="s",nM="st",iM="u",rM="rt",Zf=new Z(""),d$=["GET","HEAD"];function h$(n,e){let f=V(Zf),{isCacheActive:t}=f,i=OC(f,["isCacheActive"]),{transferCache:r,method:o}=n;if(!t||o==="POST"&&!i.includePostRequests&&!r||o!=="POST"&&!d$.includes(o)||r===!1||i.filter?.(n)===!1)return e(n);let s=V(ts),a=p$(n),l=s.get(a,null),u=i.includeHeaders;if(typeof r=="object"&&r.includeHeaders&&(u=r.includeHeaders),l){let{[ZA]:m,[rM]:_,[eM]:T,[tM]:M,[nM]:N,[iM]:B}=l,z=m;switch(_){case"arraybuffer":z=new TextEncoder().encode(m).buffer;break;case"blob":z=new Blob([m]);break}let $=new Xn(T);return ne(new Wa({body:z,headers:$,status:M,statusText:N,url:B}))}let d=ru(V(Bt));return e(n).pipe(tt(m=>{m instanceof Wa&&d&&s.set(a,{[ZA]:m.body,[eM]:f$(m.headers,u),[tM]:m.status,[nM]:m.statusText,[iM]:m.url||"",[rM]:n.responseType})}))}function f$(n,e){if(!e)return{};let t={};for(let i of e){let r=n.getAll(i);r!==null&&(t[i]=r)}return t}function oM(n){return[...n.keys()].sort().map(e=>`${e}=${n.getAll(e)}`).join("&")}function p$(n){let{params:e,method:t,responseType:i,url:r}=n,o=oM(e),s=n.serializeBody();s instanceof URLSearchParams?s=oM(s):typeof s!="string"&&(s="");let a=[t,i,r,s,o].join("|"),l=m$(a);return l}function m$(n){let e=0;for(let t of n)e=Math.imul(31,e)+t.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function dM(n){return[{provide:Zf,useFactory:()=>(Ba("NgHttpTransferCache"),Q({isCacheActive:!0},n))},{provide:aM,useValue:h$,multi:!0,deps:[ts,Zf]},{provide:Ha,multi:!0,useFactory:()=>{let e=V(bi),t=V(Zf);return()=>{b0(e).then(()=>{t.isCacheActive=!1})}}}]}var L0=class extends Kf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},V0=class n extends L0{static makeCurrent(){jA(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=g$();return t==null?null:_$(t)}resetBaseElement(){cu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Yf(document.cookie,e)}},cu=null;function g$(){return cu=cu||document.querySelector("base"),cu?cu.getAttribute("href"):null}function _$(n){return new URL(n,document.baseURI).pathname}var v$=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})(),B0=new Z(""),gM=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new re(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||n)(te(B0),te(Ce))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})(),rp=class{constructor(e){this._doc=e}},k0="ng-app-id",_M=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ru(o),this.resetHostNodes()}addStyles(t){for(let i of t)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(t){for(let i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){let i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${k0}="${this.appId}"]`);if(t?.length){let i=new Map;return t.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){let r=this.styleRef;if(r.has(t)){let o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(k0),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(k0,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){let r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(te(Et),te(Mf),te(Jv,8),te(Bt))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})(),F0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$0=/%COMP%/g,vM="%COMP%",y$=`_nghost-${vM}`,w$=`_ngcontent-${vM}`,E$=!0,b$=new Z("",{providedIn:"root",factory:()=>E$});function I$(n){return w$.replace($0,n)}function C$(n){return y$.replace($0,n)}function yM(n,e){return e.map(t=>t.replace($0,n))}var fM=(()=>{class n{constructor(t,i,r,o,s,a,l,u=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=ru(a),this.defaultRenderer=new uu(t,s,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Fi.ShadowDom&&(i=Pe(Q({},i),{encapsulation:Fi.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof op?r.applyToHost(t):r instanceof du&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Fi.Emulated:o=new op(l,u,i,this.appId,d,s,a,f);break;case Fi.ShadowDom:return new U0(l,u,t,i,s,a,this.nonce,f);default:o=new du(l,u,i,d,s,a,f);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(te(gM),te(_M),te(Mf),te(b$),te(Et),te(Bt),te(Ce),te(Jv))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})(),uu=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(F0[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(pM(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(pM(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new re(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=F0[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=F0[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(_r.DashCase|_r.Important)?e.style.setProperty(t,i,r&_r.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&_r.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=Ir().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function pM(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var U0=class extends uu{constructor(e,t,i,r,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=yM(r.id,r.styles);for(let d of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},du=class extends uu{constructor(e,t,i,r,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?yM(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},op=class extends du{constructor(e,t,i,r,o,s,a,l){let u=r+"-"+i.id;super(e,t,i,o,s,a,l,u),this.contentAttr=I$(u),this.hostAttr=C$(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},T$=(()=>{class n extends rp{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(te(Et))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})(),mM=["alt","control","meta","shift"],D$={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},S$={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},A$=(()=>{class n extends rp{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r){let o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ir().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),mM.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),s+=u+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=D$[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),mM.forEach(s=>{if(s!==r){let a=S$[s];a(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(i){return new(i||n)(te(Et))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac})}}return n})();function wM(n,e){return RA(Q({rootComponent:n},M$(e)))}function M$(n){return{appProviders:[...P$,...n?.providers??[]],platformProviders:O$}}function N$(){V0.makeCurrent()}function x$(){return new gr}function R$(){return aS(document),document}var O$=[{provide:Bt,useValue:A0},{provide:Yv,useValue:N$,multi:!0},{provide:Et,useFactory:R$,deps:[]}];var P$=[{provide:Cf,useValue:"root"},{provide:gr,useFactory:x$,deps:[]},{provide:B0,useClass:T$,multi:!0,deps:[Et,Ce,Bt]},{provide:B0,useClass:A$,multi:!0,deps:[Et]},fM,_M,gM,{provide:qc,useExisting:fM},{provide:Ga,useClass:v$,deps:[]},[]];var EM=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||n)(te(Et))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var j0=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n}(j0||{});function bM(...n){let e=[],t=new Set,i=t.has(j0.HttpTransferCacheOptions);for(let{\u0275providers:r,\u0275kind:o}of n)t.add(o),r.length&&e.push(r);return bn([[],OA(),t.has(j0.NoHttpTransferCache)||i?[]:dM({}),e])}var ye="primary",Du=Symbol("RouteTitle"),W0=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Xa(n){return new W0(n)}function L$(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function V$(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Gi(n[t],e[t]))return!1;return!0}function Gi(n,e){let t=n?K0(n):void 0,i=e?K0(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!AM(n[r],e[r]))return!1;return!0}function K0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function AM(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}else return n===e}function MM(n){return n.length>0?n[n.length-1]:null}function ho(n){return ur(n)?n:is(n)?ut(Promise.resolve(n)):ne(n)}var B$={exact:xM,subset:RM},NM={exact:U$,subset:j$,ignored:()=>!0};function IM(n,e,t){return B$[t.paths](n.root,e.root,t.matrixParams)&&NM[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function U$(n,e){return Gi(n,e)}function xM(n,e,t){if(!as(n.segments,e.segments)||!lp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!xM(n.children[i],e.children[i],t))return!1;return!0}function j$(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>AM(n[t],e[t]))}function RM(n,e,t){return OM(n,e,e.segments,t)}function OM(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!as(r,t)||e.hasChildren()||!lp(r,t,i))}else if(n.segments.length===t.length){if(!as(n.segments,t)||!lp(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!RM(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!as(n.segments,r)||!lp(n.segments,r,i)||!n.children[ye]?!1:OM(n.children[ye],e,o,i)}}function lp(n,e,t){return e.every((i,r)=>NM[t](n[r].parameters,i.parameters))}var co=class{constructor(e=new He([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Xa(this.queryParams),this._queryParamMap}toString(){return G$.serialize(this)}},He=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cp(this)}},ss=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Xa(this.parameters),this._parameterMap}toString(){return kM(this)}};function $$(n,e){return as(n,e)&&n.every((t,i)=>Gi(t.parameters,e[i].parameters))}function as(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function H$(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===ye&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==ye&&(t=t.concat(e(r,i)))}),t}var wy=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=J({token:n,factory:()=>new dp,providedIn:"root"})}}return n})(),dp=class{parse(e){let t=new Y0(e);return new co(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${hu(e.root,!0)}`,i=W$(e.queryParams),r=typeof e.fragment=="string"?`#${z$(e.fragment)}`:"";return`${t}${i}${r}`}},G$=new dp;function cp(n){return n.segments.map(e=>kM(e)).join("/")}function hu(n,e){if(!n.hasChildren())return cp(n);if(e){let t=n.children[ye]?hu(n.children[ye],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==ye&&i.push(`${r}:${hu(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=H$(n,(i,r)=>r===ye?[hu(n.children[ye],!1)]:[`${r}:${hu(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[ye]!=null?`${cp(n)}/${t[0]}`:`${cp(n)}/(${t.join("//")})`}}function PM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sp(n){return PM(n).replace(/%3B/gi,";")}function z$(n){return encodeURI(n)}function Q0(n){return PM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function up(n){return decodeURIComponent(n)}function CM(n){return up(n.replace(/\+/g,"%20"))}function kM(n){return`${Q0(n.path)}${q$(n.parameters)}`}function q$(n){return Object.entries(n).map(([e,t])=>`;${Q0(e)}=${Q0(t)}`).join("")}function W$(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${sp(t)}=${sp(r)}`).join("&"):`${sp(t)}=${sp(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var K$=/^[^\/()?;#]+/;function H0(n){let e=n.match(K$);return e?e[0]:""}var Q$=/^[^\/()?;=#]+/;function Y$(n){let e=n.match(Q$);return e?e[0]:""}var J$=/^[^=?&#]+/;function X$(n){let e=n.match(J$);return e?e[0]:""}var Z$=/^[^&#]+/;function eH(n){let e=n.match(Z$);return e?e[0]:""}var Y0=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new He([],{}):new He([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[ye]=new He(e,t)),i}parseSegment(){let e=H0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new re(4009,!1);return this.capture(e),new ss(up(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Y$(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=H0(this.remaining);r&&(i=r,this.capture(i))}e[up(t)]=up(i)}parseQueryParam(e){let t=X$(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=eH(this.remaining);s&&(i=s,this.capture(i))}let r=CM(t),o=CM(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=H0(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new re(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ye);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ye]:new He([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new re(4011,!1)}};function FM(n){return n.segments.length>0?new He([],{[ye]:n}):n}function LM(n){let e={};for(let[i,r]of Object.entries(n.children)){let o=LM(r);if(i===ye&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new He(n.segments,e);return tH(t)}function tH(n){if(n.numberOfChildren===1&&n.children[ye]){let e=n.children[ye];return new He(n.segments.concat(e.segments),e.children)}return n}function Za(n){return n instanceof co}function nH(n,e,t=null,i=null){let r=VM(n);return BM(r,e,t,i)}function VM(n){let e;function t(o){let s={};for(let l of o.children){let u=t(l);s[l.outlet]=u}let a=new He(o.url,s);return o===n&&(e=a),a}let i=t(n.root),r=FM(i);return e??r}function BM(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return G0(r,r,r,t,i);let o=iH(e);if(o.toRoot())return G0(r,r,new He([],{}),t,i);let s=rH(o,r,n),a=s.processChildren?mu(s.segmentGroup,s.index,o.commands):jM(s.segmentGroup,s.index,o.commands);return G0(r,s.segmentGroup,a,t,i)}function hp(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function vu(n){return typeof n=="object"&&n!=null&&n.outlets}function G0(n,e,t,i,r){let o={};i&&Object.entries(i).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;n===e?s=t:s=UM(n,e,t);let a=FM(LM(s));return new co(a,o,r)}function UM(n,e,t){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===e?i[r]=t:i[r]=UM(o,e,t)}),new He(n.segments,i)}var fp=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&hp(i[0]))throw new re(4003,!1);let r=i.find(vu);if(r&&r!==MM(i))throw new re(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function iH(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new fp(!0,0,n);let e=0,t=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new fp(t,e,i)}var Ya=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function rH(n,e,t){if(n.isAbsolute)return new Ya(e,!0,0);if(!t)return new Ya(e,!1,NaN);if(t.parent===null)return new Ya(t,!0,0);let i=hp(n.commands[0])?0:1,r=t.segments.length-1+i;return oH(t,r,n.numberOfDoubleDots)}function oH(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new re(4005,!1);r=i.segments.length}return new Ya(i,!1,r-o)}function sH(n){return vu(n[0])?n[0].outlets:{[ye]:n}}function jM(n,e,t){if(n??=new He([],{}),n.segments.length===0&&n.hasChildren())return mu(n,e,t);let i=aH(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new He(n.segments.slice(0,i.pathIndex),{});return o.children[ye]=new He(n.segments.slice(i.pathIndex),n.children),mu(o,0,r)}else return i.match&&r.length===0?new He(n.segments,{}):i.match&&!n.hasChildren()?J0(n,e,t):i.match?mu(n,0,r):J0(n,e,t)}function mu(n,e,t){if(t.length===0)return new He(n.segments,{});{let i=sH(t),r={};if(Object.keys(i).some(o=>o!==ye)&&n.children[ye]&&n.numberOfChildren===1&&n.children[ye].segments.length===0){let o=mu(n.children[ye],e,t);return new He(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=jM(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new He(n.segments,r)}}function aH(n,e,t){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;let s=n.segments[r],a=t[i];if(vu(a))break;let l=`${a}`,u=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!DM(l,u,s))return o;i+=2}else{if(!DM(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function J0(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let o=t[r];if(vu(o)){let l=lH(o.outlets);return new He(i,l)}if(r===0&&hp(t[0])){let l=n.segments[e];i.push(new ss(l.path,TM(t[0]))),r++;continue}let s=vu(o)?o.outlets[ye]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&hp(a)?(i.push(new ss(s,TM(a))),r+=2):(i.push(new ss(s,{})),r++)}return new He(i,{})}function lH(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=J0(new He([],{}),0,i))}),e}function TM(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function DM(n,e,t){return n==t.path&&Gi(e,t.parameters)}var gu="imperative",en=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(en||{}),Zn=class{constructor(e,t){this.id=e,this.url=t}},yu=class extends Zn{constructor(e,t,i="imperative",r=null){super(e,t),this.type=en.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ls=class extends Zn{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=en.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},jn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(jn||{}),X0=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(X0||{}),uo=class extends Zn{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=en.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},cs=class extends Zn{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=en.NavigationSkipped}},wu=class extends Zn{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=en.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},pp=class extends Zn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=en.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Z0=class extends Zn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=en.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ey=class extends Zn{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=en.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ty=class extends Zn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=en.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ny=class extends Zn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=en.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},iy=class{constructor(e){this.route=e,this.type=en.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ry=class{constructor(e){this.route=e,this.type=en.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},oy=class{constructor(e){this.snapshot=e,this.type=en.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sy=class{constructor(e){this.snapshot=e,this.type=en.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ay=class{constructor(e){this.snapshot=e,this.type=en.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ly=class{constructor(e){this.snapshot=e,this.type=en.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Eu=class{},bu=class{constructor(e){this.url=e}};var cy=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new wp,this.attachRef=null}},wp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new cy,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),mp=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=uy(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=uy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=dy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return dy(e,this._root).map(t=>t.value)}};function uy(n,e){if(n===e.value)return e;for(let t of e.children){let i=uy(n,t);if(i)return i}return null}function dy(n,e){if(n===e.value)return[e];for(let t of e.children){let i=dy(n,t);if(i.length)return i.unshift(e),i}return[]}var Un=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Qa(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var gp=class extends mp{constructor(e,t){super(e),this.snapshot=t,by(this,e)}toString(){return this.snapshot.toString()}};function $M(n){let e=cH(n),t=new bt([new ss("",{})]),i=new bt({}),r=new bt({}),o=new bt({}),s=new bt(""),a=new el(t,i,o,s,r,ye,n,e.root);return a.snapshot=e.root,new gp(new Un(a,[]),e)}function cH(n){let e={},t={},i={},r="",o=new Iu([],e,i,r,t,ye,n,null,{});return new _p("",new Un(o,[]))}var el=class{constructor(e,t,i,r,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ce(u=>u[Du]))??ne(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ce(e=>Xa(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ce(e=>Xa(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ey(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:Q(Q({},e.params),n.params),data:Q(Q({},e.data),n.data),resolve:Q(Q(Q(Q({},n.data),e.data),r?.data),n._resolvedData)}:i={params:Q({},n.params),data:Q({},n.data),resolve:Q(Q({},n.data),n._resolvedData??{})},r&&GM(r)&&(i.resolve[Du]=r.title),i}var Iu=class{get title(){return this.data?.[Du]}constructor(e,t,i,r,o,s,a,l,u){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xa(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xa(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},_p=class extends mp{constructor(e,t){super(t),this.url=e,by(this,t)}toString(){return HM(this._root)}};function by(n,e){e.value._routerState=n,e.children.forEach(t=>by(n,t))}function HM(n){let e=n.children.length>0?` { ${n.children.map(HM).join(", ")} } `:"";return`${n.value}${e}`}function z0(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Gi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Gi(e.params,t.params)||n.paramsSubject.next(t.params),V$(e.url,t.url)||n.urlSubject.next(t.url),Gi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function hy(n,e){let t=Gi(n.params,e.params)&&$$(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||hy(n.parent,e.parent))}function GM(n){return typeof n.title=="string"||n.title===null}var Iy=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ye,this.activateEvents=new Le,this.deactivateEvents=new Le,this.attachEvents=new Le,this.detachEvents=new Le,this.parentContexts=V(wp),this.location=V($i),this.changeDetector=V(Jn),this.environmentInjector=V(Jt),this.inputBinder=V(Cy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new re(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new re(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new re(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new re(4013,!1);this._activatedRoute=t;let r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new fy(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=gt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[vi]})}}return n})(),fy=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===el?this.route:e===wp?this.childContexts:this.parent.get(e,t)}},Cy=new Z("");function uH(n,e,t){let i=Cu(n,e._root,t?t._root:void 0);return new gp(i,e)}function Cu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=dH(n,e,t);return new Un(i,r)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Cu(n,a)),s}}let i=hH(e.value),r=e.children.map(o=>Cu(n,o));return new Un(i,r)}}function dH(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Cu(n,i,r);return Cu(n,i)})}function hH(n){return new el(new bt(n.url),new bt(n.params),new bt(n.queryParams),new bt(n.fragment),new bt(n.data),n.outlet,n.component,n)}var zM="ngNavigationCancelingError";function qM(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=Za(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=WM(!1,jn.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function WM(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[zM]=!0,t.cancellationCode=e,t}function fH(n){return KM(n)&&Za(n.url)}function KM(n){return!!n&&n[zM]}var pH=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Se({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ae],decls:1,vars:0,template:function(i,r){i&1&&U(0,"router-outlet")},dependencies:[Iy],encapsulation:2})}}return n})();function mH(n,e){return n.providers&&!n._injector&&(n._injector=v0(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ty(n){let e=n.children&&n.children.map(Ty),t=e?Pe(Q({},n),{children:e}):Q({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ye&&(t.component=pH),t}function zi(n){return n.outlet||ye}function gH(n,e){let t=n.filter(i=>zi(i)===e);return t.push(...n.filter(i=>zi(i)!==e)),t}function Su(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var _H=(n,e,t,i)=>ce(r=>(new py(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),py=class{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),z0(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=Qa(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Qa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Qa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=Qa(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new ly(o.value.snapshot))}),e.children.length&&this.forwardEvent(new sy(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(z0(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),z0(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Su(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}},vp=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ja=class{constructor(e,t){this.component=e,this.route=t}};function vH(n,e,t){let i=n._root,r=e?e._root:null;return fu(i,r,t,[i.value])}function yH(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function nl(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!KT(n)?n:e.get(n):i}function fu(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Qa(e);return n.children.forEach(s=>{wH(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>_u(a,t.getContext(s),r)),r}function wH(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=EH(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new vp(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?fu(n,e,a?a.children:null,i,r):fu(n,e,t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ja(a.outlet.component,s))}else s&&_u(e,a,r),r.canActivateChecks.push(new vp(i)),o.component?fu(n,null,a?a.children:null,i,r):fu(n,null,t,i,r);return r}function EH(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!as(n.url,e.url);case"pathParamsOrQueryParamsChange":return!as(n.url,e.url)||!Gi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hy(n,e)||!Gi(n.queryParams,e.queryParams);case"paramsChange":default:return!hy(n,e)}}function _u(n,e,t){let i=Qa(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?e?_u(s,e.children.getContext(o),t):_u(s,null,t):_u(s,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ja(e.outlet.component,r)):t.canDeactivateChecks.push(new Ja(null,r)):t.canDeactivateChecks.push(new Ja(null,r))}function Au(n){return typeof n=="function"}function bH(n){return typeof n=="boolean"}function IH(n){return n&&Au(n.canLoad)}function CH(n){return n&&Au(n.canActivate)}function TH(n){return n&&Au(n.canActivateChild)}function DH(n){return n&&Au(n.canDeactivate)}function SH(n){return n&&Au(n.canMatch)}function QM(n){return n instanceof dr||n?.name==="EmptyError"}var ap=Symbol("INITIAL_VALUE");function tl(){return Lt(n=>Mc(n.map(e=>e.pipe(dt(1),Bh(ap)))).pipe(ce(e=>{for(let t of e)if(t!==!0){if(t===ap)return ap;if(t===!1||t instanceof co)return t}return!0}),It(e=>e!==ap),dt(1)))}function AH(n,e){return et(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ne(Pe(Q({},t),{guardsResult:!0})):MH(s,i,r,n).pipe(et(a=>a&&bH(a)?NH(i,o,n,e):ne(a)),ce(a=>Pe(Q({},t),{guardsResult:a})))})}function MH(n,e,t,i){return ut(n).pipe(et(r=>kH(r.component,r.route,t,e,i)),hi(r=>r!==!0,!0))}function NH(n,e,t,i){return ut(e).pipe(Oi(r=>On(RH(r.route.parent,i),xH(r.route,i),PH(n,r.path,t),OH(n,r.route,t))),hi(r=>r!==!0,!0))}function xH(n,e){return n!==null&&e&&e(new ay(n)),ne(!0)}function RH(n,e){return n!==null&&e&&e(new oy(n)),ne(!0)}function OH(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return ne(!0);let r=i.map(o=>Go(()=>{let s=Su(e)??t,a=nl(o,s),l=CH(a)?a.canActivate(e,n):yr(s,()=>a(e,n));return ho(l).pipe(hi())}));return ne(r).pipe(tl())}function PH(n,e,t){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>yH(s)).filter(s=>s!==null).map(s=>Go(()=>{let a=s.guards.map(l=>{let u=Su(s.node)??t,d=nl(l,u),f=TH(d)?d.canActivateChild(i,n):yr(u,()=>d(i,n));return ho(f).pipe(hi())});return ne(a).pipe(tl())}));return ne(o).pipe(tl())}function kH(n,e,t,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ne(!0);let s=o.map(a=>{let l=Su(e)??r,u=nl(a,l),d=DH(u)?u.canDeactivate(n,e,t,i):yr(l,()=>u(n,e,t,i));return ho(d).pipe(hi())});return ne(s).pipe(tl())}function FH(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return ne(!0);let o=r.map(s=>{let a=nl(s,n),l=IH(a)?a.canLoad(e,t):yr(n,()=>a(e,t));return ho(l)});return ne(o).pipe(tl(),YM(i))}function YM(n){return e_(tt(e=>{if(Za(e))throw qM(n,e)}),ce(e=>e===!0))}function LH(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return ne(!0);let o=r.map(s=>{let a=nl(s,n),l=SH(a)?a.canMatch(e,t):yr(n,()=>a(e,t));return ho(l)});return ne(o).pipe(tl(),YM(i))}var Tu=class{constructor(e){this.segmentGroup=e||null}},yp=class extends Error{constructor(e){super(),this.urlTree=e}};function Ka(n){return Ea(new Tu(n))}function VH(n){return Ea(new re(4e3,!1))}function BH(n){return Ea(WM(!1,jn.GuardRejected))}var my=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return ne(i);if(r.numberOfChildren>1||!r.children[ye])return VH(e.redirectTo);r=r.children[ye]}}applyRedirectCommands(e,t,i){let r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t.startsWith("/"))throw new yp(r);return r}applyRedirectCreateUrlTree(e,t,i,r){let o=this.createSegmentGroup(e,t.root,i,r);return new co(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){let o=this.createSegments(e,t.segments,i,r),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,i,r)}),new He(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new re(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},gy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function UH(n,e,t,i,r){let o=Dy(n,e,t);return o.matched?(i=mH(e,i),LH(i,e,t,r).pipe(ce(s=>s===!0?o:Q({},gy)))):ne(o)}function Dy(n,e,t){if(e.path==="**")return jH(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?Q({},gy):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||L$)(t,n,e);if(!r)return Q({},gy);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?Q(Q({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function jH(n){return{matched:!0,parameters:n.length>0?MM(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function SM(n,e,t,i){return t.length>0&&GH(n,t,i)?{segmentGroup:new He(e,HH(i,new He(t,n.children))),slicedSegments:[]}:t.length===0&&zH(n,t,i)?{segmentGroup:new He(n.segments,$H(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new He(n.segments,n.children),slicedSegments:t}}function $H(n,e,t,i){let r={};for(let o of t)if(Ep(n,e,o)&&!i[zi(o)]){let s=new He([],{});r[zi(o)]=s}return Q(Q({},i),r)}function HH(n,e){let t={};t[ye]=e;for(let i of n)if(i.path===""&&zi(i)!==ye){let r=new He([],{});t[zi(i)]=r}return t}function GH(n,e,t){return t.some(i=>Ep(n,e,i)&&zi(i)!==ye)}function zH(n,e,t){return t.some(i=>Ep(n,e,i))}function Ep(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function qH(n,e,t,i){return zi(n)!==i&&(i===ye||!Ep(e,t,n))?!1:Dy(e,n,t).matched}function WH(n,e,t){return e.length===0&&!n.children[t]}var _y=class{};function KH(n,e,t,i,r,o,s="emptyOnly"){return new vy(n,e,t,i,r,s,o).recognize()}var QH=31,vy=class{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new my(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new re(4002,`'${e.segmentGroup}'`)}recognize(){let e=SM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ce(t=>{let i=new Iu([],Object.freeze({}),Object.freeze(Q({},this.urlTree.queryParams)),this.urlTree.fragment,{},ye,this.rootComponentType,null,{}),r=new Un(i,t),o=new _p("",r),s=nH(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ye).pipe(Yr(i=>{if(i instanceof yp)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Tu?this.noMatchError(i):i}))}inheritParamsAndData(e,t){let i=e.value,r=Ey(i,t,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,t,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0).pipe(ce(o=>o instanceof Un?[o]:[]))}processChildren(e,t,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return ut(r).pipe(Oi(o=>{let s=i.children[o],a=gH(t,o);return this.processSegmentGroup(e,a,s,o)}),h_((o,s)=>(o.push(...s),o)),Jr(null),d_(),et(o=>{if(o===null)return Ka(i);let s=JM(o);return YH(s),ne(s)}))}processSegment(e,t,i,r,o,s){return ut(t).pipe(Oi(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,o,s).pipe(Yr(l=>{if(l instanceof Tu)return ne(null);throw l}))),hi(a=>!!a),Yr(a=>{if(QM(a))return WH(i,r,o)?ne(new _y):Ka(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,o,s,a){return qH(i,r,o,s)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s):Ka(r):Ka(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){let{matched:a,consumedSegments:l,positionalParamSegments:u,remainingSegments:d}=Dy(t,r,o);if(!a)return Ka(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>QH&&(this.allowRedirects=!1));let f=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,u);return this.applyRedirects.lineralizeSegments(r,f).pipe(et(m=>this.processSegment(e,i,t,m.concat(d),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){let s=UH(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),s.pipe(Lt(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Lt(({routes:l})=>{let u=i._loadedInjector??e,{consumedSegments:d,remainingSegments:f,parameters:m}=a,_=new Iu(d,m,Object.freeze(Q({},this.urlTree.queryParams)),this.urlTree.fragment,XH(i),zi(i),i.component??i._loadedComponent??null,i,ZH(i)),{segmentGroup:T,slicedSegments:M}=SM(t,d,f,l);if(M.length===0&&T.hasChildren())return this.processChildren(u,l,T).pipe(ce(B=>B===null?null:new Un(_,B)));if(l.length===0&&M.length===0)return ne(new Un(_,[]));let N=zi(i)===o;return this.processSegment(u,l,T,M,N?ye:o,!0).pipe(ce(B=>new Un(_,B instanceof Un?[B]:[])))}))):Ka(t)))}getChildConfig(e,t,i){return t.children?ne({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ne({routes:t._loadedRoutes,injector:t._loadedInjector}):FH(e,t,i,this.urlSerializer).pipe(et(r=>r?this.configLoader.loadChildren(e,t).pipe(tt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):BH(t))):ne({routes:[],injector:e})}};function YH(n){n.sort((e,t)=>e.value.outlet===ye?-1:t.value.outlet===ye?1:e.value.outlet.localeCompare(t.value.outlet))}function JH(n){let e=n.value.routeConfig;return e&&e.path===""}function JM(n){let e=[],t=new Set;for(let i of n){if(!JH(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=JM(i.children);e.push(new Un(i.value,r))}return e.filter(i=>!t.has(i))}function XH(n){return n.data||{}}function ZH(n){return n.resolve||{}}function e4(n,e,t,i,r,o){return et(s=>KH(n,e,t,i,s.extractedUrl,r,o).pipe(ce(({state:a,tree:l})=>Pe(Q({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function t4(n,e){return et(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ne(t);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of XM(l))s.add(u);let a=0;return ut(s).pipe(Oi(l=>o.has(l)?n4(l,i,n,e):(l.data=Ey(l,l.parent,n).resolve,ne(void 0))),tt(()=>a++),Ia(1),et(l=>a===s.size?ne(t):Yt))})}function XM(n){let e=n.children.map(t=>XM(t)).flat();return[n,...e]}function n4(n,e,t,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!GM(r)&&(o[Du]=r.title),i4(o,n,e,i).pipe(ce(s=>(n._resolvedData=s,n.data=Ey(n,n.parent,t).resolve,null)))}function i4(n,e,t,i){let r=K0(n);if(r.length===0)return ne({});let o={};return ut(r).pipe(et(s=>r4(n[s],e,t,i).pipe(hi(),tt(a=>{o[s]=a}))),Ia(1),Oc(o),Yr(s=>QM(s)?Yt:Ea(s)))}function r4(n,e,t,i){let r=Su(e)??i,o=nl(n,r),s=o.resolve?o.resolve(e,t):yr(r,()=>o(e,t));return ho(s)}function q0(n){return Lt(e=>{let t=n(e);return t?ut(t).pipe(ce(()=>e)):ne(e)})}var ZM=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===ye);return i}getResolvedTitleForRoute(t){return t.data[Du]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=J({token:n,factory:()=>V(o4),providedIn:"root"})}}return n})(),o4=(()=>{class n extends ZM{constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(te(EM))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Sy=new Z("",{providedIn:"root",factory:()=>({})}),Ay=new Z(""),s4=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V(I0)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ne(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=ho(t.loadComponent()).pipe(ce(eN),tt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),hr(()=>{this.componentLoaders.delete(t)})),r=new ma(i,()=>new Ge).pipe(pa());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ne({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=a4(i,this.compiler,t,this.onLoadEndListener).pipe(hr(()=>{this.childrenLoaders.delete(i)})),s=new ma(o,()=>new Ge).pipe(pa());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function a4(n,e,t,i){return ho(n.loadChildren()).pipe(ce(eN),et(r=>r instanceof Wc||Array.isArray(r)?ne(r):ut(e.compileModuleAsync(r))),ce(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(t).injector,s=o.get(Ay,[],{optional:!0,self:!0}).flat()),{routes:s.map(Ty),injector:o}}))}function l4(n){return n&&typeof n=="object"&&"default"in n}function eN(n){return l4(n)?n.default:n}var My=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=J({token:n,factory:()=>V(c4),providedIn:"root"})}}return n})(),c4=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),u4=new Z("");var d4=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ge,this.transitionAbortSubject=new Ge,this.configLoader=V(s4),this.environmentInjector=V(Jt),this.urlSerializer=V(wy),this.rootContexts=V(wp),this.location=V(iu),this.inputBindingEnabled=V(Cy,{optional:!0})!==null,this.titleStrategy=V(ZM),this.options=V(Sy,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=V(My),this.createViewTransition=V(u4,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ne(void 0),this.rootComponentType=null;let t=r=>this.events.next(new iy(r)),i=r=>this.events.next(new ry(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(Pe(Q(Q({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,r){return this.transitions=new bt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:gu,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(It(o=>o.id!==0),ce(o=>Pe(Q({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Lt(o=>{let s=!1,a=!1;return ne(o).pipe(Lt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",jn.SupersededByNewNavigation),Yt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Pe(Q({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new cs(l.id,this.urlSerializer.serialize(l.rawUrl),f,X0.IgnoredSameUrlNavigation)),l.resolve(null),Yt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ne(l).pipe(Lt(f=>{let m=this.transitions?.getValue();return this.events.next(new yu(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),m!==this.transitions?.getValue()?Yt:Promise.resolve(f)}),e4(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),tt(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=Pe(Q({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let m=new pp(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:f,extractedUrl:m,source:_,restoredState:T,extras:M}=l,N=new yu(f,this.urlSerializer.serialize(m),_,T);this.events.next(N);let B=$M(this.rootComponentType).snapshot;return this.currentTransition=o=Pe(Q({},l),{targetSnapshot:B,urlAfterRedirects:m,extras:Pe(Q({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,ne(o)}else{let f="";return this.events.next(new cs(l.id,this.urlSerializer.serialize(l.extractedUrl),f,X0.IgnoredByUrlHandlingStrategy)),l.resolve(null),Yt}}),tt(l=>{let u=new Z0(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),ce(l=>(this.currentTransition=o=Pe(Q({},l),{guards:vH(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),AH(this.environmentInjector,l=>this.events.next(l)),tt(l=>{if(o.guardsResult=l.guardsResult,Za(l.guardsResult))throw qM(this.urlSerializer,l.guardsResult);let u=new ey(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),It(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",jn.GuardRejected),!1)),q0(l=>{if(l.guards.canActivateChecks.length)return ne(l).pipe(tt(u=>{let d=new ty(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Lt(u=>{let d=!1;return ne(u).pipe(t4(this.paramsInheritanceStrategy,this.environmentInjector),tt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",jn.NoDataFromResolver)}}))}),tt(u=>{let d=new ny(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),q0(l=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(tt(m=>{d.component=m}),ce(()=>{})));for(let m of d.children)f.push(...u(m));return f};return Mc(u(l.targetSnapshot.root)).pipe(Jr(null),dt(1))}),q0(()=>this.afterPreactivation()),Lt(()=>{let{currentSnapshot:l,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?ut(d).pipe(ce(()=>o)):ne(o)}),ce(l=>{let u=uH(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=Pe(Q({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),tt(()=>{this.events.next(new Eu)}),_H(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),dt(1),tt({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ls(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Mt(this.transitionAbortSubject.pipe(tt(l=>{throw l}))),hr(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",jn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Yr(l=>{if(a=!0,KM(l))this.events.next(new uo(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),fH(l)?this.events.next(new bu(l.url)):o.resolve(!1);else{this.events.next(new wu(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Yt}))}))}cancelNavigationTransition(t,i,r){let o=new uo(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function h4(n){return n!==gu}var f4=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=J({token:n,factory:()=>V(p4),providedIn:"root"})}}return n})(),yy=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},p4=(()=>{class n extends yy{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=yi(n)))(r||n)}})()}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),tN=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=J({token:n,factory:()=>V(m4),providedIn:"root"})}}return n})(),m4=(()=>{class n extends tN{constructor(){super(...arguments),this.location=V(iu),this.urlSerializer=V(wy),this.options=V(Sy,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=V(My),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new co,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=$M(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof yu)this.stateMemento=this.createStateMemento();else if(t instanceof cs)this.rawUrlTree=i.initialUrl;else if(t instanceof pp){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else t instanceof Eu?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):t instanceof uo&&(t.code===jn.GuardRejected||t.code===jn.NoDataFromResolver)?this.restoreHistory(i):t instanceof wu?this.restoreHistory(i,!0):t instanceof ls&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=Q(Q({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=Q(Q({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=yi(n)))(r||n)}})()}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pu=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(pu||{});function g4(n,e){n.events.pipe(It(t=>t instanceof ls||t instanceof uo||t instanceof wu||t instanceof cs),ce(t=>t instanceof ls||t instanceof cs?pu.COMPLETE:(t instanceof uo?t.code===jn.Redirect||t.code===jn.SupersededByNewNavigation:!1)?pu.REDIRECTING:pu.FAILED),It(t=>t!==pu.REDIRECTING),dt(1)).subscribe(()=>{e()})}function _4(n){throw n}var v4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},y4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},bp=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=V(Gf),this.stateManager=V(tN),this.options=V(Sy,{optional:!0})||{},this.pendingTasks=V(ns),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=V(d4),this.urlSerializer=V(wy),this.location=V(iu),this.urlHandlingStrategy=V(My),this._events=new Ge,this.errorHandler=this.options.errorHandler||_4,this.navigated=!1,this.routeReuseStrategy=V(f4),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=V(Ay,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!V(Cy,{optional:!0}),this.eventsSubscription=new wt,this.isNgZoneEnabled=V(Ce)instanceof Ce&&Ce.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof uo&&i.code!==jn.Redirect&&i.code!==jn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ls)this.navigated=!0;else if(i instanceof bu){let s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||h4(r.source)};this.scheduleNavigation(s,gu,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}E4(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),gu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=Q({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Ty),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:s,d=null;switch(a){case"merge":d=Q(Q({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let m=r?r.snapshot:this.routerState.snapshot.root;f=VM(m)}catch{(typeof t[0]!="string"||!t[0].startsWith("/"))&&(t=[]),f=this.currentUrlTree.root}return BM(f,t,d,u??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=Za(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,gu,null,i)}navigate(t,i={skipLocationChange:!1}){return w4(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=Q({},v4):i===!1?r=Q({},y4):r=i,Za(t))return IM(this.currentUrlTree,t,r);let o=this.parseUrl(t);return IM(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((f,m)=>{a=f,l=m});let d=this.pendingTasks.add();return g4(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function w4(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new re(4008,!1)}function E4(n){return!(n instanceof Eu)&&!(n instanceof bu)}var b4=new Z("");function nN(n,...e){return bn([{provide:Ay,multi:!0,useValue:n},[],{provide:el,useFactory:I4,deps:[bp]},{provide:Ha,multi:!0,useFactory:C4},e.map(t=>t.\u0275providers)])}function I4(n){return n.routerState.root}function C4(){let n=V(Ot);return e=>{let t=n.get(bi);if(e!==t.components[0])return;let i=n.get(bp),r=n.get(T4);n.get(D4)===1&&i.initialNavigation(),n.get(S4,null,Ee.Optional)?.setUpPreloading(),n.get(b4,null,Ee.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var T4=new Z("",{factory:()=>new Ge}),D4=new Z("",{providedIn:"root",factory:()=>1});var S4=new Z("");var dN=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||n)(H(wr),H(Xt))}}static{this.\u0275dir=gt({type:n})}}return n})(),M4=(()=>{class n extends dN{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=yi(n)))(r||n)}})()}static{this.\u0275dir=gt({type:n,features:[Yn]})}}return n})(),Oy=new Z("");var N4={provide:Oy,useExisting:Bi(()=>po),multi:!0};function x4(){let n=Ir()?Ir().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var R4=new Z(""),po=(()=>{class n extends dN{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!x4())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||n)(H(wr),H(Xt),H(R4,8))}}static{this.\u0275dir=gt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&me("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Hi([N4]),Yn]})}}return n})();function fo(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function hN(n){return n!=null&&typeof n.length=="number"}var Ou=new Z(""),xp=new Z(""),O4=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,_t=class{static min(e){return P4(e)}static max(e){return k4(e)}static required(e){return F4(e)}static requiredTrue(e){return L4(e)}static email(e){return V4(e)}static minLength(e){return B4(e)}static maxLength(e){return fN(e)}static pattern(e){return U4(e)}static nullValidator(e){return Cp(e)}static compose(e){return yN(e)}static composeAsync(e){return wN(e)}};function P4(n){return e=>{if(fo(e.value)||fo(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function k4(n){return e=>{if(fo(e.value)||fo(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function F4(n){return fo(n.value)?{required:!0}:null}function L4(n){return n.value===!0?null:{required:!0}}function V4(n){return fo(n.value)||O4.test(n.value)?null:{email:!0}}function B4(n){return e=>fo(e.value)||!hN(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function fN(n){return e=>hN(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function U4(n){if(!n)return Cp;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(fo(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function Cp(n){return null}function pN(n){return n!=null}function mN(n){return is(n)?ut(n):n}function gN(n){let e={};return n.forEach(t=>{e=t!=null?Q(Q({},e),t):e}),Object.keys(e).length===0?null:e}function _N(n,e){return e.map(t=>t(n))}function j4(n){return!n.validate}function vN(n){return n.map(e=>j4(e)?e:t=>e.validate(t))}function yN(n){if(!n)return null;let e=n.filter(pN);return e.length==0?null:function(t){return gN(_N(t,e))}}function Py(n){return n!=null?yN(vN(n)):null}function wN(n){if(!n)return null;let e=n.filter(pN);return e.length==0?null:function(t){let i=_N(t,e).map(mN);return Nc(i).pipe(ce(gN))}}function ky(n){return n!=null?wN(vN(n)):null}function iN(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function EN(n){return n._rawValidators}function bN(n){return n._rawAsyncValidators}function Ny(n){return n?Array.isArray(n)?n:[n]:[]}function Tp(n,e){return Array.isArray(n)?n.includes(e):n===e}function rN(n,e){let t=Ny(e);return Ny(n).forEach(r=>{Tp(t,r)||t.push(r)}),t}function oN(n,e){return Ny(e).filter(t=>!Tp(n,t))}var Dp=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Py(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ky(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Cr=class extends Dp{get formDirective(){return null}get path(){return null}},us=class extends Dp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Sp=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},$4={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},fre=Pe(Q({},$4),{"[class.ng-submitted]":"isSubmitted"}),sl=(()=>{class n extends Sp{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(H(us,2))}}static{this.\u0275dir=gt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Ei("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Yn]})}}return n})(),al=(()=>{class n extends Sp{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(H(Cr,10))}}static{this.\u0275dir=gt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Ei("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Yn]})}}return n})();var Mu="VALID",Ip="INVALID",il="PENDING",Nu="DISABLED";function Fy(n){return(Rp(n)?n.validators:n)||null}function H4(n){return Array.isArray(n)?Py(n):n||null}function Ly(n,e){return(Rp(e)?e.asyncValidators:n)||null}function G4(n){return Array.isArray(n)?ky(n):n||null}function Rp(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function IN(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new re(1e3,"");if(!i[t])throw new re(1001,"")}function CN(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new re(1002,"")})}var rl=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Mu}get invalid(){return this.status===Ip}get pending(){return this.status==il}get disabled(){return this.status===Nu}get enabled(){return this.status!==Nu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(rN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(rN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(oN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(oN(e,this._rawAsyncValidators))}hasValidator(e){return Tp(this._rawValidators,e)}hasAsyncValidator(e){return Tp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=il,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Nu,this.errors=null,this._forEachChild(i=>{i.disable(Pe(Q({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Pe(Q({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Mu,this._forEachChild(i=>{i.enable(Pe(Q({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Pe(Q({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mu||this.status===il)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nu:Mu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=il,this._hasOwnPendingAsyncValidator=!0;let t=mN(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Le,this.statusChanges=new Le}_calculateStatus(){return this._allControlsDisabled()?Nu:this.errors?Ip:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(il)?il:this._anyControlsHaveStatus(Ip)?Ip:Mu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Rp(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=H4(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=G4(this._rawAsyncValidators)}},ol=class extends rl{constructor(e,t,i){super(Fy(t),Ly(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){CN(this,!0,e),Object.keys(e).forEach(i=>{IN(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var xy=class extends ol{};var Pu=new Z("CallSetDisabledState",{providedIn:"root",factory:()=>Op}),Op="always";function TN(n,e){return[...e.path,n]}function Ap(n,e,t=Op){Vy(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),q4(n,e),K4(n,e),W4(n,e),z4(n,e)}function sN(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Np(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Mp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function z4(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Vy(n,e){let t=EN(n);e.validator!==null?n.setValidators(iN(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=bN(n);e.asyncValidator!==null?n.setAsyncValidators(iN(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();Mp(e._rawValidators,r),Mp(e._rawAsyncValidators,r)}function Np(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=EN(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let r=bN(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}let i=()=>{};return Mp(e._rawValidators,i),Mp(e._rawAsyncValidators,i),t}function q4(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&DN(n,e)})}function W4(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&DN(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function DN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function K4(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function SN(n,e){n==null,Vy(n,e)}function Q4(n,e){return Np(n,e)}function AN(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Y4(n){return Object.getPrototypeOf(n.constructor)===M4}function MN(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function NN(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===po?t=o:Y4(o)?i=o:r=o}),r||i||t||null}function J4(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var X4={provide:Cr,useExisting:Bi(()=>By)},xu=Promise.resolve(),By=(()=>{class n extends Cr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Le,this.form=new ol({},Py(t),ky(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){xu.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Ap(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){xu.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){xu.then(()=>{let i=this._findContainer(t.path),r=new ol({});SN(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){xu.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){xu.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,MN(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(i){return new(i||n)(H(Ou,10),H(xp,10),H(Pu,8))}}static{this.\u0275dir=gt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&me("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[Nt.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Hi([X4]),Yn]})}}return n})();function aN(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function lN(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Ru=class extends rl{constructor(e=null,t,i){super(Fy(t),Ly(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Rp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(lN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){aN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){aN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){lN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Z4=n=>n instanceof Ru;var e5={provide:us,useExisting:Bi(()=>Uy)},cN=Promise.resolve(),Uy=(()=>{class n extends us{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Ru,this._registered=!1,this.name="",this.update=new Le,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=NN(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),AN(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ap(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){cN.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&qf(i);cN.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?TN(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||n)(H(Cr,9),H(Ou,10),H(xp,10),H(Oy,10),H(Jn,8),H(Pu,8))}}static{this.\u0275dir=gt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Nt.None,"disabled","isDisabled"],model:[Nt.None,"ngModel","model"],options:[Nt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Hi([e5]),Yn,vi]})}}return n})(),ll=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=gt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var xN=new Z("");var t5={provide:Cr,useExisting:Bi(()=>ds)},ds=(()=>{class n extends Cr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Le,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Np(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return Ap(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){sN(t.control||null,t,!1),J4(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,MN(this.form,this.directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(sN(i||null,t),Z4(r)&&(Ap(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);SN(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&Q4(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Vy(this.form,this),this._oldForm&&Np(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||n)(H(Ou,10),H(xp,10),H(Pu,8))}}static{this.\u0275dir=gt({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&me("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[Nt.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Hi([t5]),Yn,vi]})}}return n})();var n5={provide:us,useExisting:Bi(()=>hs)},hs=(()=>{class n extends us{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Le,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=NN(this,o)}ngOnChanges(t){this._added||this._setUpControl(),AN(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return TN(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(H(Cr,13),H(Ou,10),H(xp,10),H(Oy,10),H(xN,8))}}static{this.\u0275dir=gt({type:n,selectors:[["","formControlName",""]],inputs:{name:[Nt.None,"formControlName","name"],isDisabled:[Nt.None,"disabled","isDisabled"],model:[Nt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Hi([n5]),Yn,vi]})}}return n})();function i5(n){return typeof n=="number"?n:parseInt(n,10)}var r5=(()=>{class n{constructor(){this._validator=Cp}ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Cp,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=gt({type:n,features:[vi]})}}return n})();var o5={provide:Ou,useExisting:Bi(()=>fs),multi:!0},fs=(()=>{class n extends r5{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>i5(t),this.createValidator=t=>fN(t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=yi(n)))(r||n)}})()}static{this.\u0275dir=gt({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Ua("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Hi([o5]),Yn]})}}return n})();var RN=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Ve({})}}return n})(),Ry=class extends rl{constructor(e,t,i){super(Fy(t),Ly(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){CN(this,!1,e),e.forEach((i,r)=>{IN(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function uN(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var cl=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,i=null){let r=this._reduceControls(t),o={};return uN(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new ol(r,o)}record(t,i=null){let r=this._reduceControls(t);return new xy(r,i)}control(t,i,r){let o={};return this.useNonNullable?(uN(i)?o=i:(o.validators=i,o.asyncValidators=r),new Ru(t,Pe(Q({},o),{nonNullable:!0}))):new Ru(t,i,r)}array(t,i,r){let o=t.map(s=>this._createControl(s));return new Ry(o,i,r)}_reduceControls(t){let i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){if(t instanceof Ru)return t;if(t instanceof rl)return t;if(Array.isArray(t)){let i=t[0],r=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(i,r,o)}else return this.control(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ON=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Pu,useValue:t.callSetDisabledState??Op}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Ve({imports:[RN]})}}return n})(),mo=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:xN,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Pu,useValue:t.callSetDisabledState??Op}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Ve({imports:[RN]})}}return n})();var Ct="top",tn="bottom",Ut="right",Pt="left",Pp="auto",go=[Ct,tn,Ut,Pt],Tr="start",ps="end",PN="clippingParents",kp="viewport",ul="popper",kN="reference",$y=go.reduce(function(n,e){return n.concat([e+"-"+Tr,e+"-"+ps])},[]),Fp=[].concat(go,[Pp]).reduce(function(n,e){return n.concat([e,e+"-"+Tr,e+"-"+ps])},[]),s5="beforeRead",a5="read",l5="afterRead",c5="beforeMain",u5="main",d5="afterMain",h5="beforeWrite",f5="write",p5="afterWrite",FN=[s5,a5,l5,c5,u5,d5,h5,f5,p5];function jt(n){return n?(n.nodeName||"").toLowerCase():null}function st(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function ei(n){var e=st(n).Element;return n instanceof e||n instanceof Element}function kt(n){var e=st(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function dl(n){if(typeof ShadowRoot>"u")return!1;var e=st(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function m5(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},o=e.elements[t];!kt(o)||!jt(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(s){var a=r[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function g5(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],o=e.attributes[i]||{},s=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),a=s.reduce(function(l,u){return l[u]="",l},{});!kt(r)||!jt(r)||(Object.assign(r.style,a),Object.keys(o).forEach(function(l){r.removeAttribute(l)}))})}}var LN={name:"applyStyles",enabled:!0,phase:"write",fn:m5,effect:g5,requires:["computeStyles"]};function $t(n){return n.split("-")[0]}var Ii=Math.max,ms=Math.min,Dr=Math.round;function hl(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function ku(){return!/^((?!chrome|android).)*safari/i.test(hl())}function ti(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),r=1,o=1;e&&kt(n)&&(r=n.offsetWidth>0&&Dr(i.width)/n.offsetWidth||1,o=n.offsetHeight>0&&Dr(i.height)/n.offsetHeight||1);var s=ei(n)?st(n):window,a=s.visualViewport,l=!ku()&&t,u=(i.left+(l&&a?a.offsetLeft:0))/r,d=(i.top+(l&&a?a.offsetTop:0))/o,f=i.width/r,m=i.height/o;return{width:f,height:m,top:d,right:u+f,bottom:d+m,left:u,x:u,y:d}}function gs(n){var e=ti(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function Fu(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&dl(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function In(n){return st(n).getComputedStyle(n)}function Hy(n){return["table","td","th"].indexOf(jt(n))>=0}function nn(n){return((ei(n)?n.ownerDocument:n.document)||window.document).documentElement}function Sr(n){return jt(n)==="html"?n:n.assignedSlot||n.parentNode||(dl(n)?n.host:null)||nn(n)}function VN(n){return!kt(n)||In(n).position==="fixed"?null:n.offsetParent}function _5(n){var e=/firefox/i.test(hl()),t=/Trident/i.test(hl());if(t&&kt(n)){var i=In(n);if(i.position==="fixed")return null}var r=Sr(n);for(dl(r)&&(r=r.host);kt(r)&&["html","body"].indexOf(jt(r))<0;){var o=In(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function Ci(n){for(var e=st(n),t=VN(n);t&&Hy(t)&&In(t).position==="static";)t=VN(t);return t&&(jt(t)==="html"||jt(t)==="body"&&In(t).position==="static")?e:t||_5(n)||e}function _s(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function vs(n,e,t){return Ii(n,ms(e,t))}function BN(n,e,t){var i=vs(n,e,t);return i>t?t:i}function Lu(){return{top:0,right:0,bottom:0,left:0}}function Vu(n){return Object.assign({},Lu(),n)}function Bu(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var v5=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Vu(typeof e!="number"?e:Bu(e,go))};function y5(n){var e,t=n.state,i=n.name,r=n.options,o=t.elements.arrow,s=t.modifiersData.popperOffsets,a=$t(t.placement),l=_s(a),u=[Pt,Ut].indexOf(a)>=0,d=u?"height":"width";if(!(!o||!s)){var f=v5(r.padding,t),m=gs(o),_=l==="y"?Ct:Pt,T=l==="y"?tn:Ut,M=t.rects.reference[d]+t.rects.reference[l]-s[l]-t.rects.popper[d],N=s[l]-t.rects.reference[l],B=Ci(o),z=B?l==="y"?B.clientHeight||0:B.clientWidth||0:0,$=M/2-N/2,W=f[_],oe=z-m[d]-f[T],Y=z/2-m[d]/2+$,S=vs(W,Y,oe),w=l;t.modifiersData[i]=(e={},e[w]=S,e.centerOffset=S-Y,e)}}function w5(n){var e=n.state,t=n.options,i=t.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||Fu(e.elements.popper,r)&&(e.elements.arrow=r))}var Gy={name:"arrow",enabled:!0,phase:"main",fn:y5,effect:w5,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ni(n){return n.split("-")[1]}var E5={top:"auto",right:"auto",bottom:"auto",left:"auto"};function b5(n,e){var t=n.x,i=n.y,r=e.devicePixelRatio||1;return{x:Dr(t*r)/r||0,y:Dr(i*r)/r||0}}function UN(n){var e,t=n.popper,i=n.popperRect,r=n.placement,o=n.variation,s=n.offsets,a=n.position,l=n.gpuAcceleration,u=n.adaptive,d=n.roundOffsets,f=n.isFixed,m=s.x,_=m===void 0?0:m,T=s.y,M=T===void 0?0:T,N=typeof d=="function"?d({x:_,y:M}):{x:_,y:M};_=N.x,M=N.y;var B=s.hasOwnProperty("x"),z=s.hasOwnProperty("y"),$=Pt,W=Ct,oe=window;if(u){var Y=Ci(t),S="clientHeight",w="clientWidth";if(Y===st(t)&&(Y=nn(t),In(Y).position!=="static"&&a==="absolute"&&(S="scrollHeight",w="scrollWidth")),Y=Y,r===Ct||(r===Pt||r===Ut)&&o===ps){W=tn;var b=f&&Y===oe&&oe.visualViewport?oe.visualViewport.height:Y[S];M-=b-i.height,M*=l?1:-1}if(r===Pt||(r===Ct||r===tn)&&o===ps){$=Ut;var D=f&&Y===oe&&oe.visualViewport?oe.visualViewport.width:Y[w];_-=D-i.width,_*=l?1:-1}}var A=Object.assign({position:a},u&&E5),P=d===!0?b5({x:_,y:M},st(t)):{x:_,y:M};if(_=P.x,M=P.y,l){var C;return Object.assign({},A,(C={},C[W]=z?"0":"",C[$]=B?"0":"",C.transform=(oe.devicePixelRatio||1)<=1?"translate("+_+"px, "+M+"px)":"translate3d("+_+"px, "+M+"px, 0)",C))}return Object.assign({},A,(e={},e[W]=z?M+"px":"",e[$]=B?_+"px":"",e.transform="",e))}function I5(n){var e=n.state,t=n.options,i=t.gpuAcceleration,r=i===void 0?!0:i,o=t.adaptive,s=o===void 0?!0:o,a=t.roundOffsets,l=a===void 0?!0:a,u={placement:$t(e.placement),variation:ni(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,UN(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,UN(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var jN={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:I5,data:{}};var Lp={passive:!0};function C5(n){var e=n.state,t=n.instance,i=n.options,r=i.scroll,o=r===void 0?!0:r,s=i.resize,a=s===void 0?!0:s,l=st(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(d){d.addEventListener("scroll",t.update,Lp)}),a&&l.addEventListener("resize",t.update,Lp),function(){o&&u.forEach(function(d){d.removeEventListener("scroll",t.update,Lp)}),a&&l.removeEventListener("resize",t.update,Lp)}}var $N={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:C5,data:{}};var T5={left:"right",right:"left",bottom:"top",top:"bottom"};function fl(n){return n.replace(/left|right|bottom|top/g,function(e){return T5[e]})}var D5={start:"end",end:"start"};function Vp(n){return n.replace(/start|end/g,function(e){return D5[e]})}function ys(n){var e=st(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function ws(n){return ti(nn(n)).left+ys(n).scrollLeft}function zy(n,e){var t=st(n),i=nn(n),r=t.visualViewport,o=i.clientWidth,s=i.clientHeight,a=0,l=0;if(r){o=r.width,s=r.height;var u=ku();(u||!u&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:a+ws(n),y:l}}function qy(n){var e,t=nn(n),i=ys(n),r=(e=n.ownerDocument)==null?void 0:e.body,o=Ii(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=Ii(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+ws(n),l=-i.scrollTop;return In(r||t).direction==="rtl"&&(a+=Ii(t.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function Es(n){var e=In(n),t=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+i)}function Bp(n){return["html","body","#document"].indexOf(jt(n))>=0?n.ownerDocument.body:kt(n)&&Es(n)?n:Bp(Sr(n))}function _o(n,e){var t;e===void 0&&(e=[]);var i=Bp(n),r=i===((t=n.ownerDocument)==null?void 0:t.body),o=st(i),s=r?[o].concat(o.visualViewport||[],Es(i)?i:[]):i,a=e.concat(s);return r?a:a.concat(_o(Sr(s)))}function pl(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function S5(n,e){var t=ti(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function HN(n,e,t){return e===kp?pl(zy(n,t)):ei(e)?S5(e,t):pl(qy(nn(n)))}function A5(n){var e=_o(Sr(n)),t=["absolute","fixed"].indexOf(In(n).position)>=0,i=t&&kt(n)?Ci(n):n;return ei(i)?e.filter(function(r){return ei(r)&&Fu(r,i)&&jt(r)!=="body"}):[]}function Wy(n,e,t,i){var r=e==="clippingParents"?A5(n):[].concat(e),o=[].concat(r,[t]),s=o[0],a=o.reduce(function(l,u){var d=HN(n,u,i);return l.top=Ii(d.top,l.top),l.right=ms(d.right,l.right),l.bottom=ms(d.bottom,l.bottom),l.left=Ii(d.left,l.left),l},HN(n,s,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Uu(n){var e=n.reference,t=n.element,i=n.placement,r=i?$t(i):null,o=i?ni(i):null,s=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(r){case Ct:l={x:s,y:e.y-t.height};break;case tn:l={x:s,y:e.y+e.height};break;case Ut:l={x:e.x+e.width,y:a};break;case Pt:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var u=r?_s(r):null;if(u!=null){var d=u==="y"?"height":"width";switch(o){case Tr:l[u]=l[u]-(e[d]/2-t[d]/2);break;case ps:l[u]=l[u]+(e[d]/2-t[d]/2);break;default:}}return l}function vo(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=i===void 0?n.placement:i,o=t.strategy,s=o===void 0?n.strategy:o,a=t.boundary,l=a===void 0?PN:a,u=t.rootBoundary,d=u===void 0?kp:u,f=t.elementContext,m=f===void 0?ul:f,_=t.altBoundary,T=_===void 0?!1:_,M=t.padding,N=M===void 0?0:M,B=Vu(typeof N!="number"?N:Bu(N,go)),z=m===ul?kN:ul,$=n.rects.popper,W=n.elements[T?z:m],oe=Wy(ei(W)?W:W.contextElement||nn(n.elements.popper),l,d,s),Y=ti(n.elements.reference),S=Uu({reference:Y,element:$,strategy:"absolute",placement:r}),w=pl(Object.assign({},$,S)),b=m===ul?w:Y,D={top:oe.top-b.top+B.top,bottom:b.bottom-oe.bottom+B.bottom,left:oe.left-b.left+B.left,right:b.right-oe.right+B.right},A=n.modifiersData.offset;if(m===ul&&A){var P=A[r];Object.keys(D).forEach(function(C){var Wt=[Ut,tn].indexOf(C)>=0?1:-1,xn=[Ct,tn].indexOf(C)>=0?"y":"x";D[C]+=P[xn]*Wt})}return D}function Ky(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=t.boundary,o=t.rootBoundary,s=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,u=l===void 0?Fp:l,d=ni(i),f=d?a?$y:$y.filter(function(T){return ni(T)===d}):go,m=f.filter(function(T){return u.indexOf(T)>=0});m.length===0&&(m=f);var _=m.reduce(function(T,M){return T[M]=vo(n,{placement:M,boundary:r,rootBoundary:o,padding:s})[$t(M)],T},{});return Object.keys(_).sort(function(T,M){return _[T]-_[M]})}function M5(n){if($t(n)===Pp)return[];var e=fl(n);return[Vp(n),e,Vp(e)]}function N5(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var r=t.mainAxis,o=r===void 0?!0:r,s=t.altAxis,a=s===void 0?!0:s,l=t.fallbackPlacements,u=t.padding,d=t.boundary,f=t.rootBoundary,m=t.altBoundary,_=t.flipVariations,T=_===void 0?!0:_,M=t.allowedAutoPlacements,N=e.options.placement,B=$t(N),z=B===N,$=l||(z||!T?[fl(N)]:M5(N)),W=[N].concat($).reduce(function(Ur,Dn){return Ur.concat($t(Dn)===Pp?Ky(e,{placement:Dn,boundary:d,rootBoundary:f,padding:u,flipVariations:T,allowedAutoPlacements:M}):Dn)},[]),oe=e.rects.reference,Y=e.rects.popper,S=new Map,w=!0,b=W[0],D=0;D<W.length;D++){var A=W[D],P=$t(A),C=ni(A)===Tr,Wt=[Ct,tn].indexOf(P)>=0,xn=Wt?"width":"height",pn=vo(e,{placement:A,boundary:d,rootBoundary:f,altBoundary:m,padding:u}),Kt=Wt?C?Ut:Pt:C?tn:Ct;oe[xn]>Y[xn]&&(Kt=fl(Kt));var Ni=fl(Kt),ci=[];if(o&&ci.push(pn[P]<=0),a&&ci.push(pn[Kt]<=0,pn[Ni]<=0),ci.every(function(Ur){return Ur})){b=A,w=!1;break}S.set(A,ci)}if(w)for(var Oo=T?3:1,oc=function(Dn){var Po=W.find(function(xi){var or=S.get(xi);if(or)return or.slice(0,Dn).every(function(sc){return sc})});if(Po)return b=Po,"break"},Tn=Oo;Tn>0;Tn--){var yt=oc(Tn);if(yt==="break")break}e.placement!==b&&(e.modifiersData[i]._skip=!0,e.placement=b,e.reset=!0)}}var Qy={name:"flip",enabled:!0,phase:"main",fn:N5,requiresIfExists:["offset"],data:{_skip:!1}};function x5(n,e,t){var i=$t(n),r=[Pt,Ct].indexOf(i)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[Pt,Ut].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}function R5(n){var e=n.state,t=n.options,i=n.name,r=t.offset,o=r===void 0?[0,0]:r,s=Fp.reduce(function(d,f){return d[f]=x5(f,e.rects,o),d},{}),a=s[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[i]=s}var Yy={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:R5};function O5(n){var e=n.state,t=n.name;e.modifiersData[t]=Uu({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var GN={name:"popperOffsets",enabled:!0,phase:"read",fn:O5,data:{}};function Jy(n){return n==="x"?"y":"x"}function P5(n){var e=n.state,t=n.options,i=n.name,r=t.mainAxis,o=r===void 0?!0:r,s=t.altAxis,a=s===void 0?!1:s,l=t.boundary,u=t.rootBoundary,d=t.altBoundary,f=t.padding,m=t.tether,_=m===void 0?!0:m,T=t.tetherOffset,M=T===void 0?0:T,N=vo(e,{boundary:l,rootBoundary:u,padding:f,altBoundary:d}),B=$t(e.placement),z=ni(e.placement),$=!z,W=_s(B),oe=Jy(W),Y=e.modifiersData.popperOffsets,S=e.rects.reference,w=e.rects.popper,b=typeof M=="function"?M(Object.assign({},e.rects,{placement:e.placement})):M,D=typeof b=="number"?{mainAxis:b,altAxis:b}:Object.assign({mainAxis:0,altAxis:0},b),A=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,P={x:0,y:0};if(Y){if(o){var C,Wt=W==="y"?Ct:Pt,xn=W==="y"?tn:Ut,pn=W==="y"?"height":"width",Kt=Y[W],Ni=Kt+N[Wt],ci=Kt-N[xn],Oo=_?-w[pn]/2:0,oc=z===Tr?S[pn]:w[pn],Tn=z===Tr?-w[pn]:-S[pn],yt=e.elements.arrow,Ur=_&&yt?gs(yt):{width:0,height:0},Dn=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Lu(),Po=Dn[Wt],xi=Dn[xn],or=vs(0,S[pn],Ur[pn]),sc=$?S[pn]/2-Oo-or-Po-D.mainAxis:oc-or-Po-D.mainAxis,na=$?-S[pn]/2+Oo+or+xi+D.mainAxis:Tn+or+xi+D.mainAxis,jr=e.elements.arrow&&Ci(e.elements.arrow),ac=jr?W==="y"?jr.clientTop||0:jr.clientLeft||0:0,ia=(C=A?.[W])!=null?C:0,lc=Kt+sc-ia-ac,cc=Kt+na-ia,uc=vs(_?ms(Ni,lc):Ni,Kt,_?Ii(ci,cc):ci);Y[W]=uc,P[W]=uc-Kt}if(a){var dc,Sg=W==="x"?Ct:Pt,Qd=W==="x"?tn:Ut,Ri=Y[oe],$r=oe==="y"?"height":"width",hc=Ri+N[Sg],Yd=Ri-N[Qd],ko=[Ct,Pt].indexOf(B)!==-1,ra=(dc=A?.[oe])!=null?dc:0,oa=ko?hc:Ri-S[$r]-w[$r]-ra+D.altAxis,At=ko?Ri+S[$r]+w[$r]-ra-D.altAxis:Yd,Ft=_&&ko?BN(oa,Ri,At):vs(_?oa:hc,Ri,_?At:Yd);Y[oe]=Ft,P[oe]=Ft-Ri}e.modifiersData[i]=P}}var Xy={name:"preventOverflow",enabled:!0,phase:"main",fn:P5,requiresIfExists:["offset"]};function Zy(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function ew(n){return n===st(n)||!kt(n)?ys(n):Zy(n)}function k5(n){var e=n.getBoundingClientRect(),t=Dr(e.width)/n.offsetWidth||1,i=Dr(e.height)/n.offsetHeight||1;return t!==1||i!==1}function tw(n,e,t){t===void 0&&(t=!1);var i=kt(e),r=kt(e)&&k5(e),o=nn(e),s=ti(n,r,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!t)&&((jt(e)!=="body"||Es(o))&&(a=ew(e)),kt(e)?(l=ti(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=ws(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function F5(n){var e=new Map,t=new Set,i=[];n.forEach(function(o){e.set(o.name,o)});function r(o){t.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&r(l)}}),i.push(o)}return n.forEach(function(o){t.has(o.name)||r(o)}),i}function nw(n){var e=F5(n);return FN.reduce(function(t,i){return t.concat(e.filter(function(r){return r.phase===i}))},[])}function iw(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function rw(n){var e=n.reduce(function(t,i){var r=t[i.name];return t[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var zN={placement:"bottom",modifiers:[],strategy:"absolute"};function qN(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function WN(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,r=e.defaultOptions,o=r===void 0?zN:r;return function(a,l,u){u===void 0&&(u=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},zN,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],m=!1,_={state:d,setOptions:function(B){var z=typeof B=="function"?B(d.options):B;M(),d.options=Object.assign({},o,d.options,z),d.scrollParents={reference:ei(a)?_o(a):a.contextElement?_o(a.contextElement):[],popper:_o(l)};var $=nw(rw([].concat(i,d.options.modifiers)));return d.orderedModifiers=$.filter(function(W){return W.enabled}),T(),_.update()},forceUpdate:function(){if(!m){var B=d.elements,z=B.reference,$=B.popper;if(qN(z,$)){d.rects={reference:tw(z,Ci($),d.options.strategy==="fixed"),popper:gs($)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(D){return d.modifiersData[D.name]=Object.assign({},D.data)});for(var W=0;W<d.orderedModifiers.length;W++){if(d.reset===!0){d.reset=!1,W=-1;continue}var oe=d.orderedModifiers[W],Y=oe.fn,S=oe.options,w=S===void 0?{}:S,b=oe.name;typeof Y=="function"&&(d=Y({state:d,options:w,name:b,instance:_})||d)}}}},update:iw(function(){return new Promise(function(N){_.forceUpdate(),N(d)})}),destroy:function(){M(),m=!0}};if(!qN(a,l))return _;_.setOptions(u).then(function(N){!m&&u.onFirstUpdate&&u.onFirstUpdate(N)});function T(){d.orderedModifiers.forEach(function(N){var B=N.name,z=N.options,$=z===void 0?{}:z,W=N.effect;if(typeof W=="function"){var oe=W({state:d,name:B,instance:_,options:$}),Y=function(){};f.push(oe||Y)}})}function M(){f.forEach(function(N){return N()}),f=[]}return _}}var L5=[$N,GN,jN,LN],ow=WN({defaultModifiers:L5});var uw=["*"];function V5(n,e){if(n&1){let t=Zt();g(0,"button",1),me("click",function(){it(t);let r=$e();return rt(r.close())}),y()}}var B5=["dialog"];var JN={animation:!0,transitionTimerDelayMs:5},dw=(()=>{class n{constructor(){this.animation=JN.animation}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function U5(n){let{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n),i=parseFloat(e),r=parseFloat(t);return(i+r)*1e3}function hw(n){return typeof n=="string"}function sw(n){return n!=null}function j5(n){return n&&n.then}function $5(n,e){return!e||typeof n.closest>"u"?null:n.closest(e)}function XN(n){return(n||document.body).getBoundingClientRect()}function H5(n){return e=>new he(t=>{let i=s=>n.run(()=>t.next(s)),r=s=>n.run(()=>t.error(s)),o=()=>n.run(()=>t.complete());return e.subscribe({next:i,error:r,complete:o})})}var G5=()=>{},{transitionTimerDelayMs:z5}=JN,Up=new Map,qi=(n,e,t,i)=>{let r=i.context||{},o=Up.get(e);if(o)switch(i.runningTransition){case"continue":return Yt;case"stop":n.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),Up.delete(e)}let s=t(e,i.animation,r)||G5;if(!i.animation||window.getComputedStyle(e).transitionProperty==="none")return n.run(()=>s()),ne(void 0).pipe(H5(n));let a=new Ge,l=new Ge,u=a.pipe(u_(!0));Up.set(e,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});let d=U5(e);return n.runOutsideAngular(()=>{let f=_n(e,"transitionend").pipe(Mt(u),It(({target:_})=>_===e)),m=xc(d+z5).pipe(Mt(u));Fh(m,f,l).pipe(Mt(u)).subscribe(()=>{Up.delete(e),n.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};var ZN=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Ve({})}}return n})(),q5=(()=>{class n{constructor(){this._ngbConfig=V(dw),this.dismissible=!0,this.type="warning"}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),W5=({classList:n})=>{n.remove("show")},Hp=(()=>{class n{constructor(){this._config=V(q5),this._elementRef=V(Xt),this._zone=V(Ce),this.animation=this._config.animation,this.dismissible=this._config.dismissible,this.type=this._config.type,this.closed=new Le}close(){let t=qi(this._zone,this._elementRef.nativeElement,W5,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>this.closed.emit()),t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Se({type:n,selectors:[["ngb-alert"]],hostAttrs:["role","alert"],hostVars:6,hostBindings:function(i,r){i&2&&(ja("alert show"+(r.type?" alert-"+r.type:"")),Ei("fade",r.animation)("alert-dismissible",r.dismissible))},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[Ae],ngContentSelectors:uw,decls:2,vars:1,consts:()=>{let t;return t=$localize`:@@ngb.alert.close:Close`,[["type","button","aria-label",t,1,"btn-close"],["type","button","aria-label",t,1,"btn-close",3,"click"]]},template:function(i,r){i&1&&(jf(),$f(0),Ie(1,V5,1,0,"button",0)),i&2&&(I(),vA(1,r.dismissible?1:-1))},styles:[`ngb-alert{display:block}
`],encapsulation:2,changeDetection:0})}}return n})(),ml=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Ve({})}}return n})();var ex=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Ve({})}}return n})(),tx=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Ve({})}}return n})();var Gp=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(Gp||{});var jp=(n,e)=>e?e.some(t=>t.contains(n)):!1,KN=(n,e)=>!e||$5(n,e)!=null,K5=(()=>{let n=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(n()||e()):!1})(),Q5=n=>K5?()=>setTimeout(()=>n(),100):n;function Y5(n,e,t,i,r,o,s,a){t&&n.runOutsideAngular(Q5(()=>{let l=m=>{let _=m.target;return m.button===2||jp(_,s)?!1:t==="inside"?jp(_,o)&&KN(_,a):t==="outside"?!jp(_,o):KN(_,a)||!jp(_,o)},u=_n(e,"keydown").pipe(Mt(r),It(m=>m.which===Gp.Escape),tt(m=>m.preventDefault())),d=_n(e,"mousedown").pipe(ce(l),Mt(r)),f=_n(e,"mouseup").pipe(Pc(d),It(([m,_])=>_),c_(0),Mt(r));Fh([u.pipe(ce(m=>0)),f.pipe(ce(m=>1))]).subscribe(m=>n.run(()=>i(m)))}))}var J5=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function nx(n){let e=Array.from(n.querySelectorAll(J5)).filter(t=>t.tabIndex!==-1);return[e[0],e[e.length-1]]}var X5=(n,e,t,i=!1)=>{n.runOutsideAngular(()=>{let r=_n(e,"focusin").pipe(Mt(t),ce(o=>o.target));_n(e,"keydown").pipe(Mt(t),It(o=>o.which===Gp.Tab),Pc(r)).subscribe(([o,s])=>{let[a,l]=nx(e);(s===a||s===e)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&_n(e,"click").pipe(Mt(t),Pc(r),ce(o=>o[1])).subscribe(o=>o.focus())})},Z5=(()=>{class n{constructor(){this._element=V(Et).documentElement}isRTL(){return(this._element.getAttribute("dir")||"").toLowerCase()==="rtl"}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),eG=/\s+/,tG=/  +/gi,nG={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]};function iG(n,e){let[t,i]=nG[n];return e&&i||t}var rG=/^left/,oG=/^right/,sG=/^start/,aG=/^end/;function lG(n,e){let[t,i]=e.split("-"),r=t.replace(rG,"start").replace(oG,"end"),o=[r];if(i){let s=i;(t==="left"||t==="right")&&(s=s.replace(sG,"top").replace(aG,"bottom")),o.push(`${r}-${s}`)}return n&&(o=o.map(s=>`${n}-${s}`)),o.join(" ")}function QN({placement:n,baseClass:e},t){let i=Array.isArray(n)?n:n.split(eG),r=["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"],o=i.findIndex(u=>u==="auto");o>=0&&r.forEach(function(u){i.find(d=>d.search("^"+u)!==-1)==null&&i.splice(o++,1,u)});let s=i.map(u=>iG(u,t.isRTL()));return{placement:s.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!e,phase:"write",fn({state:u}){let d=new RegExp(e+"(-[a-z]+)*","gi"),f=u.elements.popper,m=u.placement,_=f.className;_=_.replace(d,""),_+=` ${lG(e,m)}`,_=_.trim().replace(tG," "),f.className=_}},Qy,Xy,Gy,{enabled:!0,name:"flip",options:{fallbackPlacements:s}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function YN(n){return n}function cG(){let n=V(Z5),e=null;return{createPopper(t){if(!e){let r=(t.updatePopperOptions||YN)(QN(t,n));e=ow(t.hostElement,t.targetElement,r)}},update(){e&&e.update()},setOptions(t){if(e){let r=(t.updatePopperOptions||YN)(QN(t,n));e.setOptions(r)}},destroy(){e&&(e.destroy(),e=null)}}}function uG(n){return e=>(e.modifiers.push(Yy,{name:"offset",options:{offset:()=>n}}),e)}var Kle=new Date(1882,10,12),Qle=new Date(2174,10,25);var Yle=1e3*60*60*24;var fw=1080,dG=24*fw,hG=12*fw+793,Jle=29*dG+hG,Xle=11*fw+204;var ix=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Ve({})}}return n})();var rx=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Ve({})}}return n})(),pw=(()=>{class n{constructor(){this._ngbConfig=V(dw),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ar=class{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}},aw=class{constructor(e){this._componentType=e,this._windowRef=null,this._contentRef=null,this._document=V(Et),this._applicationRef=V(bi),this._injector=V(Ot),this._viewContainerRef=V($i),this._ngZone=V(Ce)}open(e,t,i=!1){this._windowRef||(this._contentRef=this._getContentRef(e,t),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));let{nativeElement:r}=this._windowRef.location,o=this._ngZone.onStable.pipe(dt(1),et(()=>qi(this._ngZone,r,({classList:s})=>s.add("show"),{animation:i,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:o}}close(e=!1){return this._windowRef?qi(this._ngZone,this._windowRef.location.nativeElement,({classList:t})=>t.remove("show"),{animation:e,runningTransition:"stop"}).pipe(tt(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):ne(void 0)}_getContentRef(e,t){if(e)if(e instanceof Vi){let i=e.createEmbeddedView(t);return this._applicationRef.attachView(i),new Ar([i.rootNodes],i)}else return new Ar([[this._document.createTextNode(`${e}`)]]);else return new Ar([])}},fG=(()=>{class n{constructor(){this._document=V(Et)}hide(){let t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(t>0){let a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=s),r.overflow=o}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pG=(()=>{class n{constructor(){this._nativeElement=V(Xt).nativeElement,this._zone=V(Ce)}ngOnInit(){this._zone.onStable.asObservable().pipe(dt(1)).subscribe(()=>{qi(this._zone,this._nativeElement,(t,i)=>{i&&XN(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return qi(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Se({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){i&2&&(ja("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),Ei("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Ae],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return n})(),$p=class{update(e){}close(e){}dismiss(e){}},mG=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],gG=["animation","backdropClass"],lw=class{_applyWindowOptions(e,t){mG.forEach(i=>{sw(t[i])&&(e[i]=t[i])})}_applyBackdropOptions(e,t){gG.forEach(i=>{sw(t[i])&&(e[i]=t[i])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Mt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Mt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Ge,this._dismissed=new Ge,this._hidden=new Ge,e.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let t=this._beforeDismiss();j5(t)?t.then(i=>{i!==!1&&this._dismiss(e)},()=>{}):t!==!1&&this._dismiss(e)}}_removeModalElements(){let e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ne(void 0);e.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Rc(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},cw=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(cw||{}),_G=(()=>{class n{constructor(){this._document=V(Et),this._elRef=V(Xt),this._zone=V(Ce),this._closed$=new Ge,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Le,this.shown=new Ge,this.hidden=new Ge}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":hw(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(dt(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},r=qi(this._zone,t,()=>t.classList.remove("show"),i),o=qi(this._zone,this._dialogEl.nativeElement,()=>{},i),s=Rc(r,o);return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){let t={animation:this.animation,runningTransition:"continue"},i=qi(this._zone,this._elRef.nativeElement,(o,s)=>{s&&XN(o),o.classList.add("show")},t),r=qi(this._zone,this._dialogEl.nativeElement,()=>{},t);Rc(i,r).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{_n(t,"keydown").pipe(Mt(this._closed$),It(r=>r.which===Gp.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(cw.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;_n(this._dialogEl.nativeElement,"mousedown").pipe(Mt(this._closed$),tt(()=>i=!1),Lt(()=>_n(t,"mouseup").pipe(Mt(this._closed$),dt(1))),It(({target:r})=>t===r)).subscribe(()=>{i=!0}),_n(t,"click").pipe(Mt(this._closed$)).subscribe(({target:r})=>{t===r&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(cw.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){let i=t.querySelector("[ngbAutofocus]"),r=nx(t)[0];(i||r||t).focus()}}_restoreFocus(){let t=this._document.body,i=this._elWithFocus,r;i&&i.focus&&t.contains(i)?r=i:r=t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&qi(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Se({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(i&1&&oo(B5,7),i&2){let o;Er(o=br())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){i&2&&(Ua("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),ja("modal d-block"+(r.windowClass?" "+r.windowClass:"")),Ei("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Ae],ngContentSelectors:uw,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){i&1&&(jf(),g(0,"div",1,0)(2,"div",2),$f(3),y()()),i&2&&ja("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return n})(),vG=(()=>{class n{constructor(){this._applicationRef=V(bi),this._injector=V(Ot),this._environmentInjector=V(Jt),this._document=V(Et),this._scrollBar=V(fG),this._activeWindowCmptHasChanged=new Ge,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Le;let t=V(Ce);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];X5(t,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){let o=r.container instanceof HTMLElement?r.container:sw(r.container)?this._document.querySelector(r.container):this._document.body;if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let s=new $p;t=r.injector||t;let a=t.get(Jt,null)||this._environmentInjector,l=this._getContentRef(t,a,i,s,r),u=r.backdrop!==!1?this._attachBackdrop(o):void 0,d=this._attachWindowComponent(o,l.nodes),f=new lw(d,l,u,r.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(d),f.hidden.pipe(dt(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),s.close=m=>{f.close(m)},s.dismiss=m=>{f.dismiss(m)},s.update=m=>{f.update(m)},f.update(r),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),u&&u.instance&&u.changeDetectorRef.detectChanges(),d.changeDetectorRef.detectChanges(),f}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=Wf(pG,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=Wf(_G,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_getContentRef(t,i,r,o,s){return r?r instanceof Vi?this._createFromTemplateRef(r,o):hw(r)?this._createFromString(r):this._createFromComponent(t,i,r,o,s):new Ar([])}_createFromTemplateRef(t,i){let r={$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}},o=t.createEmbeddedView(r);return this._applicationRef.attachView(o),new Ar([o.rootNodes],o)}_createFromString(t){let i=this._document.createTextNode(`${t}`);return new Ar([[i]])}_createFromComponent(t,i,r,o,s){let a=Ot.create({providers:[{provide:$p,useValue:o}],parent:t}),l=Wf(r,{environmentInjector:i,elementInjector:a}),u=l.location.nativeElement;return s.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new Ar([[u]],l.hostView,l)}_setAriaHidden(t){let i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&r.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){let i=()=>{let r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{let i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Mr=(()=>{class n{constructor(){this._injector=V(Ot),this._modalStack=V(vG),this._config=V(pw)}open(t,i={}){let r=Q(Pe(Q({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ox=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Ve({providers:[Mr]})}}return n})();var sx=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Ve({})}}return n})();var ax=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Ve({})}}return n})(),yG={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]};function wG(n){let e=(n||"").trim();if(e.length===0)return[];let t=e.split(/\s+/).map(r=>r.split(":")).map(r=>yG[r[0]]||r),i=t.filter(r=>r.includes("manual"));if(i.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(i.length===1&&t.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return i.length?[]:t}function EG(n,e,t,i,r,o=0,s=0){let a=wG(e);if(a.length===0)return()=>{};let l=new Set,u=[],d;function f(_,T){n.addEventListener(_,T),u.push(()=>n.removeEventListener(_,T))}function m(_,T){clearTimeout(d),T>0?d=setTimeout(_,T):_()}for(let[_,T]of a)T?(f(_,()=>{l.add(_),m(()=>l.size>0&&i(),o)}),f(T,()=>{l.delete(_),m(()=>l.size===0&&r(),s)})):f(_,()=>t()?m(r,s):m(i,o));return()=>u.forEach(_=>_())}var lx=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Ve({})}}return n})();var cx=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Ve({})}}return n})();var ux=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Ve({})}}return n})();var dx=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Ve({})}}return n})();var hx=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Ve({})}}return n})();var fx=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Ve({})}}return n})(),bG=(()=>{class n{constructor(){this._ngbConfig=V(dw),this.autoClose=!0,this.placement="auto",this.popperOptions=t=>t,this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),IG=0,CG=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Se({type:n,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(i,r){i&2&&(y0("id",r.id),ja("tooltip"+(r.tooltipClass?" "+r.tooltipClass:"")),Ei("fade",r.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},standalone:!0,features:[Ae],ngContentSelectors:uw,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(i,r){i&1&&(jf(),U(0,"div",0),g(1,"div",1),$f(2),y())},styles:[`ngb-tooltip-window{pointer-events:none;position:absolute}ngb-tooltip-window .tooltip-inner{pointer-events:auto}ngb-tooltip-window.bs-tooltip-top,ngb-tooltip-window.bs-tooltip-bottom{padding-left:0;padding-right:0}ngb-tooltip-window.bs-tooltip-start,ngb-tooltip-window.bs-tooltip-end{padding-top:0;padding-bottom:0}
`],encapsulation:2,changeDetection:0})}}return n})(),px=(()=>{class n{constructor(){this._config=V(bG),this.animation=this._config.animation,this.autoClose=this._config.autoClose,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.triggers=this._config.triggers,this.container=this._config.container,this.disableTooltip=this._config.disableTooltip,this.tooltipClass=this._config.tooltipClass,this.openDelay=this._config.openDelay,this.closeDelay=this._config.closeDelay,this.shown=new Le,this.hidden=new Le,this._nativeElement=V(Xt).nativeElement,this._ngZone=V(Ce),this._document=V(Et),this._changeDetector=V(Jn),this._ngbTooltipWindowId=`ngb-tooltip-${IG++}`,this._popupService=new aw(CG),this._windowRef=null,this._positioning=cG()}set ngbTooltip(t){this._ngbTooltip=t,!t&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(t){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){let{windowRef:i,transition$:r}=this._popupService.open(this._ngbTooltip,t??this.tooltipContext,this.animation);this._windowRef=i,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("tooltipClass",this.tooltipClass),this._windowRef.setInput("id",this._ngbTooltipWindowId),this._getPositionTargetElement().setAttribute("aria-describedby",this._ngbTooltipWindowId),this.container==="body"&&this._document.body.appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:this.container==="body",baseClass:"bs-tooltip",updatePopperOptions:o=>this.popperOptions(uG([0,6])(o))}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),Y5(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement],[this._nativeElement]),r.subscribe(()=>this.shown.emit())}}close(t=this.animation){this._windowRef!=null&&(this._getPositionTargetElement().removeAttribute("aria-describedby"),this._popupService.close(t).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return this._windowRef!=null}ngOnInit(){this._unregisterListenersFn=EG(this._nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:t}){t&&this.isOpen()&&this._windowRef.setInput("tooltipClass",t.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_getPositionTargetElement(){return(hw(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._nativeElement}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=gt({type:n,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",tooltipContext:"tooltipContext",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],standalone:!0,features:[vi]})}}return n})(),zp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Ve({})}}return n})();var Zle=new Z("live announcer delay",{providedIn:"root",factory:()=>100});var mx=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Ve({})}}return n})();var gx=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Ve({})}}return n})(),TG=[ZN,ml,ex,tx,ix,rx,ox,sx,gx,ax,lx,cx,ux,dx,hx,fx,zp,mx],qp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Be({type:n})}static{this.\u0275inj=Ve({imports:[TG,ZN,ml,ex,tx,ix,rx,ox,sx,gx,ax,lx,cx,ux,dx,hx,fx,zp,mx]})}}return n})();var wo=class{},_x=(()=>{class n extends wo{getTranslation(t){return ne({})}static \u0275fac=(()=>{let t;return function(r){return(t||(t=yi(n)))(r||n)}})();static \u0275prov=J({token:n,factory:n.\u0275fac})}return n})(),$u=class{},vx=(()=>{class n{handle(t){return t.key}static \u0275fac=function(i){return new(i||n)};static \u0275prov=J({token:n,factory:n.\u0275fac})}return n})();function Qp(n,e){if(n===e)return!0;if(n===null||e===null)return!1;if(n!==n&&e!==e)return!0;let t=typeof n,i=typeof e,r,o,s;if(t==i&&t=="object")if(Array.isArray(n)){if(!Array.isArray(e))return!1;if((r=n.length)==e.length){for(o=0;o<r;o++)if(!Qp(n[o],e[o]))return!1;return!0}}else{if(Array.isArray(e))return!1;s=Object.create(null);for(o in n){if(!Qp(n[o],e[o]))return!1;s[o]=!0}for(o in e)if(!(o in s)&&typeof e[o]<"u")return!1;return!0}return!1}function yo(n){return typeof n<"u"&&n!==null}function Hu(n){return Kp(n)&&!Ew(n)}function Kp(n){return typeof n=="object"}function Ew(n){return Array.isArray(n)}function bw(n){return typeof n=="string"}function DG(n){return typeof n=="function"}function mw(n,e){let t=Object.assign({},n);return Kp(n)?(Kp(n)&&Kp(e)&&Object.keys(e).forEach(i=>{Hu(e[i])?i in n?t[i]=mw(n[i],e[i]):Object.assign(t,{[i]:e[i]}):Object.assign(t,{[i]:e[i]})}),t):mw({},e)}function gw(n,e){let t=e.split(".");e="";do e+=t.shift(),yo(n)&&yo(n[e])&&(Hu(n[e])||Ew(n[e])||!t.length)?(n=n[e],e=""):t.length?e+=".":n=void 0;while(t.length);return n}function SG(n,e,t){let i=e.split("."),r=n;for(let o=0;o<i.length;o++){let s=i[o];o===i.length-1?r[s]=t:((!r[s]||!Hu(r[s]))&&(r[s]={}),r=r[s])}}var gl=class{},yx=(()=>{class n extends gl{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(t,i){if(bw(t))return this.interpolateString(t,i);if(DG(t))return this.interpolateFunction(t,i)}interpolateFunction(t,i){return t(i)}interpolateString(t,i){return i?t.replace(this.templateMatcher,(r,o)=>{let s=gw(i,o);return yo(s)?s:r}):t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=yi(n)))(r||n)}})();static \u0275prov=J({token:n,factory:n.\u0275fac})}return n})(),_l=class{},wx=(()=>{class n extends _l{compile(t,i){return t}compileTranslations(t,i){return t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=yi(n)))(r||n)}})();static \u0275prov=J({token:n,factory:n.\u0275fac})}return n})(),Yp=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new Le;onLangChange=new Le;onDefaultLangChange=new Le},_w=new Z("ISOALTE_TRANSLATE_SERVICE"),vw=new Z("USE_DEFAULT_LANG"),yw=new Z("DEFAULT_LANGUAGE"),ww=new Z("USE_EXTEND"),ju=n=>ur(n)?n:ne(n),Ye=(()=>{class n{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;isolate;extend;loadingTranslations;pending=!1;_onTranslationChange=new Le;_onLangChange=new Le;_onDefaultLangChange=new Le;_defaultLang;_currentLang;_langs=[];_translations={};_translationRequests={};lastUseLanguage=null;get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}constructor(t,i,r,o,s,a=!0,l=!1,u=!1,d){this.store=t,this.currentLoader=i,this.compiler=r,this.parser=o,this.missingTranslationHandler=s,this.useDefaultLang=a,this.isolate=l,this.extend=u,d&&this.setDefaultLang(d)}setDefaultLang(t){if(t===this.defaultLang)return;let i=this.retrieveTranslations(t);typeof i<"u"?(this.defaultLang==null&&(this.defaultLang=t),i.pipe(dt(1)).subscribe(()=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(this.lastUseLanguage=t,t===this.currentLang)return ne(this.translations[t]);this.currentLang||(this.currentLang=t);let i=this.retrieveTranslations(t);return ur(i)?(i.pipe(dt(1)).subscribe(()=>{this.changeLang(t)}),i):(this.changeLang(t),ne(this.translations[t]))}changeLang(t){t===this.lastUseLanguage&&(this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),this.defaultLang==null&&this.changeDefaultLang(t))}retrieveTranslations(t){if(typeof this.translations[t]>"u"||this.extend)return this._translationRequests[t]=this._translationRequests[t]||this.loadAndCompileTranslations(t),this._translationRequests[t]}getTranslation(t){return this.loadAndCompileTranslations(t)}loadAndCompileTranslations(t){this.pending=!0;let i=this.currentLoader.getTranslation(t).pipe(Vh(1),dt(1));return this.loadingTranslations=i.pipe(ce(r=>this.compiler.compileTranslations(r,t)),Vh(1),dt(1)),this.loadingTranslations.subscribe({next:r=>{this.translations[t]=this.extend&&this.translations[t]?Q(Q({},r),this.translations[t]):r,this.updateLangs(),this.pending=!1},error:r=>{this.pending=!1}}),i}setTranslation(t,i,r=!1){let o=this.compiler.compileTranslations(i,t);(r||this.extend)&&this.translations[t]?this.translations[t]=mw(this.translations[t],o):this.translations[t]=o,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(i=>{this.langs.indexOf(i)===-1&&this.langs.push(i)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResultForKey(t,i,r){let o;if(t&&(o=this.runInterpolation(gw(t,i),r)),o===void 0&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(o=this.runInterpolation(gw(this.translations[this.defaultLang],i),r)),o===void 0){let s={key:i,translateService:this};typeof r<"u"&&(s.interpolateParams=r),o=this.missingTranslationHandler.handle(s)}return o!==void 0?o:i}runInterpolation(t,i){if(Ew(t))return t.map(r=>this.runInterpolation(r,i));if(Hu(t)){let r={};for(let o in t)r[o]=this.runInterpolation(t[o],i);return r}else return this.parser.interpolate(t,i)}getParsedResult(t,i,r){if(i instanceof Array){let o={},s=!1;for(let l of i)o[l]=this.getParsedResultForKey(t,l,r),s=s||ur(o[l]);if(!s)return o;let a=i.map(l=>ju(o[l]));return Nc(a).pipe(ce(l=>{let u={};return l.forEach((d,f)=>{u[i[f]]=d}),u}))}return this.getParsedResultForKey(t,i,r)}get(t,i){if(!yo(t)||!t.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(Oi(r=>ju(this.getParsedResult(r,t,i)))):ju(this.getParsedResult(this.translations[this.currentLang],t,i))}getStreamOnTranslationChange(t,i){if(!yo(t)||!t.length)throw new Error('Parameter "key" is required and cannot be empty');return On(Go(()=>this.get(t,i)),this.onTranslationChange.pipe(Lt(r=>{let o=this.getParsedResult(r.translations,t,i);return ju(o)})))}stream(t,i){if(!yo(t)||!t.length)throw new Error('Parameter "key" required');return On(Go(()=>this.get(t,i)),this.onLangChange.pipe(Lt(r=>{let o=this.getParsedResult(r.translations,t,i);return ju(o)})))}instant(t,i){if(!yo(t)||t.length===0)throw new Error('Parameter "key" is required and cannot be empty');let r=this.getParsedResult(this.translations[this.currentLang],t,i);return ur(r)?Array.isArray(t)?t.reduce((o,s)=>(o[s]=s,o),{}):t:r}set(t,i,r=this.currentLang){SG(this.translations[r],t,bw(i)?this.compiler.compile(i,r):this.compiler.compileTranslations(i,r)),this.updateLangs(),this.onTranslationChange.emit({lang:r,translations:this.translations[r]})}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.loadAndCompileTranslations(t)}resetLang(t){delete this._translationRequests[t],delete this.translations[t]}getBrowserLang(){if(typeof window>"u"||!window.navigator)return;let t=this.getBrowserCultureLang();return t?t.split(/[-_]/)[0]:void 0}getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}static \u0275fac=function(i){return new(i||n)(te(Yp),te(wo),te(_l),te(gl),te($u),te(vw),te(_w),te(ww),te(yw))};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var at=(()=>{class n{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(t,i){this.translate=t,this._ref=i}updateValue(t,i,r){let o=s=>{this.value=s!==void 0?s:t,this.lastKey=t,this._ref.markForCheck()};if(r){let s=this.translate.getParsedResult(r,t,i);ur(s)?s.subscribe(o):o(s)}this.translate.get(t,i).subscribe(o)}transform(t,...i){if(!t||!t.length)return t;if(Qp(t,this.lastKey)&&Qp(i,this.lastParams))return this.value;let r;if(yo(i[0])&&i.length)if(bw(i[0])&&i[0].length){let o=i[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{r=JSON.parse(o)}catch(s){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${i[0]}`)}}else Hu(i[0])&&(r=i[0]);return this.lastKey=t,this.lastParams=i,this.updateValue(t,r),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(o=>{this.lastKey&&o.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,r,o.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(o=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,r,o.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,r))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(i){return new(i||n)(H(Ye,16),H(Jn,16))};static \u0275pipe=Pv({name:"translate",type:n,pure:!1,standalone:!0});static \u0275prov=J({token:n,factory:n.\u0275fac})}return n})();var Xe=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[t.loader||{provide:wo,useClass:_x},t.compiler||{provide:_l,useClass:wx},t.parser||{provide:gl,useClass:yx},t.missingTranslationHandler||{provide:$u,useClass:vx},Yp,{provide:_w,useValue:t.isolate},{provide:vw,useValue:t.useDefaultLang},{provide:ww,useValue:t.extend},{provide:yw,useValue:t.defaultLanguage},Ye]}}static forChild(t={}){return{ngModule:n,providers:[t.loader||{provide:wo,useClass:_x},t.compiler||{provide:_l,useClass:wx},t.parser||{provide:gl,useClass:yx},t.missingTranslationHandler||{provide:$u,useClass:vx},{provide:_w,useValue:t.isolate},{provide:vw,useValue:t.useDefaultLang},{provide:ww,useValue:t.extend},{provide:yw,useValue:t.defaultLanguage},Ye]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Be({type:n});static \u0275inj=Ve({})}return n})();var lt=(()=>{class n{constructor(t,i){this.translate=t,this.platformId=i,this.currentLanguageSubject=new bt(this.getStoredLanguage()||"sv"),this.currentLanguage$=this.currentLanguageSubject.asObservable(),this.translate.addLangs(["en","sv"]);let r=this.getStoredLanguage();r?this.useLanguage(r):this.setDefaultLang("sv")}getStoredLanguage(){return ao(this.platformId)?localStorage.getItem("selectedLanguageSV"):null}setDefaultLang(t){this.translate.addLangs(["en","sv"]),this.translate.setDefaultLang(t),this.useLanguage(t)}useLanguage(t){this.translate.use(t),ao(this.platformId)&&localStorage.setItem("selectedLanguageSV",t),this.currentLanguageSubject.next(t)}static{this.\u0275fac=function(i){return new(i||n)(te(Ye),te(Bt))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var AG=["tooltip"],Ex=(()=>{class n{constructor(t,i,r){this.translationService=t,this.translate=i,this.router=r}ngOnInit(){this.translationService.currentLanguage$.subscribe(t=>{})}navigateToPage(t){this.router.navigate(["/"+t])}toggleTooltip(t){t.isOpen()?t.close():t.open()}static{this.\u0275fac=function(i){return new(i||n)(H(lt),H(Ye),H(bp))}}static{this.\u0275cmp=Se({type:n,selectors:[["app-home"]],viewQuery:function(i,r){if(i&1&&oo(AG,5),i&2){let o;Er(o=br())&&(r.tooltip=o.first)}},standalone:!0,features:[Ae],decls:120,vars:57,consts:[[1,"home-content"],[1,"logo-container"],[1,"company-name","gradient-text"],[2,"font-size","medium","letter-spacing","0.5rem","margin-top","-1rem"],[1,"main-content","container"],[1,"left-section"],[1,"card","expertise-card"],[1,"card-title"],[1,"card-definition"],[1,"card","process-card"],[1,"card","client-card"],[1,"card","cost-card"],[1,"right-section"],["src","assets/robo.jpg","alt","Small Image"],[1,"right-text"],[1,"custom-hr"],[1,"services-content","container"],[1,"services-header"],[1,"gallery"],[1,"row","no-gutters"],[1,"col-4","image-container",3,"click"],[1,"image-wrapper"],["src","assets/01-iot.jpg",1,"image"],[1,"overlay"],[1,"text"],["src","assets/02-strategic.jpg",1,"image"],["src","assets/03-software.jpg",1,"image"],["src","assets/04-quality.jpg",1,"image"],["src","assets/05-team.jpg",1,"image"],["src","assets/06-sustainability.jpg",1,"image"],[1,"brand-content","container"],[1,"brand-partners-row"],[1,"brand-partners-col"],["src","assets/logos/volvo-spread-wordmark.svg",1,"brand-img"],["src","assets/logos/maeu.svg",1,"brand-img"],[1,"brand-partners-col",2,"background-color","black","height","fit-content"],["src","assets/logos/sigma.svg",1,"brand-img"],["src","assets/logos/DXC-Logo.png",1,"brand-img","scania"],["src","assets/logos/hbu.png",1,"brand-img",2,"width","100% !important"],[1,"locations-content","container"],[1,"services-header",2,"padding-bottom","2vh"],[1,"image-container"],["src","assets/locations.png","alt","Interactive Image",1,"interactive-image"],["placement","bottom","tooltipClass","custom-class-tooltip","ngbTooltip","Hykmann Techno India Pvt Ltd C/O Kokarya Business Synergy Center No.07/3, 2nd Floor, 18th Main Road, Kottapalya, Marenahalli, Jayanagar 9th Block, J.P Nagar, Bengaluru, Karnataka, 560041, India",1,"point",2,"top","46%","left","70%",3,"click"],["placement","bottom","tooltipClass","custom-class-tooltip","ngbTooltip","Hykmann Tech Labs Sverige AB Kistag\xE5ngen 20b 16440 Kista, Stockholm, Sweden",1,"point",2,"top","12%","left","49%",3,"click"],["placement","bottom","tooltipClass","custom-class-tooltip","ngbTooltip","Beyond Beta Ltd 71-75 Shelton Street, Covent Garden, London, United Kingdom, WC2H 9JQ",1,"point",2,"top","17%","left","45%",3,"click"]],template:function(i,r){i&1&&(g(0,"div",0)(1,"div",1)(2,"div",2),E(3," Hykmann "),g(4,"p",3),E(5),x(6,"translate"),y()()()(),g(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7),E(11),x(12,"translate"),y(),g(13,"div",8),E(14),x(15,"translate"),y()(),g(16,"div",9)(17,"div",7),E(18),x(19,"translate"),y(),g(20,"div",8),E(21),x(22,"translate"),y()(),g(23,"div",10)(24,"div",7),E(25),x(26,"translate"),y(),g(27,"div",8),E(28),x(29,"translate"),y()(),g(30,"div",11)(31,"div",7),E(32),x(33,"translate"),y(),g(34,"div",8),E(35),x(36,"translate"),y()()(),g(37,"div",12),U(38,"img",13),g(39,"div",14),E(40),x(41,"translate"),y()()(),U(42,"hr",15),g(43,"div",16)(44,"div",17),E(45),x(46,"translate"),y(),g(47,"div",18)(48,"div",19)(49,"div",20),me("click",function(){return r.navigateToPage("iot")}),g(50,"div",21),U(51,"img",22),g(52,"div",23)(53,"div",24),E(54),x(55,"translate"),y()()()(),g(56,"div",20),me("click",function(){return r.navigateToPage("strategic")}),g(57,"div",21),U(58,"img",25),g(59,"div",23)(60,"div",24),E(61),x(62,"translate"),y()()()(),g(63,"div",20),me("click",function(){return r.navigateToPage("software-engineering")}),g(64,"div",21),U(65,"img",26),g(66,"div",23)(67,"div",24),E(68),x(69,"translate"),y()()()()(),g(70,"div",19)(71,"div",20),me("click",function(){return r.navigateToPage("quality-lifecycle-management")}),g(72,"div",21),U(73,"img",27),g(74,"div",23)(75,"div",24),E(76),x(77,"translate"),y()()()(),g(78,"div",20),me("click",function(){return r.navigateToPage("team-extension")}),g(79,"div",21),U(80,"img",28),g(81,"div",23)(82,"div",24),E(83),x(84,"translate"),y()()()(),g(85,"div",20),me("click",function(){return r.navigateToPage("sustainability")}),g(86,"div",21),U(87,"img",29),g(88,"div",23)(89,"div",24),E(90),x(91,"translate"),y()()()()()()(),U(92,"hr",15),g(93,"div",30)(94,"div",17),E(95),x(96,"translate"),y(),U(97,"br"),g(98,"div",31)(99,"div",32),U(100,"img",33),y(),g(101,"div",32),U(102,"img",34),y(),g(103,"div",35),U(104,"img",36),y(),g(105,"div",32),U(106,"img",37),y(),g(107,"div",32),U(108,"img",38),y()()(),U(109,"hr",15),g(110,"div",39)(111,"div",40),E(112),x(113,"translate"),y(),g(114,"div",41),U(115,"img",42),g(116,"div",43),me("click",function(){return r.toggleTooltip(r.tooltip)}),y(),g(117,"div",44),me("click",function(){return r.toggleTooltip(r.tooltip)}),y(),g(118,"div",45),me("click",function(){return r.toggleTooltip(r.tooltip)}),y()()(),U(119,"hr",15)),i&2&&(I(5),ie(" ",R(6,19,"HOME.TAGLINE"),""),I(6),F(R(12,21,"HOME.EXPERTISE_AND_INNOVATION")),I(3),F(R(15,23,"HOME.EXPERTISE_AND_INNOVATION_DESCRIPTION")),I(4),F(R(19,25,"HOME.TRANSPARENT_PROCESS")),I(3),F(R(22,27,"HOME.TRANSPARENT_PROCESS_DESCRIPTION")),I(4),F(R(26,29,"HOME.CLIENT_CENTRIC_APPROACH")),I(3),F(R(29,31,"HOME.CLIENT_CENTRIC_APPROACH_DESCRIPTION")),I(4),F(R(33,33,"HOME.COST_EFFECTIVE")),I(3),F(R(36,35,"HOME.COST_EFFECTIVE_DESCRIPTION")),I(5),ie(" ",R(41,37,"HOME.EXPERTISE_TAGLINE")," "),I(5),F(R(46,39,"SERVICES")),I(9),F(R(55,41,"IOT_EMBEDDED_DROPDOWN")),I(7),F(R(62,43,"STRATEGIC_SERVICES_DROPDOWN")),I(7),F(R(69,45,"SOFTWARE_ENGINEERING_SERVICES_DROPDOWN")),I(8),F(R(77,47,"QUALITY_MANAGEMENT_SERVICES_DROPDOWN")),I(7),F(R(84,49,"TEAM_EXTENSION_DROPDOWN")),I(7),F(R(91,51,"SUSTAINABILITY_DROPDOWN")),I(5),F(R(96,53,"HOME.GLOBAL_BRAND_PARTNERS")),I(17),F(R(113,55,"HOME.OUR_LOCATIONS_HEADER")))},dependencies:[Bn,zp,px,Xe,at],styles:['.home-content[_ngcontent-%COMP%]{background:none;padding:4rem 10%;text-align:left;color:#fff;display:flex;height:100vh;flex-direction:column;align-items:flex-start;position:relative}.home-content[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:url(/assets/extra-2.jpg) no-repeat center center/cover;filter:brightness(.7);animation:_ngcontent-%COMP%_rotateFadeIn 2.5s ease-out forwards}@keyframes _ngcontent-%COMP%_rotateFadeIn{0%{opacity:0;transform:rotate(-10deg) scale(.9)}to{opacity:1;transform:rotate(0) scale(1)}}.company-name[_ngcontent-%COMP%]{position:absolute;top:50%;left:3rem;background:linear-gradient(to right,#000,#7693f8);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-size:8rem;font-weight:700;max-width:70%;font-family:Archivo Black,sans-serif}.scroll-down[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;bottom:50px;left:90%;transform:translate(-50%);text-align:center;font-size:1.2rem;color:#333;cursor:pointer;animation:_ngcontent-%COMP%_bounce 2s infinite;width:200px}.scroll-down[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-bottom:60px;font-size:1rem;color:gray}.scroll-down[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem}@keyframes _ngcontent-%COMP%_bounce{0%,20%,50%,80%,to{transform:translate(-50%) translateY(0)}40%{transform:translate(-50%) translateY(-10px)}60%{transform:translate(-50%) translateY(-5px)}}.cta-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.cta-button[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 10px 20px #0000001a;cursor:pointer}.tagline[_ngcontent-%COMP%]{position:absolute;top:92%;right:5rem;transform:rotate(90deg);transform-origin:right center;color:#000;font-size:2rem;font-weight:700}.main-content[_ngcontent-%COMP%]{margin-top:8rem;padding:0 6rem;display:flex;justify-content:space-between}.left-section[_ngcontent-%COMP%]{flex:1;display:grid;grid-template-columns:1fr 2fr;align-items:start}.card[_ngcontent-%COMP%]{background:radial-gradient(circle,#e3ebfd,#fff);padding:2rem;border-radius:40px;color:#737373;font-size:1.5rem;display:flex;justify-content:center;align-items:center;text-align:center;height:35vh;width:35vh;font-weight:700;border:0}.card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 10px 20px #0000001a;cursor:pointer}.card-definition[_ngcontent-%COMP%]{display:none;font-size:medium;font-weight:400}.expertise-card[_ngcontent-%COMP%]:hover   .card-definition[_ngcontent-%COMP%]{display:block}.expertise-card[_ngcontent-%COMP%]:hover   .card-title[_ngcontent-%COMP%]{display:none}.process-card[_ngcontent-%COMP%]:hover   .card-definition[_ngcontent-%COMP%]{display:block}.process-card[_ngcontent-%COMP%]:hover   .card-title[_ngcontent-%COMP%]{display:none}.client-card[_ngcontent-%COMP%]:hover   .card-definition[_ngcontent-%COMP%]{display:block}.client-card[_ngcontent-%COMP%]:hover   .card-title[_ngcontent-%COMP%]{display:none}.cost-card[_ngcontent-%COMP%]:hover   .card-definition[_ngcontent-%COMP%]{display:block}.cost-card[_ngcontent-%COMP%]:hover   .card-title[_ngcontent-%COMP%]{display:none}.card[_ngcontent-%COMP%]:nth-child(2){margin-top:2rem}.card[_ngcontent-%COMP%]:nth-child(4){margin-top:2rem}.right-section[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:flex-end;justify-content:center;padding-left:2rem}.right-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:320px;height:auto;margin-bottom:1rem}.right-text[_ngcontent-%COMP%]{font-size:5rem;color:#000;font-weight:700;font-family:Archivo Black,sans-serif;text-align:right}.services-content[_ngcontent-%COMP%]{margin-top:3rem;padding:0 6rem;font-family:Archivo Black,sans-serif}.services-header[_ngcontent-%COMP%]{color:#000;font-size:4rem;font-weight:700;font-family:Archivo Black,sans-serif;display:block;margin-bottom:2rem}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;padding-left:23vh;padding-right:0vh}.col-4[_ngcontent-%COMP%]{flex:0 0 33.33%;padding:0rem}.number-container[_ngcontent-%COMP%]{position:relative}.number-container[_ngcontent-%COMP%]:hover{transform:scale(1.25);cursor:pointer}.number[_ngcontent-%COMP%]{font-size:7rem;color:#999ef1;font-weight:700;font-family:Archivo Black,sans-serif;opacity:40%;z-index:1}.text-below[_ngcontent-%COMP%]{font-size:1.6rem;color:#333;margin-top:-53px;z-index:100;width:45%}.number-container[_ngcontent-%COMP%]:hover   .sub-category-row[_ngcontent-%COMP%]{display:block}.locations-content[_ngcontent-%COMP%]{margin-top:3rem;padding:0 6rem;text-align:center;font-family:Archivo Black,sans-serif}.image-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:800px;margin:0 auto}.interactive-image[_ngcontent-%COMP%]{width:100%;scale:1.2}.point[_ngcontent-%COMP%]{position:absolute;width:15px;height:15px;background-color:#007bff;border-radius:50%;cursor:pointer;border:2px solid #fff;transition:transform .2s}.point[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.tooltip-inner[_ngcontent-%COMP%]{background-color:green!important;color:#fff}.brand-content[_ngcontent-%COMP%]{margin-top:5rem;padding:0 5rem;text-align:center;font-family:Archivo Black,sans-serif}.brand-partners-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;padding-right:0vh}.brand-partners-col[_ngcontent-%COMP%]{flex:0 0 10%;padding:0rem}.brand-img[_ngcontent-%COMP%]{width:80%}.gallery[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.row[_ngcontent-%COMP%]{display:flex;width:100%}.no-gutters[_ngcontent-%COMP%]{margin:0;padding:0}.col-4[_ngcontent-%COMP%]{flex:1 0 33.3333%;position:relative}.image-container[_ngcontent-%COMP%]{overflow:hidden}.image-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .5s ease}.image-wrapper[_ngcontent-%COMP%]:hover   .image[_ngcontent-%COMP%]{transform:scale(1.1)}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#0000004d;opacity:1;transition:opacity .3s ease}.text[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;font-weight:700;text-align:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}@media only screen and (max-width: 768px){.home-content[_ngcontent-%COMP%]{overflow-x:hidden}.home-content[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:url(/assets/extra-2-m.png) no-repeat center center/cover!important;animation:_ngcontent-%COMP%_rotateFadeIn 2.5s ease-out forwards}body[_ngcontent-%COMP%]{overflow-x:hidden}.company-name[_ngcontent-%COMP%]{top:50%;left:1rem;font-size:4rem;max-width:100%}p[_ngcontent-%COMP%]{margin-top:1rem!important;font-size:.8rem!important}.main-content[_ngcontent-%COMP%]{flex-direction:column;padding:0 2rem;padding-top:4vhl}.left-section[_ngcontent-%COMP%]{display:none;grid-template-columns:1fr}.card[_ngcontent-%COMP%]{width:auto;height:auto;font-size:1.2rem;margin-bottom:1rem}.right-section[_ngcontent-%COMP%]{align-items:center;padding-left:0;text-align:center}.right-text[_ngcontent-%COMP%]{font-size:3rem;text-align:center}.services-content[_ngcontent-%COMP%]{padding:0 2rem}.services-header[_ngcontent-%COMP%]{overflow-wrap:break-word}.col-4[_ngcontent-%COMP%]{flex:1 0 100%;padding-top:2vh}.text[_ngcontent-%COMP%]{font-size:1.2rem}.services-header[_ngcontent-%COMP%]{font-size:2rem;text-align:center}.brand-partners-col[_ngcontent-%COMP%]{flex:1 0 45%;margin-bottom:1rem}.scania[_ngcontent-%COMP%]{height:40px!important}.locations-content[_ngcontent-%COMP%]{padding:0 0rem}  .custom-class-tooltip .tooltip-inner{font-size:xx-small}}']})}}return n})();var bx=(()=>{class n{constructor(t,i){this.translationService=t,this.translate=i}ngOnInit(){this.translationService.currentLanguage$.subscribe(t=>{})}static{this.\u0275fac=function(i){return new(i||n)(H(lt),H(Ye))}}static{this.\u0275cmp=Se({type:n,selectors:[["app-about-us"]],standalone:!0,features:[Ae],decls:56,vars:21,consts:[[1,"services-image-container"],["src","assets/about-us.jpg","alt","Background",1,"background-image",2,"filter","brightness(0.7)"],[1,"text-overlay"],[1,"about-us-row"],[1,"col-12",2,"margin-top","3vh"],[1,"card-header"],[1,"card-body"],[1,"custom-hr"],[1,"brand-content","container"],[2,"text-align","center","font-size","2.5rem","padding-bottom","6vh","font-family","'Archivo Black', sans-serif"],[1,"partnerships-row","row","text-center","align-items-center"],[1,"col-2"],["src","assets/logos/volvo-spread-wordmark.svg",1,"brand-img"],["src","assets/logos/accenture.png",1,"brand-img"],["src","assets/logos/scania-symbol.svg",1,"brand-img"],[1,"col-2",2,"background-color","black","height","fit-content"],["src","assets/logos/sigma.svg",1,"brand-img"],[1,"col-2","hbu"],["src","assets/logos/hbu.png",1,"brand-img"],[1,"partnerships-heading",2,"text-align","left","font-size","2.5rem","padding-bottom","6vh","font-family","'Archivo Black', sans-serif"],[1,"col-3"],["src","assets/logos/google.png",1,"brand-img"],["src","assets/logos/sales.png",1,"brand-img"],["src","assets/logos/mirosoft.png",1,"brand-img"]],template:function(i,r){i&1&&(g(0,"div",0),U(1,"img",1),g(2,"div",2)(3,"h1"),E(4),x(5,"translate"),y(),g(6,"p"),E(7),x(8,"translate"),y()()(),g(9,"div",3)(10,"div",4),U(11,"br")(12,"div",5),g(13,"div",6),E(14),x(15,"translate"),y(),U(16,"br"),g(17,"div",6),E(18),x(19,"translate"),y(),U(20,"br"),g(21,"div",6),E(22),x(23,"translate"),y()()(),U(24,"hr",7),g(25,"div",8)(26,"h1",9),E(27),x(28,"translate"),y(),U(29,"br"),g(30,"div",10)(31,"div",11),U(32,"img",12),y(),g(33,"div",11),U(34,"img",13),y(),g(35,"div",11),U(36,"img",14),E(37,"Scania "),y(),g(38,"div",15),U(39,"img",16),y(),g(40,"div",17),U(41,"img",18),y()()(),U(42,"hr",7),g(43,"div",8)(44,"h1",19),E(45),x(46,"translate"),y(),U(47,"br"),g(48,"div",10)(49,"div",20),U(50,"img",21),y(),g(51,"div",20),U(52,"img",22),y(),g(53,"div",20),U(54,"img",23),y()()(),U(55,"hr",7)),i&2&&(I(4),F(R(5,7,"ABOUT_US")),I(3),F(R(8,9,"ABOUT_US_PAGE.TAGLINE")),I(7),ie(" ",R(15,11,"ABOUT_US_PAGE.LINE_1")," "),I(4),ie(" ",R(19,13,"ABOUT_US_PAGE.LINE_2")," "),I(4),ie(" ",R(23,15,"ABOUT_US_PAGE.LINE_3")," "),I(5),F(R(28,17,"HOME.GLOBAL_BRAND_PARTNERS")),I(18),F(R(46,19,"ABOUT_US_PAGE.PARTNERS_ASSURANCE_HEADER")))},dependencies:[Xe,at],styles:[".brand-img[_ngcontent-%COMP%]{width:80%}.right-section[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:flex-start;justify-content:center;padding-left:12rem;padding-top:10vh}.right-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:auto;margin-bottom:1rem}.right-text[_ngcontent-%COMP%]{font-size:3rem;color:#000;font-weight:700;font-family:Archivo Black,sans-serif;text-align:right}.card-body[_ngcontent-%COMP%]{font-size:1rem;color:gray}.about-us-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;padding-left:12rem;padding-right:23vh;text-align:justify;font-family:DM Sans,sans-serif;margin-top:8vh}.about-us-img[_ngcontent-%COMP%]{width:70vh}.partnerships-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;font-family:Archivo Black,sans-serif}.brand-content[_ngcontent-%COMP%]{padding-left:12vh;padding-right:23vh;padding-top:7vh}.services-image-container[_ngcontent-%COMP%]{position:relative;height:80vh;width:100%;overflow:hidden}.background-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-overlay[_ngcontent-%COMP%]{position:absolute;bottom:20%;left:10%;color:#fff;padding:10px 20px;border-radius:5px;font-family:Archivo Black,sans-serif;font-size:large}.text-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Archivo Black,sans-serif;font-size:4rem}.text-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:DM Sans,sans-serif;font-size:1.5rem}@media only screen and (max-width: 768px){.about-us-row[_ngcontent-%COMP%]{padding-left:2rem;padding-right:2rem;margin-top:0rem}.brand-content[_ngcontent-%COMP%]{padding-left:2vh;padding-right:2vh;padding-top:7vh}.col-2[_ngcontent-%COMP%]{margin-top:1rem;width:33.33%}.hbu[_ngcontent-%COMP%]{width:50%}h1[_ngcontent-%COMP%]{padding-bottom:2vh!important;overflow-wrap:break-word}.partnerships-heading[_ngcontent-%COMP%]{text-align:center!important;overflow-wrap:break-word}.col-3[_ngcontent-%COMP%]{width:50%;margin-top:2vh}}"]})}}return n})();var Ix=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Se({type:n,selectors:[["app-contact"]],standalone:!0,features:[Ae],decls:0,vars:0,template:function(i,r){}})}}return n})();var Cx=(()=>{class n{constructor(t,i){this.translationService=t,this.translate=i}ngOnInit(){this.translationService.currentLanguage$.subscribe(t=>{})}static{this.\u0275fac=function(i){return new(i||n)(H(lt),H(Ye))}}static{this.\u0275cmp=Se({type:n,selectors:[["app-services"]],standalone:!0,features:[Ae],decls:92,vars:48,consts:[[1,"services-image-container"],["src","assets/iot-bck.jpg","alt","Background",1,"background-image",2,"filter","brightness(0.7)"],[1,"text-overlay"],[1,"services-heading"],[1,"content-row"],[1,"text-column"],[1,"image-column"],["src","assets/iot_design.jpg","alt","Centered Image",1,"centered-image"],["src","assets/embedded.jpg","alt","Centered Image",1,"centered-image"],["src","assets/pcb.jpg","alt","Centered Image",1,"centered-image"],[1,"services-content","container"],[1,"services-header"],[1,"gallery"],[1,"row","no-gutters"],[1,"col-4","image-container"],[1,"image-wrapper"],["src","assets/manufacturing.jpg",1,"image"],[1,"overlay"],[1,"text"],["src","assets/automotive.jpg",1,"image"],["src","assets/healthcare.jpg",1,"image"],["src","assets/retail.jpg",1,"image"],["src","assets/logistics.jpg",1,"image"],["src","assets/agritech.jpg",1,"image"]],template:function(i,r){i&1&&(g(0,"div",0),U(1,"img",1),g(2,"div",2)(3,"h1"),E(4),x(5,"translate"),y(),g(6,"p"),E(7),x(8,"translate"),y()()(),g(9,"div",3),E(10),x(11,"translate"),y(),g(12,"div",4)(13,"div",5)(14,"h2"),E(15),x(16,"translate"),y(),g(17,"p"),E(18),x(19,"translate"),y()(),g(20,"div",6),U(21,"img",7),y()(),g(22,"div",4)(23,"div",6),U(24,"img",8),y(),g(25,"div",5)(26,"h2"),E(27),x(28,"translate"),y(),g(29,"p"),E(30),x(31,"translate"),y()()(),g(32,"div",4)(33,"div",5)(34,"h2"),E(35),x(36,"translate"),y(),g(37,"p"),E(38),x(39,"translate"),y()(),g(40,"div",6),U(41,"img",9),y()(),g(42,"div",10)(43,"div",11),E(44),x(45,"translate"),y(),U(46,"br"),g(47,"div",12)(48,"div",13)(49,"div",14)(50,"div",15),U(51,"img",16),g(52,"div",17)(53,"div",18),E(54),x(55,"translate"),y()()()(),g(56,"div",14)(57,"div",15),U(58,"img",19),g(59,"div",17)(60,"div",18),E(61),x(62,"translate"),y()()()(),g(63,"div",14)(64,"div",15),U(65,"img",20),g(66,"div",17)(67,"div",18),E(68),x(69,"translate"),y()()()()(),g(70,"div",13)(71,"div",14)(72,"div",15),U(73,"img",21),g(74,"div",17)(75,"div",18),E(76),x(77,"translate"),y()()()(),g(78,"div",14)(79,"div",15),U(80,"img",22),g(81,"div",17)(82,"div",18),E(83),x(84,"translate"),y()()()(),g(85,"div",14)(86,"div",15),U(87,"img",23),g(88,"div",17)(89,"div",18),E(90),x(91,"translate"),y()()()()()()()),i&2&&(I(4),F(R(5,16,"IOT_EMBEDDED_DROPDOWN")),I(3),F(R(8,18,"IOT.TAGLINE")),I(3),F(R(11,20,"SERVICES_OFFERED")),I(5),F(R(16,22,"IOT_SOLUTION_SUB_DROPDOWN")),I(3),ie(" ",R(19,24,"IOT.DESCRIPTION_1")," "),I(9),F(R(28,26,"EMBEDDED_SYSTEM_SUB_DROPDOWN")),I(3),ie(" ",R(31,28,"IOT.DESCRIPTION_2")," "),I(5),F(R(36,30,"PCB_DESIGN")),I(3),ie(" ",R(39,32,"IOT.DESCRIPTION_3")," "),I(6),F(R(45,34,"IOT.INDUSTRIES.HEADER")),I(10),F(R(55,36,"IOT.INDUSTRIES.INDUSTRY_1")),I(7),F(R(62,38,"IOT.INDUSTRIES.INDUSTRY_2")),I(7),F(R(69,40,"IOT.INDUSTRIES.INDUSTRY_3")),I(8),F(R(77,42,"IOT.INDUSTRIES.INDUSTRY_4")),I(7),F(R(84,44,"IOT.INDUSTRIES.INDUSTRY_5")),I(7),F(R(91,46,"IOT.INDUSTRIES.INDUSTRY_6")))},dependencies:[Xe,at],styles:[".services-image-container[_ngcontent-%COMP%]{position:relative;height:80vh;width:100%;overflow:hidden}.background-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-overlay[_ngcontent-%COMP%]{position:absolute;bottom:20%;left:10%;color:#fff;padding:10px 20px;border-radius:5px;font-family:Archivo Black,sans-serif;font-size:large}.text-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Archivo Black,sans-serif;font-size:4rem}.text-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:DM Sans,sans-serif;font-size:1.5rem}.content-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:20px;padding-left:12vh;padding-right:12vh}.text-column[_ngcontent-%COMP%], .image-column[_ngcontent-%COMP%]{flex:1 1 50%;padding:10px}.text-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.image-column[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.centered-image[_ngcontent-%COMP%]{max-width:80%;height:auto;border-radius:10px}.services-heading[_ngcontent-%COMP%]{margin-top:4vh;font-family:Archivo Black,sans-serif;font-size:2rem;text-align:center}.services-content[_ngcontent-%COMP%]{margin-top:3rem;padding:0 6rem;font-family:Archivo Black,sans-serif}gallery[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.row[_ngcontent-%COMP%]{display:flex;width:100%;margin-bottom:10px}.no-gutters[_ngcontent-%COMP%]{margin:0;padding:0}.col-4[_ngcontent-%COMP%]{flex:1 0 33.3333%;position:relative;padding:0}.image-container[_ngcontent-%COMP%]{overflow:hidden}.image-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .5s ease}.image-wrapper[_ngcontent-%COMP%]:hover   .image[_ngcontent-%COMP%]{transform:scale(1.1)}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#0000004d;opacity:1;transition:opacity .3s ease}.text[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;font-weight:700;text-align:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}@media only screen and (max-width: 768px){.text-overlay[_ngcontent-%COMP%]{left:0%}.text-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.content-row[_ngcontent-%COMP%]{flex-direction:column;padding-left:4vh;padding-right:4vh;text-align:center}.text-column[_ngcontent-%COMP%]{order:2}.image-column[_ngcontent-%COMP%]{order:1}.centered-image[_ngcontent-%COMP%]{max-width:100%}.services-content[_ngcontent-%COMP%]{padding:0 2rem}.col-4[_ngcontent-%COMP%]{flex:1 0 100%;margin-bottom:2vh}}"]})}}return n})();var Tx=(()=>{class n{constructor(t,i){this.translationService=t,this.translate=i,this.currentLanguage="sv"}ngOnInit(){this.translationService.currentLanguage$.subscribe(t=>{})}static{this.\u0275fac=function(i){return new(i||n)(H(lt),H(Ye))}}static{this.\u0275cmp=Se({type:n,selectors:[["app-strategic-services"]],standalone:!0,features:[Ae],decls:52,vars:33,consts:[[1,"services-image-container"],["src","assets/strategy-bck.jpg","alt","Background",1,"background-image",2,"filter","brightness(0.7)"],[1,"text-overlay"],[1,"services-heading"],[1,"content-row"],[1,"text-column"],[1,"image-column"],["src","assets/design-consulting.jpg","alt","Centered Image",1,"centered-image"],["src","assets/tech-consulting.jpg","alt","Centered Image",1,"centered-image"],["src","assets/strategic-bck.jpg","alt","Centered Image",1,"centered-image"],["src","assets/product-management.jpg","alt","Centered Image",1,"centered-image"]],template:function(i,r){i&1&&(g(0,"div",0),U(1,"img",1),g(2,"div",2)(3,"h1"),E(4),x(5,"translate"),y(),g(6,"p"),E(7),x(8,"translate"),y()()(),g(9,"div",3),E(10),x(11,"translate"),y(),g(12,"div",4)(13,"div",5)(14,"h2"),E(15),x(16,"translate"),y(),g(17,"p"),E(18),x(19,"translate"),y()(),g(20,"div",6),U(21,"img",7),y()(),g(22,"div",4)(23,"div",6),U(24,"img",8),y(),g(25,"div",5)(26,"h2"),E(27),x(28,"translate"),y(),g(29,"p"),E(30),x(31,"translate"),y()()(),g(32,"div",4)(33,"div",5)(34,"h2"),E(35),x(36,"translate"),y(),g(37,"p"),E(38),x(39,"translate"),y()(),g(40,"div",6),U(41,"img",9),y()(),g(42,"div",4)(43,"div",6),U(44,"img",10),y(),g(45,"div",5)(46,"h2"),E(47),x(48,"translate"),y(),g(49,"p"),E(50),x(51,"translate"),y()()()),i&2&&(I(4),F(R(5,11,"STRATEGIC_SERVICES_DROPDOWN")),I(3),F(R(8,13,"STRATEGIC.TAGLINE")),I(3),F(R(11,15,"SERVICES_OFFERED")),I(5),F(R(16,17,"DESIGN_CONSULTING_SUB_DROPDOWN")),I(3),ie(" ",R(19,19,"STRATEGIC.DESIGN_CONSULTING_DESCRIPTION")," "),I(9),F(R(28,21,"TECHNOLOGY_CONSULTING_SUB_DROPDOWN")),I(3),ie(" ",R(31,23,"STRATEGIC.TECHNOLOGY_CONSULTING_DESCRIPTION")," "),I(5),F(R(36,25,"BUSINESS_STRATEGY_SUB_DROPDOWN")),I(3),ie(" ",R(39,27,"STRATEGIC.BUSINESS_STRATEGY_DESCRIPTION")," "),I(9),F(R(48,29,"PRODUCT_MANAGEMENT_SUB_DROPDOWN")),I(3),ie(" ",R(51,31,"STRATEGIC.PRODUCT_MANAGEMENT_DESCRIPTION")," "))},dependencies:[Xe,at],styles:[".services-image-container[_ngcontent-%COMP%]{position:relative;height:80vh;width:100%;overflow:hidden}.background-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-overlay[_ngcontent-%COMP%]{position:absolute;bottom:20%;left:10%;color:#fff;padding:10px 20px;border-radius:5px;font-family:Archivo Black,sans-serif;font-size:large}.text-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Archivo Black,sans-serif;font-size:4rem}.text-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:DM Sans,sans-serif;font-size:1.5rem}.content-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:20px;padding-left:12vh;padding-right:12vh}.text-column[_ngcontent-%COMP%], .image-column[_ngcontent-%COMP%]{flex:1 1 50%;padding:10px}.text-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;text-align:justify;font-family:DM Sans,sans-serif!important}.image-column[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.centered-image[_ngcontent-%COMP%]{max-width:80%;height:auto;border-radius:10px}.services-heading[_ngcontent-%COMP%]{margin-top:4vh;font-family:Archivo Black,sans-serif;font-size:2rem;text-align:center}.services-content[_ngcontent-%COMP%]{margin-top:3rem;padding:0 6rem;font-family:Archivo Black,sans-serif}gallery[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.row[_ngcontent-%COMP%]{display:flex;width:100%;margin-bottom:10px}.no-gutters[_ngcontent-%COMP%]{margin:0;padding:0}.col-4[_ngcontent-%COMP%]{flex:1 0 33.3333%;position:relative;padding:0}.image-container[_ngcontent-%COMP%]{overflow:hidden}.image-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .5s ease}.image-wrapper[_ngcontent-%COMP%]:hover   .image[_ngcontent-%COMP%]{transform:scale(1.1)}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#0000004d;opacity:1;transition:opacity .3s ease}.text[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;font-weight:700;text-align:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}@media only screen and (max-width: 768px){.text-overlay[_ngcontent-%COMP%]{left:0%}.text-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem}.content-row[_ngcontent-%COMP%]{flex-direction:column;padding-left:4vh;padding-right:4vh;text-align:center}.text-column[_ngcontent-%COMP%]{order:2}.image-column[_ngcontent-%COMP%]{order:1}.centered-image[_ngcontent-%COMP%]{max-width:100%}h2[_ngcontent-%COMP%]{text-align:center}}"]})}}return n})();var Dx=(()=>{class n{constructor(t,i){this.translationService=t,this.translate=i}ngOnInit(){this.translationService.currentLanguage$.subscribe(t=>{})}static{this.\u0275fac=function(i){return new(i||n)(H(lt),H(Ye))}}static{this.\u0275cmp=Se({type:n,selectors:[["app-software-engineering"]],standalone:!0,features:[Ae],decls:52,vars:33,consts:[[1,"services-image-container"],["src","assets/software5.jpg","alt","Background",1,"background-image",2,"filter","brightness(0.5)"],[1,"text-overlay"],[1,"services-heading"],[1,"content-row"],[1,"text-column"],[2,"text-align","left"],[1,"image-column"],["src","assets/software4.jpg","alt","Centered Image",1,"centered-image"],["src","assets/cloud-services.jpg","alt","Centered Image",1,"centered-image"],["src","assets/data-analysis.jpg","alt","Centered Image",1,"centered-image"],["src","assets/product-management.jpg","alt","Centered Image",1,"centered-image"]],template:function(i,r){i&1&&(g(0,"div",0),U(1,"img",1),g(2,"div",2)(3,"h1"),E(4),x(5,"translate"),y(),g(6,"p"),E(7),x(8,"translate"),y()()(),g(9,"div",3),E(10),x(11,"translate"),y(),g(12,"div",4)(13,"div",5)(14,"h2",6),E(15),x(16,"translate"),y(),g(17,"p"),E(18),x(19,"translate"),y()(),g(20,"div",7),U(21,"img",8),y()(),g(22,"div",4)(23,"div",7),U(24,"img",9),y(),g(25,"div",5)(26,"h2"),E(27),x(28,"translate"),y(),g(29,"p"),E(30),x(31,"translate"),y()()(),g(32,"div",4)(33,"div",5)(34,"h2"),E(35),x(36,"translate"),y(),g(37,"p"),E(38),x(39,"translate"),y()(),g(40,"div",7),U(41,"img",10),y()(),g(42,"div",4)(43,"div",7),U(44,"img",11),y(),g(45,"div",5)(46,"h2"),E(47),x(48,"translate"),y(),g(49,"p"),E(50),x(51,"translate"),y()()()),i&2&&(I(4),F(R(5,11,"SOFTWARE_ENGINEERING_SERVICES_DROPDOWN")),I(3),F(R(8,13,"SOFTWARE.TAGLINE")),I(3),F(R(11,15,"SERVICES_OFFERED")),I(5),F(R(16,17,"SOFTWARE_DEVELOPMENT_SUB_DROPDOWN")),I(3),ie(" ",R(19,19,"SOFTWARE.SOFTWARE_DEVELOPMENT_DESCRIPTION")," "),I(9),F(R(28,21,"CLOUD_SERVICES_SUB_DROPDOWN")),I(3),ie(" ",R(31,23,"SOFTWARE.CLOUD_SERVICES_DESCRIPTION")," "),I(5),F(R(36,25,"DATA_AND_ANALYTICS_SUB_DROPDOWN")),I(3),ie(" ",R(39,27,"SOFTWARE.DATA_ANALYTICS_DESCRIPTION")," "),I(9),F(R(48,29,"QUALITY_ENGINEERING_SUB_DROPDOWN")),I(3),ie(" ",R(51,31,"SOFTWARE.QUALITY_ENGINEERING_DESCRIPTION")," "))},dependencies:[Xe,at],styles:[".services-image-container[_ngcontent-%COMP%]{position:relative;height:80vh;width:100%;overflow:hidden}.background-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-overlay[_ngcontent-%COMP%]{position:absolute;bottom:20%;left:10%;color:#fff;padding:10px 20px;border-radius:5px;font-family:Archivo Black,sans-serif;font-size:large}.text-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Archivo Black,sans-serif;font-size:4rem}.text-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:DM Sans,sans-serif;font-size:1.5rem}.content-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:20px;padding-left:12vh;padding-right:12vh}.text-column[_ngcontent-%COMP%], .image-column[_ngcontent-%COMP%]{flex:1 1 50%;padding:10px}.text-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;text-align:justify;font-family:DM Sans,sans-serif!important}.image-column[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.centered-image[_ngcontent-%COMP%]{max-width:80%;height:auto;border-radius:10px}.services-heading[_ngcontent-%COMP%]{margin-top:4vh;font-family:Archivo Black,sans-serif;font-size:2rem;text-align:center}.services-content[_ngcontent-%COMP%]{margin-top:3rem;padding:0 6rem;font-family:Archivo Black,sans-serif}gallery[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.row[_ngcontent-%COMP%]{display:flex;width:100%;margin-bottom:10px}.no-gutters[_ngcontent-%COMP%]{margin:0;padding:0}.col-4[_ngcontent-%COMP%]{flex:1 0 33.3333%;position:relative;padding:0}.image-container[_ngcontent-%COMP%]{overflow:hidden}.image-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .5s ease}.image-wrapper[_ngcontent-%COMP%]:hover   .image[_ngcontent-%COMP%]{transform:scale(1.1)}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#0000004d;opacity:1;transition:opacity .3s ease}.text[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;font-weight:700;text-align:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}@media only screen and (max-width: 768px){.text-overlay[_ngcontent-%COMP%]{left:0%}.text-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;overflow-wrap:anywhere}.content-row[_ngcontent-%COMP%]{flex-direction:column;padding-left:4vh;padding-right:4vh;text-align:center}.text-column[_ngcontent-%COMP%]{order:2}.image-column[_ngcontent-%COMP%]{order:1}.centered-image[_ngcontent-%COMP%]{max-width:100%}h2[_ngcontent-%COMP%]{text-align:center}}"]})}}return n})();var Sx=(()=>{class n{constructor(t,i){this.translationService=t,this.translate=i}ngOnInit(){this.translationService.currentLanguage$.subscribe(t=>{})}static{this.\u0275fac=function(i){return new(i||n)(H(lt),H(Ye))}}static{this.\u0275cmp=Se({type:n,selectors:[["app-sustainability"]],standalone:!0,features:[Ae],decls:22,vars:15,consts:[[1,"services-image-container"],["src","assets/sustainability-bck.jpg","alt","Background",1,"background-image",2,"filter","brightness(0.7)"],[1,"text-overlay"],[1,"services-heading"],[1,"content-row"],[1,"text-column"],[1,"image-column"],["src","assets/sustain.jpg","alt","Centered Image",1,"centered-image"]],template:function(i,r){i&1&&(g(0,"div",0),U(1,"img",1),g(2,"div",2)(3,"h1"),E(4),x(5,"translate"),y(),g(6,"p"),E(7),x(8,"translate"),y()()(),g(9,"div",3),E(10),x(11,"translate"),y(),g(12,"div",4)(13,"div",5)(14,"h2"),E(15),x(16,"translate"),y(),g(17,"p"),E(18),x(19,"translate"),y()(),g(20,"div",6),U(21,"img",7),y()()),i&2&&(I(4),F(R(5,5,"SUSTAINABILITY_DROPDOWN")),I(3),F(R(8,7,"SUSTAINABILITY.TAGLINE")),I(3),F(R(11,9,"SERVICES_OFFERED")),I(5),F(R(16,11,"SUSTAINABILITY_DROPDOWN")),I(3),ie(" ",R(19,13,"SUSTAINABILITY.DESCRIPTION")," "))},dependencies:[Xe,at],styles:[".services-image-container[_ngcontent-%COMP%]{position:relative;height:80vh;width:100%;overflow:hidden}.background-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-overlay[_ngcontent-%COMP%]{position:absolute;bottom:20%;left:10%;color:#fff;padding:10px 20px;border-radius:5px;font-family:Archivo Black,sans-serif;font-size:large}.text-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Archivo Black,sans-serif;font-size:4rem}.text-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:DM Sans,sans-serif;font-size:1.5rem}.content-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:20px;padding-left:12vh;padding-right:12vh}.text-column[_ngcontent-%COMP%], .image-column[_ngcontent-%COMP%]{flex:1 1 50%;padding:10px}.text-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;text-align:justify;font-family:DM Sans,sans-serif!important}.image-column[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.centered-image[_ngcontent-%COMP%]{max-width:80%;height:auto;border-radius:10px}.services-heading[_ngcontent-%COMP%]{margin-top:4vh;font-family:Archivo Black,sans-serif;font-size:2rem;text-align:center}.services-content[_ngcontent-%COMP%]{margin-top:3rem;padding:0 6rem;font-family:Archivo Black,sans-serif}gallery[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.row[_ngcontent-%COMP%]{display:flex;width:100%;margin-bottom:10px}.no-gutters[_ngcontent-%COMP%]{margin:0;padding:0}.col-4[_ngcontent-%COMP%]{flex:1 0 33.3333%;position:relative;padding:0}.image-container[_ngcontent-%COMP%]{overflow:hidden}.image-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .5s ease}.image-wrapper[_ngcontent-%COMP%]:hover   .image[_ngcontent-%COMP%]{transform:scale(1.1)}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#0000004d;opacity:1;transition:opacity .3s ease}.text[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;font-weight:700;text-align:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}@media only screen and (max-width: 768px){.text-overlay[_ngcontent-%COMP%]{left:0%}.text-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;overflow-wrap:anywhere}.content-row[_ngcontent-%COMP%]{flex-direction:column;padding-left:4vh;padding-right:4vh;text-align:center}.text-column[_ngcontent-%COMP%]{order:2}.image-column[_ngcontent-%COMP%]{order:1}.centered-image[_ngcontent-%COMP%]{max-width:100%}h2[_ngcontent-%COMP%]{text-align:center}}"]})}}return n})();var Ax=(()=>{class n{constructor(t,i){this.translationService=t,this.translate=i}ngOnInit(){this.translationService.currentLanguage$.subscribe(t=>{})}static{this.\u0275fac=function(i){return new(i||n)(H(lt),H(Ye))}}static{this.\u0275cmp=Se({type:n,selectors:[["app-team-extension"]],standalone:!0,features:[Ae],decls:72,vars:57,consts:[[1,"services-image-container"],["src","assets/team-extension-bck.jpg","alt","Background",1,"background-image",2,"filter","brightness(0.7)"],[1,"text-overlay"],[1,"services-heading"],[1,"content-row"],[1,"text-column"],[1,"image-column"],["src","assets/extended-team.jpg","alt","Centered Image",1,"centered-image"],["src","assets/managed-team.jpg","alt","Centered Image",1,"centered-image"],["src","assets/custom-team.jpg","alt","Centered Image",1,"centered-image"]],template:function(i,r){i&1&&(g(0,"div",0),U(1,"img",1),g(2,"div",2)(3,"h1"),E(4),x(5,"translate"),y(),g(6,"p"),E(7),x(8,"translate"),y()()(),g(9,"div",3),E(10),x(11,"translate"),y(),g(12,"div",4)(13,"div",5)(14,"h2"),E(15),x(16,"translate"),y(),g(17,"p"),E(18),x(19,"translate"),y(),g(20,"li"),E(21),x(22,"translate"),y(),g(23,"li"),E(24),x(25,"translate"),y(),g(26,"li"),E(27),x(28,"translate"),y()(),g(29,"div",6),U(30,"img",7),y()(),g(31,"div",4)(32,"div",6),U(33,"img",8),y(),g(34,"div",5)(35,"h2"),E(36),x(37,"translate"),y(),g(38,"p"),E(39),x(40,"translate"),y(),g(41,"li"),E(42),x(43,"translate"),y(),g(44,"li"),E(45),x(46,"translate"),y(),g(47,"li"),E(48),x(49,"translate"),y(),g(50,"li"),E(51),x(52,"translate"),y()()(),g(53,"div",4)(54,"div",5)(55,"h2"),E(56),x(57,"translate"),y(),g(58,"p"),E(59),x(60,"translate"),y(),g(61,"li"),E(62),x(63,"translate"),y(),g(64,"li"),E(65),x(66,"translate"),y(),g(67,"li"),E(68),x(69,"translate"),y()(),g(70,"div",6),U(71,"img",9),y()()),i&2&&(I(4),F(R(5,19,"TEAM_EXTENSION_DROPDOWN")),I(3),F(R(8,21,"TEAM_EXTENSION.TAGLINE")),I(3),F(R(11,23,"SERVICES_OFFERED")),I(5),F(R(16,25,"TEAM_EXTENSION.EXTENDED_TEAM.HEADER")),I(3),ie(" ",R(19,27,"TEAM_EXTENSION.EXTENDED_TEAM.DESCRIPTION")," "),I(3),F(R(22,29,"TEAM_EXTENSION.EXTENDED_TEAM.POINTER_1")),I(3),F(R(25,31,"TEAM_EXTENSION.EXTENDED_TEAM.POINTER_2")),I(3),F(R(28,33,"TEAM_EXTENSION.EXTENDED_TEAM.POINTER_3")),I(9),F(R(37,35,"TEAM_EXTENSION.MANAGED_TEAM.HEADER")),I(3),ie(" ",R(40,37,"TEAM_EXTENSION.MANAGED_TEAM.DESCRIPTION")," "),I(3),F(R(43,39,"TEAM_EXTENSION.MANAGED_TEAM.POINTER_1")),I(3),F(R(46,41,"TEAM_EXTENSION.MANAGED_TEAM.POINTER_2")),I(3),F(R(49,43,"TEAM_EXTENSION.MANAGED_TEAM.POINTER_3")),I(3),F(R(52,45,"TEAM_EXTENSION.MANAGED_TEAM.POINTER_4")),I(5),F(R(57,47,"TEAM_EXTENSION.CUSTOM_SOLUTION_DEVELOPMENT.HEADER")),I(3),ie(" ",R(60,49,"TEAM_EXTENSION.CUSTOM_SOLUTION_DEVELOPMENT.DESCRIPTION")," "),I(3),F(R(63,51,"TEAM_EXTENSION.CUSTOM_SOLUTION_DEVELOPMENT.POINTER_1")),I(3),F(R(66,53,"TEAM_EXTENSION.CUSTOM_SOLUTION_DEVELOPMENT.POINTER_2")),I(3),F(R(69,55,"TEAM_EXTENSION.CUSTOM_SOLUTION_DEVELOPMENT.POINTER_3")))},dependencies:[Xe,at],styles:[".services-image-container[_ngcontent-%COMP%]{position:relative;height:80vh;width:100%;overflow:hidden}.background-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-overlay[_ngcontent-%COMP%]{position:absolute;bottom:20%;left:10%;color:#fff;padding:10px 20px;border-radius:5px;font-family:Archivo Black,sans-serif;font-size:large}.text-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Archivo Black,sans-serif;font-size:4rem}.text-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:DM Sans,sans-serif;font-size:1.5rem}.content-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:20px;padding-left:12vh;padding-right:12vh}.text-column[_ngcontent-%COMP%], .image-column[_ngcontent-%COMP%]{flex:1 1 50%;padding:10px}.text-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;text-align:justify;font-family:DM Sans,sans-serif!important}.image-column[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.centered-image[_ngcontent-%COMP%]{max-width:80%;height:auto;border-radius:10px}.services-heading[_ngcontent-%COMP%]{margin-top:4vh;font-family:Archivo Black,sans-serif;font-size:2rem;text-align:center}.services-content[_ngcontent-%COMP%]{margin-top:3rem;padding:0 6rem;font-family:Archivo Black,sans-serif}gallery[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.row[_ngcontent-%COMP%]{display:flex;width:100%;margin-bottom:10px}.no-gutters[_ngcontent-%COMP%]{margin:0;padding:0}.col-4[_ngcontent-%COMP%]{flex:1 0 33.3333%;position:relative;padding:0}.image-container[_ngcontent-%COMP%]{overflow:hidden}.image-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .5s ease}.image-wrapper[_ngcontent-%COMP%]:hover   .image[_ngcontent-%COMP%]{transform:scale(1.1)}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#0000004d;opacity:1;transition:opacity .3s ease}.text[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;font-weight:700;text-align:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}li[_ngcontent-%COMP%]{color:#737373}@media only screen and (max-width: 768px){.text-overlay[_ngcontent-%COMP%]{left:0%}.text-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;overflow-wrap:anywhere}.content-row[_ngcontent-%COMP%]{flex-direction:column;padding-left:4vh;padding-right:4vh;text-align:center}.text-column[_ngcontent-%COMP%]{order:2}.image-column[_ngcontent-%COMP%]{order:1}.centered-image[_ngcontent-%COMP%]{max-width:100%}h2[_ngcontent-%COMP%]{text-align:center}}"]})}}return n})();var Mx=(()=>{class n{constructor(t,i){this.translationService=t,this.translate=i}ngOnInit(){this.translationService.currentLanguage$.subscribe(t=>{})}static{this.\u0275fac=function(i){return new(i||n)(H(lt),H(Ye))}}static{this.\u0275cmp=Se({type:n,selectors:[["app-quality-management"]],standalone:!0,features:[Ae],decls:62,vars:39,consts:[[1,"services-image-container"],["src","assets/quality2.jpg","alt","Background",1,"background-image",2,"filter","brightness(0.4)"],[1,"text-overlay"],[1,"services-heading"],[1,"content-row"],[1,"text-column"],[1,"image-column"],["src","assets/quality1-bck.jpg","alt","Centered Image",1,"centered-image"],["src","assets/quality-services.jpg","alt","Centered Image",1,"centered-image"],["src","assets/quality-software.jpg","alt","Centered Image",1,"centered-image"],["src","assets/quality-audit.jpg","alt","Centered Image",1,"centered-image"],["src","assets/ppap.jpg","alt","Centered Image",1,"centered-image"]],template:function(i,r){i&1&&(g(0,"div",0),U(1,"img",1),g(2,"div",2)(3,"h1"),E(4),x(5,"translate"),y(),g(6,"p"),E(7),x(8,"translate"),y()()(),g(9,"div",3),E(10),x(11,"translate"),y(),g(12,"div",4)(13,"div",5)(14,"h2"),E(15),x(16,"translate"),y(),g(17,"p"),E(18),x(19,"translate"),y()(),g(20,"div",6),U(21,"img",7),y()(),g(22,"div",4)(23,"div",6),U(24,"img",8),y(),g(25,"div",5)(26,"h2"),E(27),x(28,"translate"),y(),g(29,"p"),E(30),x(31,"translate"),y()()(),g(32,"div",4)(33,"div",5)(34,"h2"),E(35),x(36,"translate"),y(),g(37,"p"),E(38),x(39,"translate"),y()(),g(40,"div",6),U(41,"img",9),y()(),g(42,"div",4)(43,"div",6),U(44,"img",10),y(),g(45,"div",5)(46,"h2"),E(47),x(48,"translate"),y(),g(49,"p"),E(50),x(51,"translate"),y()()(),g(52,"div",4)(53,"div",5)(54,"h2"),E(55),x(56,"translate"),y(),g(57,"p"),E(58),x(59,"translate"),y()(),g(60,"div",6),U(61,"img",11),y()()),i&2&&(I(4),F(R(5,13,"QUALITY_MANAGEMENT_SERVICES_DROPDOWN")),I(3),F(R(8,15,"QUALITY_MANAGEMENT.TAGLINE")),I(3),F(R(11,17,"SERVICES_OFFERED")),I(5),F(R(16,19,"QUALITY_LIFECYCLE_MANAGEMENT_SUB_DROPDOWN")),I(3),ie(" ",R(19,21,"QUALITY_MANAGEMENT.QLM_DESCRIPTION")," "),I(9),F(R(28,23,"QUALITY_SERVICES_SUB_DROPDOWN")),I(3),ie(" ",R(31,25,"QUALITY_MANAGEMENT.QUALITY_SERVICES_DESCRIPTION")," "),I(5),F(R(36,27,"QLM_SOFTWARE_SUB_DROPDOWN")),I(3),ie(" ",R(39,29,"QUALITY_MANAGEMENT.QLM_SOFTWARE_DESCRIPTION")," "),I(9),F(R(48,31,"QUALITY_AUDITS_SUB_DROPDOWN")),I(3),ie(" ",R(51,33,"QUALITY_MANAGEMENT.QUALITY_AUDITS_DESCRIPTION")," "),I(5),F(R(56,35,"PPAP_SUB_DROPDOWN")),I(3),ie(" ",R(59,37,"QUALITY_MANAGEMENT.PPAP_DESCRIPTION")," "))},dependencies:[Xe,at],styles:[".services-image-container[_ngcontent-%COMP%]{position:relative;height:80vh;width:100%;overflow:hidden}.background-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-overlay[_ngcontent-%COMP%]{position:absolute;bottom:20%;left:10%;color:#fff;padding:10px 20px;border-radius:5px;font-family:Archivo Black,sans-serif;font-size:large}.text-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Archivo Black,sans-serif;font-size:4rem}.text-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:DM Sans,sans-serif;font-size:1.5rem}.content-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:20px;padding-left:12vh;padding-right:12vh}.text-column[_ngcontent-%COMP%], .image-column[_ngcontent-%COMP%]{flex:1 1 50%;padding:10px}.text-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;text-align:justify;font-family:DM Sans,sans-serif!important}.image-column[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.centered-image[_ngcontent-%COMP%]{max-width:80%;height:auto;border-radius:10px}.services-heading[_ngcontent-%COMP%]{margin-top:4vh;font-family:Archivo Black,sans-serif;font-size:2rem;text-align:center}.services-content[_ngcontent-%COMP%]{margin-top:3rem;padding:0 6rem;font-family:Archivo Black,sans-serif}gallery[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.row[_ngcontent-%COMP%]{display:flex;width:100%;margin-bottom:10px}.no-gutters[_ngcontent-%COMP%]{margin:0;padding:0}.col-4[_ngcontent-%COMP%]{flex:1 0 33.3333%;position:relative;padding:0}.image-container[_ngcontent-%COMP%]{overflow:hidden}.image-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .5s ease}.image-wrapper[_ngcontent-%COMP%]:hover   .image[_ngcontent-%COMP%]{transform:scale(1.1)}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#0000004d;opacity:1;transition:opacity .3s ease}.text[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;font-weight:700;text-align:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}@media only screen and (max-width: 768px){.text-overlay[_ngcontent-%COMP%]{left:0%}.text-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;overflow-wrap:anywhere}.content-row[_ngcontent-%COMP%]{flex-direction:column;padding-left:4vh;padding-right:4vh;text-align:center}.text-column[_ngcontent-%COMP%]{order:2}.image-column[_ngcontent-%COMP%]{order:1}.centered-image[_ngcontent-%COMP%]{max-width:100%}h2[_ngcontent-%COMP%]{text-align:center}}"]})}}return n})();var Cw={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var K=function(n,e){if(!n)throw Is(e)},Is=function(n){return new Error("Firebase Database ("+Cw.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};var xx=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},MG=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=n[t++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=n[t++],s=n[t++],a=n[t++],l=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{let o=n[t++],s=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Xp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let o=n[r],s=r+1<n.length,a=s?n[r+1]:0,l=r+2<n.length,u=l?n[r+2]:0,d=o>>2,f=(o&3)<<4|a>>4,m=(a&15)<<2|u>>6,_=u&63;l||(_=64,s||(m=64)),i.push(t[d],t[f],t[m],t[_])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(xx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):MG(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let o=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;let u=r<n.length?t[n.charAt(r)]:64;++r;let f=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||a==null||u==null||f==null)throw new Tw;let m=o<<2|a>>4;if(i.push(m),u!==64){let _=a<<4&240|u>>2;if(i.push(_),f!==64){let T=u<<6&192|f;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Tw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Sw=function(n){let e=xx(n);return Xp.encodeByteArray(e,!0)},Gu=function(n){return Sw(n).replace(/\./g,"")},zu=function(n){try{return Xp.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Rx(n){return Ox(void 0,n)}function Ox(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(let t in e)!e.hasOwnProperty(t)||!NG(t)||(n[t]=Ox(n[t],e[t]));return n}function NG(n){return n!=="__proto__"}function xG(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var RG=()=>xG().__FIREBASE_DEFAULTS__,OG=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},PG=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&zu(n[1]);return e&&JSON.parse(e)},Zp=()=>{try{return RG()||OG()||PG()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Px=n=>{var e,t;return(t=(e=Zp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},em=n=>{let e=Px(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Aw=()=>{var n;return(n=Zp())===null||n===void 0?void 0:n.config},kx=n=>{var e;return(e=Zp())===null||e===void 0?void 0:e[`_${n}`]};var bs=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function tm(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Gu(JSON.stringify(t)),Gu(JSON.stringify(s)),""].join(".")}function Hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qu(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hn())}function kG(){var n;let e=(n=Zp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Fx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Lx(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function nm(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Wi(){return Cw.NODE_CLIENT===!0||Cw.NODE_ADMIN===!0}function Vx(){return!kG()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mw(){try{return typeof indexedDB=="object"}catch{return!1}}function Bx(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var FG="FirebaseError",ri=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=FG,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nr.prototype.create)}},Nr=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?LG(o,i):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new ri(r,a,i)}};function LG(n,e){return n.replace(VG,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var VG=/\{\$([^}]+)}/g;function vl(n){return JSON.parse(n)}function Ht(n){return JSON.stringify(n)}var Ux=function(n){let e={},t={},i={},r="";try{let o=n.split(".");e=vl(zu(o[0])||""),t=vl(zu(o[1])||""),r=o[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:r}};var jx=function(n){let e=Ux(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},$x=function(n){let e=Ux(n).claims;return typeof e=="object"&&e.admin===!0};function Ki(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Cs(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function im(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Wu(n,e,t){let i={};for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=e.call(t,n[r],r,n));return i}function yl(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let o=n[r],s=e[r];if(Nx(o)&&Nx(s)){if(!yl(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function Nx(n){return n!==null&&typeof n=="object"}function Ku(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}var Jp=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);let i=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)i[f]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let f=0;f<16;f++)i[f]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let f=16;f<80;f++){let m=i[f-3]^i[f-8]^i[f-14]^i[f-16];i[f]=(m<<1|m>>>31)&4294967295}let r=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,d;for(let f=0;f<80;f++){f<40?f<20?(u=a^o&(s^a),d=1518500249):(u=o^s^a,d=1859775393):f<60?(u=o&s|a&(o|s),d=2400959708):(u=o^s^a,d=3395469782);let m=(r<<5|r>>>27)+u+l+d+i[f]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=r,r=m}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);let i=t-this.blockSize,r=0,o=this.buf_,s=this.inbuf_;for(;r<t;){if(s===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<t;)if(o[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}else for(;r<t;)if(o[s]=e[r],++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){let e=[],t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=t&255,t/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}};function Hx(n,e){let t=new Dw(n,e);return t.subscribe.bind(t)}var Dw=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");BG(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=Iw),r.error===void 0&&(r.error=Iw),r.complete===void 0&&(r.complete=Iw);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function BG(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Iw(){}function Gx(n,e){return`${n} failed: ${e} argument `}var zx=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){let o=r-55296;i++,K(i<n.length,"Surrogate pair missing trail surrogate.");let s=n.charCodeAt(i)-56320;r=65536+(o<<10)+s}r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):r<65536?(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},Qu=function(n){let e=0;for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};var kce=4*60*60*1e3;function Gt(n){return n&&n._delegate?n._delegate:n}var Mn=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ts="[DEFAULT]";var rm=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new bs;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jG(e))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return k(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ts){return this.instances.has(e)}getOptions(e=Ts){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);i===a&&s.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:UG(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ts){return this.component?this.component.multipleInstances?e:Ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function UG(n){return n===Ts?void 0:n}function jG(n){return n.instantiationMode==="EAGER"}var Yu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new rm(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var $G=[],be=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(be||{}),HG={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},GG=be.INFO,zG={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},qG=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=zG[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Qi=class{constructor(e){this.name=e,this._logLevel=GG,this._logHandler=qG,this._userLogHandler=null,$G.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HG[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}};var WG=(n,e)=>e.some(t=>n instanceof t),qx,Wx;function KG(){return qx||(qx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QG(){return Wx||(Wx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Kx=new WeakMap,xw=new WeakMap,Qx=new WeakMap,Nw=new WeakMap,Ow=new WeakMap;function YG(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Yi(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&Kx.set(t,n)}).catch(()=>{}),Ow.set(e,n),e}function JG(n){if(xw.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});xw.set(n,e)}var Rw={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return xw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Qx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Yi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Yx(n){Rw=n(Rw)}function XG(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(om(this),e,...t);return Qx.set(i,e.sort?e.sort():[e]),Yi(i)}:QG().includes(n)?function(...e){return n.apply(om(this),e),Yi(Kx.get(this))}:function(...e){return Yi(n.apply(om(this),e))}}function ZG(n){return typeof n=="function"?XG(n):(n instanceof IDBTransaction&&JG(n),WG(n,KG())?new Proxy(n,Rw):n)}function Yi(n){if(n instanceof IDBRequest)return YG(n);if(Nw.has(n))return Nw.get(n);let e=ZG(n);return e!==n&&(Nw.set(n,e),Ow.set(e,n)),e}var om=n=>Ow.get(n);function Xx(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(n,e),a=Yi(s);return i&&s.addEventListener("upgradeneeded",l=>{i(Yi(s.result),l.oldVersion,l.newVersion,Yi(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var ez=["get","getKey","getAll","getAllKeys","count"],tz=["put","add","delete","clear"],Pw=new Map;function Jx(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Pw.get(e))return Pw.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=tz.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||ez.includes(t)))return;let o=function(s,...a){return k(this,null,function*(){let l=this.transaction(s,r?"readwrite":"readonly"),u=l.store;return i&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),r&&l.done]))[0]})};return Pw.set(e,o),o}Yx(n=>Pe(Q({},n),{get:(e,t,i)=>Jx(e,t)||n.get(e,t,i),has:(e,t)=>!!Jx(e,t)||n.has(e,t)}));var Fw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(nz(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function nz(n){let e=n.getComponent();return e?.type==="VERSION"}var Lw="@firebase/app",Zx="0.10.13";var xr=new Qi("@firebase/app"),iz="@firebase/app-compat",rz="@firebase/analytics-compat",oz="@firebase/analytics",sz="@firebase/app-check-compat",az="@firebase/app-check",lz="@firebase/auth",cz="@firebase/auth-compat",uz="@firebase/database",dz="@firebase/data-connect",hz="@firebase/database-compat",fz="@firebase/functions",pz="@firebase/functions-compat",mz="@firebase/installations",gz="@firebase/installations-compat",_z="@firebase/messaging",vz="@firebase/messaging-compat",yz="@firebase/performance",wz="@firebase/performance-compat",Ez="@firebase/remote-config",bz="@firebase/remote-config-compat",Iz="@firebase/storage",Cz="@firebase/storage-compat",Tz="@firebase/firestore",Dz="@firebase/vertexai-preview",Sz="@firebase/firestore-compat",Az="firebase",Mz="10.14.1";var Vw="[DEFAULT]",Nz={[Lw]:"fire-core",[iz]:"fire-core-compat",[oz]:"fire-analytics",[rz]:"fire-analytics-compat",[az]:"fire-app-check",[sz]:"fire-app-check-compat",[lz]:"fire-auth",[cz]:"fire-auth-compat",[uz]:"fire-rtdb",[dz]:"fire-data-connect",[hz]:"fire-rtdb-compat",[fz]:"fire-fn",[pz]:"fire-fn-compat",[mz]:"fire-iid",[gz]:"fire-iid-compat",[_z]:"fire-fcm",[vz]:"fire-fcm-compat",[yz]:"fire-perf",[wz]:"fire-perf-compat",[Ez]:"fire-rc",[bz]:"fire-rc-compat",[Iz]:"fire-gcs",[Cz]:"fire-gcs-compat",[Tz]:"fire-fst",[Sz]:"fire-fst-compat",[Dz]:"fire-vertex","fire-js":"fire-js",[Az]:"fire-js-all"};var Ju=new Map,xz=new Map,Bw=new Map;function eR(n,e){try{n.container.addComponent(e)}catch(t){xr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ji(n){let e=n.name;if(Bw.has(e))return xr.debug(`There were multiple attempts to register component ${e}.`),!1;Bw.set(e,n);for(let t of Ju.values())eR(t,n);for(let t of xz.values())eR(t,n);return!0}function Zu(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function wl(n){return n.settings!==void 0}var Rz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Eo=new Nr("app","Firebase",Rz);var Uw=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Mn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Eo.create("app-deleted",{appName:this._name})}};var bo=Mz;function Hw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:Vw,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Eo.create("bad-app-name",{appName:String(r)});if(t||(t=Aw()),!t)throw Eo.create("no-options");let o=Ju.get(r);if(o){if(yl(t,o.options)&&yl(i,o.config))return o;throw Eo.create("duplicate-app",{appName:r})}let s=new Yu(r);for(let l of Bw.values())s.addComponent(l);let a=new Uw(t,i,s);return Ju.set(r,a),a}function Ds(n=Vw){let e=Ju.get(n);if(!e&&n===Vw&&Aw())return Hw();if(!e)throw Eo.create("no-app",{appName:n});return e}function sm(){return Array.from(Ju.values())}function ht(n,e,t){var i;let r=(i=Nz[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${r}" with version "${e}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xr.warn(a.join(" "));return}Ji(new Mn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var Oz="firebase-heartbeat-database",Pz=1,Xu="firebase-heartbeat-store",kw=null;function rR(){return kw||(kw=Xx(Oz,Pz,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Xu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Eo.create("idb-open",{originalErrorMessage:n.message})})),kw}function kz(n){return k(this,null,function*(){try{let t=(yield rR()).transaction(Xu),i=yield t.objectStore(Xu).get(oR(n));return yield t.done,i}catch(e){if(e instanceof ri)xr.warn(e.message);else{let t=Eo.create("idb-get",{originalErrorMessage:e?.message});xr.warn(t.message)}}})}function tR(n,e){return k(this,null,function*(){try{let i=(yield rR()).transaction(Xu,"readwrite");yield i.objectStore(Xu).put(e,oR(n)),yield i.done}catch(t){if(t instanceof ri)xr.warn(t.message);else{let i=Eo.create("idb-set",{originalErrorMessage:t?.message});xr.warn(i.message)}}})}function oR(n){return`${n.name}!${n.options.appId}`}var Fz=1024,Lz=30*24*60*60*1e3,jw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new $w(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return k(this,null,function*(){var e,t;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=nR();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=Lz}),this._storage.overwrite(this._heartbeatsCache))}catch(i){xr.warn(i)}})}getHeartbeatsHeader(){return k(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=nR(),{heartbeatsToSend:i,unsentEntries:r}=Vz(this._heartbeatsCache.heartbeats),o=Gu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return xr.warn(t),""}})}};function nR(){return new Date().toISOString().substring(0,10)}function Vz(n,e=Fz){let t=[],i=n.slice();for(let r of n){let o=t.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),iR(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),iR(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var $w=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return k(this,null,function*(){return Mw()?Bx().then(()=>!0).catch(()=>!1):!1})}read(){return k(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield kz(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return k(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return tR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return k(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return tR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function iR(n){return Gu(JSON.stringify({version:2,heartbeats:n})).length}function Bz(n){Ji(new Mn("platform-logger",e=>new Fw(e),"PRIVATE")),Ji(new Mn("heartbeat",e=>new jw(e),"PRIVATE")),ht(Lw,Zx,n),ht(Lw,Zx,"esm2017"),ht("fire-js","")}Bz("");var Uz="firebase",jz="10.14.1";ht(Uz,jz,"app");var Io=new vr("ANGULARFIRE2_VERSION");function ed(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ms=(n,e)=>{let t=e?[e]:sm(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},As=class{constructor(){return Ms($z)}},$z="app-check";function El(){}var am=class{zone;delegate;constructor(e,t=o_){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,i)}},Gw=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",El,{},El,El)),t.pipe(tt({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ns=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new am(Zone.current)),this.insideAngular=t.run(()=>new am(Zone.current,ya)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(te(Ce))};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lm(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function Hz(n){return lm().ngZone.runOutsideAngular(()=>n())}function Ss(n){return lm().ngZone.run(()=>n())}function Gz(n){return zz(lm())(n)}function zz(n){return function(t){return t=t.lift(new Gw(n.ngZone)),t.pipe(Qr(n.outsideAngular),Kr(n.insideAngular))}}var qz=(n,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ss(()=>n.apply(void 0,i))},Cn=(n,e)=>function(){let t,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(t||=Ss(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",El,{},El,El))),i[o]=qz(i[o],t));let r=Hz(()=>n.apply(this,i));if(!e)if(r instanceof he){let o=lm();return r.pipe(Qr(o.outsideAngular),Kr(o.insideAngular))}else return Ss(()=>r);return r instanceof he?r.pipe(Gz):r instanceof Promise?Ss(()=>new Promise((o,s)=>r.then(a=>Ss(()=>o(a)),a=>Ss(()=>s(a))))):typeof r=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),r.apply(this,arguments)}:Ss(()=>r)};var Rr=class{constructor(e){return e}},xs=class{constructor(){return sm()}};function Wz(n){return n&&n.length===1?n[0]:new Rr(Ds())}var zw=new Z("angularfire2._apps"),Kz={provide:Rr,useFactory:Wz,deps:[[new an,zw]]},Qz={provide:xs,deps:[[new an,zw]]};function Yz(n){return(e,t)=>{let i=t.get(Bt);ht("angularfire",Io.full,"core"),ht("angularfire",Io.full,"app"),ht("angular",DA.full,i.toString());let r=e.runOutsideAngular(()=>n(t));return new Rr(r)}}function sR(n,...e){return bn([Kz,Qz,{provide:zw,useFactory:Yz(n),multi:!0,deps:[Ce,Ot,Ns,...e]}])}var aR=Cn(Hw,!0);function mR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var gR=mR,_R=new Nr("auth","Firebase",mR());var hm=new Qi("@firebase/auth");function Xz(n,...e){hm.logLevel<=be.WARN&&hm.warn(`Auth (${bo}): ${n}`,...e)}function um(n,...e){hm.logLevel<=be.ERROR&&hm.error(`Auth (${bo}): ${n}`,...e)}function lR(n,...e){throw iE(n,...e)}function nE(n,...e){return iE(n,...e)}function vR(n,e,t){let i=Object.assign(Object.assign({},gR()),{[e]:t});return new Nr("auth","Firebase",i).create(e,{appName:n.name})}function dm(n){return vR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iE(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return _R.create(n,...e)}function je(n,e,...t){if(!n)throw iE(e,...t)}function td(n){let e="INTERNAL ASSERTION FAILED: "+n;throw um(e),new Error(e)}function fm(n,e){n||td(e)}function Zz(){return cR()==="http:"||cR()==="https:"}function cR(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function e6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Zz()||Lx()||"connection"in navigator)?navigator.onLine:!0}function t6(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Os=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,fm(t>e,"Short delay should be less than long delay!"),this.isMobile=qu()||nm()}get(){return e6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function n6(n,e){fm(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var pm=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;td("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;td("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;td("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var i6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var r6=new Os(3e4,6e4);function yR(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function vm(o,s,a,l){return k(this,arguments,function*(n,e,t,i,r={}){return wR(n,r,()=>k(this,null,function*(){let u={},d={};i&&(e==="GET"?d=i:u={body:JSON.stringify(i)});let f=Ku(Object.assign({key:n.config.apiKey},d)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let _=Object.assign({method:e,headers:m},u);return Fx()||(_.referrerPolicy="no-referrer"),pm.fetch()(ER(n,n.config.apiHost,t,f),_)}))})}function wR(n,e,t){return k(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},i6),e);try{let r=new Kw(n),o=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw cm(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw cm(n,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw cm(n,"email-already-in-use",s);if(l==="USER_DISABLED")throw cm(n,"user-disabled",s);let d=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw vR(n,d,u);lR(n,d)}}catch(r){if(r instanceof ri)throw r;lR(n,"network-request-failed",{message:String(r)})}})}function ER(n,e,t,i){let r=`${e}${t}?${i}`;return n.config.emulator?n6(n.config,r):`${n.config.apiScheme}://${r}`}var Kw=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(nE(this.auth,"network-request-failed")),r6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function cm(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=nE(n,e,i);return r.customData._tokenResponse=t,r}function o6(n,e){return k(this,null,function*(){return vm(n,"POST","/v1/accounts:delete",e)})}function bR(n,e){return k(this,null,function*(){return vm(n,"POST","/v1/accounts:lookup",e)})}function nd(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function rE(n,e=!1){return k(this,null,function*(){let t=Gt(n),i=yield t.getIdToken(e),r=IR(i);je(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:nd(qw(r.auth_time)),issuedAtTime:nd(qw(r.iat)),expirationTime:nd(qw(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function qw(n){return Number(n)*1e3}function IR(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return um("JWT malformed, contained fewer than 3 sections"),null;try{let r=zu(t);return r?JSON.parse(r):(um("Failed to decode base64 JWT payload"),null)}catch(r){return um("Caught error parsing JWT payload as JSON",r?.toString()),null}}function uR(n){let e=IR(n);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Qw(n,e,t=!1){return k(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof ri&&s6(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function s6({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Yw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>k(this,null,function*(){yield this.iteration()}),t)}iteration(){return k(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var rd=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=nd(this.lastLoginAt),this.creationTime=nd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function mm(n){return k(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield Qw(n,bR(t,{idToken:i}));je(r?.users.length,t,"internal-error");let o=r.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?CR(o.providerUserInfo):[],a=a6(n.providerData,s),l=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,d=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new rd(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,f)})}function oE(n){return k(this,null,function*(){let e=Gt(n);yield mm(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function a6(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function CR(n){return n.map(e=>{var{providerId:t}=e,i=s_(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function l6(n,e){return k(this,null,function*(){let t=yield wR(n,{},()=>k(this,null,function*(){let i=Ku({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=ER(n,r,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",pm.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function c6(n,e){return k(this,null,function*(){return vm(n,"POST","/v2/accounts:revokeToken",yR(n,e))})}var id=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){je(e.length!==0,"internal-error");let t=uR(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return k(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return k(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield l6(e,t);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new n;return i&&(je(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(je(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(je(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return td("not implemented")}};function Co(n,e){je(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var od=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=s_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rd(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return k(this,null,function*(){let t=yield Qw(this,this.stsTokenManager.getToken(this.auth,e));return je(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return rE(this,e)}reload(){return oE(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return k(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield mm(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return k(this,null,function*(){if(wl(this.auth.app))return Promise.reject(dm(this.auth));let e=yield this.getIdToken();return yield Qw(this,o6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,s,a,l,u,d;let f=(i=t.displayName)!==null&&i!==void 0?i:void 0,m=(r=t.email)!==null&&r!==void 0?r:void 0,_=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,T=(s=t.photoURL)!==null&&s!==void 0?s:void 0,M=(a=t.tenantId)!==null&&a!==void 0?a:void 0,N=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,B=(u=t.createdAt)!==null&&u!==void 0?u:void 0,z=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:$,emailVerified:W,isAnonymous:oe,providerData:Y,stsTokenManager:S}=t;je($&&S,e,"internal-error");let w=id.fromJSON(this.name,S);je(typeof $=="string",e,"internal-error"),Co(f,e.name),Co(m,e.name),je(typeof W=="boolean",e,"internal-error"),je(typeof oe=="boolean",e,"internal-error"),Co(_,e.name),Co(T,e.name),Co(M,e.name),Co(N,e.name),Co(B,e.name),Co(z,e.name);let b=new n({uid:$,auth:e,email:m,emailVerified:W,displayName:f,isAnonymous:oe,photoURL:T,phoneNumber:_,tenantId:M,stsTokenManager:w,createdAt:B,lastLoginAt:z});return Y&&Array.isArray(Y)&&(b.providerData=Y.map(D=>Object.assign({},D))),N&&(b._redirectEventId=N),b}static _fromIdTokenResponse(e,t,i=!1){return k(this,null,function*(){let r=new id;r.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield mm(o),o})}static _fromGetAccountInfoResponse(e,t,i){return k(this,null,function*(){let r=t.users[0];je(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?CR(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,a=new id;a.updateFromIdToken(i);let l=new n({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new rd(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(l,u),l})}};var dR=new Map;function Rs(n){fm(n instanceof Function,"Expected a class definition");let e=dR.get(n);return e?(fm(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,dR.set(n,e),e)}var u6=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return k(this,null,function*(){return!0})}_set(t,i){return k(this,null,function*(){this.storage[t]=i})}_get(t){return k(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return k(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),Jw=u6;function Ww(n,e,t){return`firebase:${n}:${e}:${t}`}var gm=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=Ww(this.userKey,r.apiKey,o),this.fullPersistenceKey=Ww("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return k(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?od._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return k(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return k(this,null,function*(){if(!t.length)return new n(Rs(Jw),e,i);let r=(yield Promise.all(t.map(u=>k(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=r[0]||Rs(Jw),s=Ww(i,e.config.apiKey,e.name),a=null;for(let u of t)try{let d=yield u._get(s);if(d){let f=od._fromJSON(e,d);u!==o&&(a=f),o=u;break}}catch{}let l=r.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new n(o,e,i):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>k(this,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,i))})}};function hR(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(p6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(d6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(g6(e))return"Blackberry";if(_6(e))return"Webos";if(h6(e))return"Safari";if((e.includes("chrome/")||f6(e))&&!e.includes("edge/"))return"Chrome";if(m6(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function d6(n=Hn()){return/firefox\//i.test(n)}function h6(n=Hn()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function f6(n=Hn()){return/crios\//i.test(n)}function p6(n=Hn()){return/iemobile/i.test(n)}function m6(n=Hn()){return/android/i.test(n)}function g6(n=Hn()){return/blackberry/i.test(n)}function _6(n=Hn()){return/webos/i.test(n)}function TR(n,e=[]){let t;switch(n){case"Browser":t=hR(Hn());break;case"Worker":t=`${hR(Hn())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${bo}/${i}`}var Xw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=o=>new Promise((s,a)=>{try{let l=e(o);s(l)}catch(l){a(l)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return k(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function v6(t){return k(this,arguments,function*(n,e={}){return vm(n,"GET","/v2/passwordPolicy",yR(n,e))})}var y6=6,Zw=class{constructor(e){var t,i,r,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:y6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var eE=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _m(this),this.idTokenSubscription=new _m(this),this.beforeStateQueue=new Xw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_R,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Rs(t)),this._initializationPromise=this.queue(()=>k(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield gm.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return k(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return k(this,null,function*(){try{let t=yield bR(this,{idToken:e}),i=yield od._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return k(this,null,function*(){var t;if(wl(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=r?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(r=l.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return k(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return k(this,null,function*(){try{yield mm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=t6()}_delete(){return k(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return k(this,null,function*(){if(wl(this.app))return Promise.reject(dm(this));let t=e?Gt(e):null;return t&&je(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return k(this,null,function*(){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>k(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return k(this,null,function*(){return wl(this.app)?Promise.reject(dm(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return wl(this.app)?Promise.reject(dm(this)):this.queue(()=>k(this,null,function*(){yield this.assertedPersistence.setPersistence(Rs(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return k(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return k(this,null,function*(){let e=yield v6(this),t=new Zw(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nr("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return k(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield c6(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return k(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return k(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Rs(e)||this._popupRedirectResolver;je(t,this,"argument-error"),this.redirectPersistenceManager=yield gm.create(this,[Rs(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return k(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>k(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return k(this,null,function*(){if(e===this.currentUser)return this.queue(()=>k(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,i,r);return()=>{s=!0,l()}}else{let l=e.addObserver(t);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return k(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return k(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return k(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&Xz(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function w6(n){return Gt(n)}var _m=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Hx(t=>this.observer=t)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var E6={loadJS(){return k(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b6(n){E6=n}function I6(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function C6(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Rs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}var xue=I6("rcb"),Rue=new Os(3e4,6e4);var Oue=new Os(2e3,1e4);var Pue=10*60*1e3;var kue=new Os(3e4,6e4);var Fue=new Os(5e3,15e3);var Lue=encodeURIComponent("fac");var fR="@firebase/auth",pR="1.7.9";var tE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return k(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function T6(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function D6(n){Ji(new Mn("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;je(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TR(n)},u=new eE(i,r,o,l);return C6(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ji(new Mn("auth-internal",e=>{let t=w6(e.getProvider("auth").getImmediate());return(i=>new tE(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ht(fR,pR,T6(n)),ht(fR,pR,"esm2017")}var S6=5*60,Vue=kx("authIdTokenMaxAge")||S6;function A6(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}b6({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let o=nE("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",A6().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});D6("Browser");var Sq="auth";var bl=class{constructor(){return Ms(Sq)}};var DR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},SR={};var To,sE;(function(){var n;function e(S,w){function b(){}b.prototype=w.prototype,S.D=w.prototype,S.prototype=new b,S.prototype.constructor=S,S.C=function(D,A,P){for(var C=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)C[Wt-2]=arguments[Wt];return w.prototype[A].apply(D,C)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(S,w,b){b||(b=0);var D=Array(16);if(typeof w=="string")for(var A=0;16>A;++A)D[A]=w.charCodeAt(b++)|w.charCodeAt(b++)<<8|w.charCodeAt(b++)<<16|w.charCodeAt(b++)<<24;else for(A=0;16>A;++A)D[A]=w[b++]|w[b++]<<8|w[b++]<<16|w[b++]<<24;w=S.g[0],b=S.g[1],A=S.g[2];var P=S.g[3],C=w+(P^b&(A^P))+D[0]+3614090360&4294967295;w=b+(C<<7&4294967295|C>>>25),C=P+(A^w&(b^A))+D[1]+3905402710&4294967295,P=w+(C<<12&4294967295|C>>>20),C=A+(b^P&(w^b))+D[2]+606105819&4294967295,A=P+(C<<17&4294967295|C>>>15),C=b+(w^A&(P^w))+D[3]+3250441966&4294967295,b=A+(C<<22&4294967295|C>>>10),C=w+(P^b&(A^P))+D[4]+4118548399&4294967295,w=b+(C<<7&4294967295|C>>>25),C=P+(A^w&(b^A))+D[5]+1200080426&4294967295,P=w+(C<<12&4294967295|C>>>20),C=A+(b^P&(w^b))+D[6]+2821735955&4294967295,A=P+(C<<17&4294967295|C>>>15),C=b+(w^A&(P^w))+D[7]+4249261313&4294967295,b=A+(C<<22&4294967295|C>>>10),C=w+(P^b&(A^P))+D[8]+1770035416&4294967295,w=b+(C<<7&4294967295|C>>>25),C=P+(A^w&(b^A))+D[9]+2336552879&4294967295,P=w+(C<<12&4294967295|C>>>20),C=A+(b^P&(w^b))+D[10]+4294925233&4294967295,A=P+(C<<17&4294967295|C>>>15),C=b+(w^A&(P^w))+D[11]+2304563134&4294967295,b=A+(C<<22&4294967295|C>>>10),C=w+(P^b&(A^P))+D[12]+1804603682&4294967295,w=b+(C<<7&4294967295|C>>>25),C=P+(A^w&(b^A))+D[13]+4254626195&4294967295,P=w+(C<<12&4294967295|C>>>20),C=A+(b^P&(w^b))+D[14]+2792965006&4294967295,A=P+(C<<17&4294967295|C>>>15),C=b+(w^A&(P^w))+D[15]+1236535329&4294967295,b=A+(C<<22&4294967295|C>>>10),C=w+(A^P&(b^A))+D[1]+4129170786&4294967295,w=b+(C<<5&4294967295|C>>>27),C=P+(b^A&(w^b))+D[6]+3225465664&4294967295,P=w+(C<<9&4294967295|C>>>23),C=A+(w^b&(P^w))+D[11]+643717713&4294967295,A=P+(C<<14&4294967295|C>>>18),C=b+(P^w&(A^P))+D[0]+3921069994&4294967295,b=A+(C<<20&4294967295|C>>>12),C=w+(A^P&(b^A))+D[5]+3593408605&4294967295,w=b+(C<<5&4294967295|C>>>27),C=P+(b^A&(w^b))+D[10]+38016083&4294967295,P=w+(C<<9&4294967295|C>>>23),C=A+(w^b&(P^w))+D[15]+3634488961&4294967295,A=P+(C<<14&4294967295|C>>>18),C=b+(P^w&(A^P))+D[4]+3889429448&4294967295,b=A+(C<<20&4294967295|C>>>12),C=w+(A^P&(b^A))+D[9]+568446438&4294967295,w=b+(C<<5&4294967295|C>>>27),C=P+(b^A&(w^b))+D[14]+3275163606&4294967295,P=w+(C<<9&4294967295|C>>>23),C=A+(w^b&(P^w))+D[3]+4107603335&4294967295,A=P+(C<<14&4294967295|C>>>18),C=b+(P^w&(A^P))+D[8]+1163531501&4294967295,b=A+(C<<20&4294967295|C>>>12),C=w+(A^P&(b^A))+D[13]+2850285829&4294967295,w=b+(C<<5&4294967295|C>>>27),C=P+(b^A&(w^b))+D[2]+4243563512&4294967295,P=w+(C<<9&4294967295|C>>>23),C=A+(w^b&(P^w))+D[7]+1735328473&4294967295,A=P+(C<<14&4294967295|C>>>18),C=b+(P^w&(A^P))+D[12]+2368359562&4294967295,b=A+(C<<20&4294967295|C>>>12),C=w+(b^A^P)+D[5]+4294588738&4294967295,w=b+(C<<4&4294967295|C>>>28),C=P+(w^b^A)+D[8]+2272392833&4294967295,P=w+(C<<11&4294967295|C>>>21),C=A+(P^w^b)+D[11]+1839030562&4294967295,A=P+(C<<16&4294967295|C>>>16),C=b+(A^P^w)+D[14]+4259657740&4294967295,b=A+(C<<23&4294967295|C>>>9),C=w+(b^A^P)+D[1]+2763975236&4294967295,w=b+(C<<4&4294967295|C>>>28),C=P+(w^b^A)+D[4]+1272893353&4294967295,P=w+(C<<11&4294967295|C>>>21),C=A+(P^w^b)+D[7]+4139469664&4294967295,A=P+(C<<16&4294967295|C>>>16),C=b+(A^P^w)+D[10]+3200236656&4294967295,b=A+(C<<23&4294967295|C>>>9),C=w+(b^A^P)+D[13]+681279174&4294967295,w=b+(C<<4&4294967295|C>>>28),C=P+(w^b^A)+D[0]+3936430074&4294967295,P=w+(C<<11&4294967295|C>>>21),C=A+(P^w^b)+D[3]+3572445317&4294967295,A=P+(C<<16&4294967295|C>>>16),C=b+(A^P^w)+D[6]+76029189&4294967295,b=A+(C<<23&4294967295|C>>>9),C=w+(b^A^P)+D[9]+3654602809&4294967295,w=b+(C<<4&4294967295|C>>>28),C=P+(w^b^A)+D[12]+3873151461&4294967295,P=w+(C<<11&4294967295|C>>>21),C=A+(P^w^b)+D[15]+530742520&4294967295,A=P+(C<<16&4294967295|C>>>16),C=b+(A^P^w)+D[2]+3299628645&4294967295,b=A+(C<<23&4294967295|C>>>9),C=w+(A^(b|~P))+D[0]+4096336452&4294967295,w=b+(C<<6&4294967295|C>>>26),C=P+(b^(w|~A))+D[7]+1126891415&4294967295,P=w+(C<<10&4294967295|C>>>22),C=A+(w^(P|~b))+D[14]+2878612391&4294967295,A=P+(C<<15&4294967295|C>>>17),C=b+(P^(A|~w))+D[5]+4237533241&4294967295,b=A+(C<<21&4294967295|C>>>11),C=w+(A^(b|~P))+D[12]+1700485571&4294967295,w=b+(C<<6&4294967295|C>>>26),C=P+(b^(w|~A))+D[3]+2399980690&4294967295,P=w+(C<<10&4294967295|C>>>22),C=A+(w^(P|~b))+D[10]+4293915773&4294967295,A=P+(C<<15&4294967295|C>>>17),C=b+(P^(A|~w))+D[1]+2240044497&4294967295,b=A+(C<<21&4294967295|C>>>11),C=w+(A^(b|~P))+D[8]+1873313359&4294967295,w=b+(C<<6&4294967295|C>>>26),C=P+(b^(w|~A))+D[15]+4264355552&4294967295,P=w+(C<<10&4294967295|C>>>22),C=A+(w^(P|~b))+D[6]+2734768916&4294967295,A=P+(C<<15&4294967295|C>>>17),C=b+(P^(A|~w))+D[13]+1309151649&4294967295,b=A+(C<<21&4294967295|C>>>11),C=w+(A^(b|~P))+D[4]+4149444226&4294967295,w=b+(C<<6&4294967295|C>>>26),C=P+(b^(w|~A))+D[11]+3174756917&4294967295,P=w+(C<<10&4294967295|C>>>22),C=A+(w^(P|~b))+D[2]+718787259&4294967295,A=P+(C<<15&4294967295|C>>>17),C=b+(P^(A|~w))+D[9]+3951481745&4294967295,S.g[0]=S.g[0]+w&4294967295,S.g[1]=S.g[1]+(A+(C<<21&4294967295|C>>>11))&4294967295,S.g[2]=S.g[2]+A&4294967295,S.g[3]=S.g[3]+P&4294967295}i.prototype.u=function(S,w){w===void 0&&(w=S.length);for(var b=w-this.blockSize,D=this.B,A=this.h,P=0;P<w;){if(A==0)for(;P<=b;)r(this,S,P),P+=this.blockSize;if(typeof S=="string"){for(;P<w;)if(D[A++]=S.charCodeAt(P++),A==this.blockSize){r(this,D),A=0;break}}else for(;P<w;)if(D[A++]=S[P++],A==this.blockSize){r(this,D),A=0;break}}this.h=A,this.o+=w},i.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var w=1;w<S.length-8;++w)S[w]=0;var b=8*this.o;for(w=S.length-8;w<S.length;++w)S[w]=b&255,b/=256;for(this.u(S),S=Array(16),w=b=0;4>w;++w)for(var D=0;32>D;D+=8)S[b++]=this.g[w]>>>D&255;return S};function o(S,w){var b=a;return Object.prototype.hasOwnProperty.call(b,S)?b[S]:b[S]=w(S)}function s(S,w){this.h=w;for(var b=[],D=!0,A=S.length-1;0<=A;A--){var P=S[A]|0;D&&P==w||(b[A]=P,D=!1)}this.g=b}var a={};function l(S){return-128<=S&&128>S?o(S,function(w){return new s([w|0],0>w?-1:0)}):new s([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return N(u(-S));for(var w=[],b=1,D=0;S>=b;D++)w[D]=S/b|0,b*=4294967296;return new s(w,0)}function d(S,w){if(S.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(S.charAt(0)=="-")return N(d(S.substring(1),w));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(w,8)),D=f,A=0;A<S.length;A+=8){var P=Math.min(8,S.length-A),C=parseInt(S.substring(A,A+P),w);8>P?(P=u(Math.pow(w,P)),D=D.j(P).add(u(C))):(D=D.j(b),D=D.add(u(C)))}return D}var f=l(0),m=l(1),_=l(16777216);n=s.prototype,n.m=function(){if(M(this))return-N(this).m();for(var S=0,w=1,b=0;b<this.g.length;b++){var D=this.i(b);S+=(0<=D?D:4294967296+D)*w,w*=4294967296}return S},n.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(T(this))return"0";if(M(this))return"-"+N(this).toString(S);for(var w=u(Math.pow(S,6)),b=this,D="";;){var A=W(b,w).g;b=B(b,A.j(w));var P=((0<b.g.length?b.g[0]:b.h)>>>0).toString(S);if(b=A,T(b))return P+D;for(;6>P.length;)P="0"+P;D=P+D}},n.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function T(S){if(S.h!=0)return!1;for(var w=0;w<S.g.length;w++)if(S.g[w]!=0)return!1;return!0}function M(S){return S.h==-1}n.l=function(S){return S=B(this,S),M(S)?-1:T(S)?0:1};function N(S){for(var w=S.g.length,b=[],D=0;D<w;D++)b[D]=~S.g[D];return new s(b,~S.h).add(m)}n.abs=function(){return M(this)?N(this):this},n.add=function(S){for(var w=Math.max(this.g.length,S.g.length),b=[],D=0,A=0;A<=w;A++){var P=D+(this.i(A)&65535)+(S.i(A)&65535),C=(P>>>16)+(this.i(A)>>>16)+(S.i(A)>>>16);D=C>>>16,P&=65535,C&=65535,b[A]=C<<16|P}return new s(b,b[b.length-1]&-2147483648?-1:0)};function B(S,w){return S.add(N(w))}n.j=function(S){if(T(this)||T(S))return f;if(M(this))return M(S)?N(this).j(N(S)):N(N(this).j(S));if(M(S))return N(this.j(N(S)));if(0>this.l(_)&&0>S.l(_))return u(this.m()*S.m());for(var w=this.g.length+S.g.length,b=[],D=0;D<2*w;D++)b[D]=0;for(D=0;D<this.g.length;D++)for(var A=0;A<S.g.length;A++){var P=this.i(D)>>>16,C=this.i(D)&65535,Wt=S.i(A)>>>16,xn=S.i(A)&65535;b[2*D+2*A]+=C*xn,z(b,2*D+2*A),b[2*D+2*A+1]+=P*xn,z(b,2*D+2*A+1),b[2*D+2*A+1]+=C*Wt,z(b,2*D+2*A+1),b[2*D+2*A+2]+=P*Wt,z(b,2*D+2*A+2)}for(D=0;D<w;D++)b[D]=b[2*D+1]<<16|b[2*D];for(D=w;D<2*w;D++)b[D]=0;return new s(b,0)};function z(S,w){for(;(S[w]&65535)!=S[w];)S[w+1]+=S[w]>>>16,S[w]&=65535,w++}function $(S,w){this.g=S,this.h=w}function W(S,w){if(T(w))throw Error("division by zero");if(T(S))return new $(f,f);if(M(S))return w=W(N(S),w),new $(N(w.g),N(w.h));if(M(w))return w=W(S,N(w)),new $(N(w.g),w.h);if(30<S.g.length){if(M(S)||M(w))throw Error("slowDivide_ only works with positive integers.");for(var b=m,D=w;0>=D.l(S);)b=oe(b),D=oe(D);var A=Y(b,1),P=Y(D,1);for(D=Y(D,2),b=Y(b,2);!T(D);){var C=P.add(D);0>=C.l(S)&&(A=A.add(b),P=C),D=Y(D,1),b=Y(b,1)}return w=B(S,A.j(w)),new $(A,w)}for(A=f;0<=S.l(w);){for(b=Math.max(1,Math.floor(S.m()/w.m())),D=Math.ceil(Math.log(b)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),P=u(b),C=P.j(w);M(C)||0<C.l(S);)b-=D,P=u(b),C=P.j(w);T(P)&&(P=m),A=A.add(P),S=B(S,C)}return new $(A,S)}n.A=function(S){return W(this,S).h},n.and=function(S){for(var w=Math.max(this.g.length,S.g.length),b=[],D=0;D<w;D++)b[D]=this.i(D)&S.i(D);return new s(b,this.h&S.h)},n.or=function(S){for(var w=Math.max(this.g.length,S.g.length),b=[],D=0;D<w;D++)b[D]=this.i(D)|S.i(D);return new s(b,this.h|S.h)},n.xor=function(S){for(var w=Math.max(this.g.length,S.g.length),b=[],D=0;D<w;D++)b[D]=this.i(D)^S.i(D);return new s(b,this.h^S.h)};function oe(S){for(var w=S.g.length+1,b=[],D=0;D<w;D++)b[D]=S.i(D)<<1|S.i(D-1)>>>31;return new s(b,S.h)}function Y(S,w){var b=w>>5;w%=32;for(var D=S.g.length-b,A=[],P=0;P<D;P++)A[P]=0<w?S.i(P+b)>>>w|S.i(P+b+1)<<32-w:S.i(P+b);return new s(A,S.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,sE=SR.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,To=SR.Integer=s}).apply(typeof DR<"u"?DR:typeof self<"u"?self:typeof window<"u"?window:{});var ym=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Or={};var aE,Aq,Il,lE,sd,wm,cE,uE,dE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,h,p){return c==Array.prototype||c==Object.prototype||(c[h]=p.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ym=="object"&&ym];for(var h=0;h<c.length;++h){var p=c[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var i=t(this);function r(c,h){if(h)e:{var p=i;c=c.split(".");for(var v=0;v<c.length-1;v++){var O=c[v];if(!(O in p))break e;p=p[O]}c=c[c.length-1],v=p[c],h=h(v),h!=v&&h!=null&&e(p,c,{configurable:!0,writable:!0,value:h})}}function o(c,h){c instanceof String&&(c+="");var p=0,v=!1,O={next:function(){if(!v&&p<c.length){var L=p++;return{value:h(L,c[L]),done:!1}}return v=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}r("Array.prototype.values",function(c){return c||function(){return o(this,function(h,p){return p})}});var s=s||{},a=this||self;function l(c){var h=typeof c;return h=h!="object"?h:c?Array.isArray(c)?"array":h:"null",h=="array"||h=="object"&&typeof c.length=="number"}function u(c){var h=typeof c;return h=="object"&&c!=null||h=="function"}function d(c,h,p){return c.call.apply(c.bind,arguments)}function f(c,h,p){if(!c)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,v),c.apply(h,O)}}return function(){return c.apply(h,arguments)}}function m(c,h,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function _(c,h){var p=Array.prototype.slice.call(arguments,1);return function(){var v=p.slice();return v.push.apply(v,arguments),c.apply(this,v)}}function T(c,h){function p(){}p.prototype=h.prototype,c.aa=h.prototype,c.prototype=new p,c.prototype.constructor=c,c.Qb=function(v,O,L){for(var q=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)q[Ke-2]=arguments[Ke];return h.prototype[O].apply(v,q)}}function M(c){let h=c.length;if(0<h){let p=Array(h);for(let v=0;v<h;v++)p[v]=c[v];return p}return[]}function N(c,h){for(let p=1;p<arguments.length;p++){let v=arguments[p];if(l(v)){let O=c.length||0,L=v.length||0;c.length=O+L;for(let q=0;q<L;q++)c[O+q]=v[q]}else c.push(v)}}class B{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function z(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function W(c){return W[" "](c),c}W[" "]=function(){};var oe=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function Y(c,h,p){for(let v in c)h.call(p,c[v],v,c)}function S(c,h){for(let p in c)h.call(void 0,c[p],p,c)}function w(c){let h={};for(let p in c)h[p]=c[p];return h}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,h){let p,v;for(let O=1;O<arguments.length;O++){v=arguments[O];for(p in v)c[p]=v[p];for(let L=0;L<b.length;L++)p=b[L],Object.prototype.hasOwnProperty.call(v,p)&&(c[p]=v[p])}}function A(c){var h=1;c=c.split(":");let p=[];for(;0<h&&c.length;)p.push(c.shift()),h--;return c.length&&p.push(c.join(":")),p}function P(c){a.setTimeout(()=>{throw c},0)}function C(){var c=ci;let h=null;return c.g&&(h=c.g,c.g=c.g.next,c.g||(c.h=null),h.next=null),h}class Wt{constructor(){this.h=this.g=null}add(h,p){let v=xn.get();v.set(h,p),this.h?this.h.next=v:this.g=v,this.h=v}}var xn=new B(()=>new pn,c=>c.reset());class pn{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Kt,Ni=!1,ci=new Wt,Oo=()=>{let c=a.Promise.resolve(void 0);Kt=()=>{c.then(oc)}};var oc=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(p){P(p)}var h=xn;h.j(c),100>h.h&&(h.h++,c.next=h.g,h.g=c)}Ni=!1};function Tn(){this.s=this.s,this.C=this.C}Tn.prototype.s=!1,Tn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Tn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function yt(c,h){this.type=c,this.g=this.target=h,this.defaultPrevented=!1}yt.prototype.h=function(){this.defaultPrevented=!0};var Ur=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,h=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return c}();function Dn(c,h){if(yt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var p=this.type=c.type,v=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=h,h=c.relatedTarget){if(oe){e:{try{W(h.nodeName);var O=!0;break e}catch{}O=!1}O||(h=null)}}else p=="mouseover"?h=c.fromElement:p=="mouseout"&&(h=c.toElement);this.relatedTarget=h,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Po[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Dn.aa.h.call(this)}}T(Dn,yt);var Po={2:"touch",3:"pen",4:"mouse"};Dn.prototype.h=function(){Dn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var xi="closure_listenable_"+(1e6*Math.random()|0),or=0;function sc(c,h,p,v,O){this.listener=c,this.proxy=null,this.src=h,this.type=p,this.capture=!!v,this.ha=O,this.key=++or,this.da=this.fa=!1}function na(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function jr(c){this.src=c,this.g={},this.h=0}jr.prototype.add=function(c,h,p,v,O){var L=c.toString();c=this.g[L],c||(c=this.g[L]=[],this.h++);var q=ia(c,h,v,O);return-1<q?(h=c[q],p||(h.fa=!1)):(h=new sc(h,this.src,L,!!v,O),h.fa=p,c.push(h)),h};function ac(c,h){var p=h.type;if(p in c.g){var v=c.g[p],O=Array.prototype.indexOf.call(v,h,void 0),L;(L=0<=O)&&Array.prototype.splice.call(v,O,1),L&&(na(h),c.g[p].length==0&&(delete c.g[p],c.h--))}}function ia(c,h,p,v){for(var O=0;O<c.length;++O){var L=c[O];if(!L.da&&L.listener==h&&L.capture==!!p&&L.ha==v)return O}return-1}var lc="closure_lm_"+(1e6*Math.random()|0),cc={};function uc(c,h,p,v,O){if(v&&v.once)return Qd(c,h,p,v,O);if(Array.isArray(h)){for(var L=0;L<h.length;L++)uc(c,h[L],p,v,O);return null}return p=oa(p),c&&c[xi]?c.K(h,p,u(v)?!!v.capture:!!v,O):dc(c,h,p,!1,v,O)}function dc(c,h,p,v,O,L){if(!h)throw Error("Invalid event type");var q=u(O)?!!O.capture:!!O,Ke=ko(c);if(Ke||(c[lc]=Ke=new jr(c)),p=Ke.add(h,p,v,q,L),p.proxy)return p;if(v=Sg(),p.proxy=v,v.src=c,v.listener=p,c.addEventListener)Ur||(O=q),O===void 0&&(O=!1),c.addEventListener(h.toString(),v,O);else if(c.attachEvent)c.attachEvent(hc(h.toString()),v);else if(c.addListener&&c.removeListener)c.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Sg(){function c(p){return h.call(c.src,c.listener,p)}let h=Yd;return c}function Qd(c,h,p,v,O){if(Array.isArray(h)){for(var L=0;L<h.length;L++)Qd(c,h[L],p,v,O);return null}return p=oa(p),c&&c[xi]?c.L(h,p,u(v)?!!v.capture:!!v,O):dc(c,h,p,!0,v,O)}function Ri(c,h,p,v,O){if(Array.isArray(h))for(var L=0;L<h.length;L++)Ri(c,h[L],p,v,O);else v=u(v)?!!v.capture:!!v,p=oa(p),c&&c[xi]?(c=c.i,h=String(h).toString(),h in c.g&&(L=c.g[h],p=ia(L,p,v,O),-1<p&&(na(L[p]),Array.prototype.splice.call(L,p,1),L.length==0&&(delete c.g[h],c.h--)))):c&&(c=ko(c))&&(h=c.g[h.toString()],c=-1,h&&(c=ia(h,p,v,O)),(p=-1<c?h[c]:null)&&$r(p))}function $r(c){if(typeof c!="number"&&c&&!c.da){var h=c.src;if(h&&h[xi])ac(h.i,c);else{var p=c.type,v=c.proxy;h.removeEventListener?h.removeEventListener(p,v,c.capture):h.detachEvent?h.detachEvent(hc(p),v):h.addListener&&h.removeListener&&h.removeListener(v),(p=ko(h))?(ac(p,c),p.h==0&&(p.src=null,h[lc]=null)):na(c)}}}function hc(c){return c in cc?cc[c]:cc[c]="on"+c}function Yd(c,h){if(c.da)c=!0;else{h=new Dn(h,this);var p=c.listener,v=c.ha||c.src;c.fa&&$r(c),c=p.call(v,h)}return c}function ko(c){return c=c[lc],c instanceof jr?c:null}var ra="__closure_events_fn_"+(1e9*Math.random()>>>0);function oa(c){return typeof c=="function"?c:(c[ra]||(c[ra]=function(h){return c.handleEvent(h)}),c[ra])}function At(){Tn.call(this),this.i=new jr(this),this.M=this,this.F=null}T(At,Tn),At.prototype[xi]=!0,At.prototype.removeEventListener=function(c,h,p,v){Ri(this,c,h,p,v)};function Ft(c,h){var p,v=c.F;if(v)for(p=[];v;v=v.F)p.push(v);if(c=c.M,v=h.type||h,typeof h=="string")h=new yt(h,c);else if(h instanceof yt)h.target=h.target||c;else{var O=h;h=new yt(v,c),D(h,O)}if(O=!0,p)for(var L=p.length-1;0<=L;L--){var q=h.g=p[L];O=Jd(q,v,!0,h)&&O}if(q=h.g=c,O=Jd(q,v,!0,h)&&O,O=Jd(q,v,!1,h)&&O,p)for(L=0;L<p.length;L++)q=h.g=p[L],O=Jd(q,v,!1,h)&&O}At.prototype.N=function(){if(At.aa.N.call(this),this.i){var c=this.i,h;for(h in c.g){for(var p=c.g[h],v=0;v<p.length;v++)na(p[v]);delete c.g[h],c.h--}}this.F=null},At.prototype.K=function(c,h,p,v){return this.i.add(String(c),h,!1,p,v)},At.prototype.L=function(c,h,p,v){return this.i.add(String(c),h,!0,p,v)};function Jd(c,h,p,v){if(h=c.i.g[String(h)],!h)return!0;h=h.concat();for(var O=!0,L=0;L<h.length;++L){var q=h[L];if(q&&!q.da&&q.capture==p){var Ke=q.listener,Qt=q.ha||q.src;q.fa&&ac(c.i,q),O=Ke.call(Qt,v)!==!1&&O}}return O&&!v.defaultPrevented}function k1(c,h,p){if(typeof c=="function")p&&(c=m(c,p));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(c,h||0)}function F1(c){c.g=k1(()=>{c.g=null,c.i&&(c.i=!1,F1(c))},c.l);let h=c.h;c.h=null,c.m.apply(null,h)}class MF extends Tn{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:F1(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fc(c){Tn.call(this),this.h=c,this.g={}}T(fc,Tn);var L1=[];function V1(c){Y(c.g,function(h,p){this.g.hasOwnProperty(p)&&$r(h)},c),c.g={}}fc.prototype.N=function(){fc.aa.N.call(this),V1(this)},fc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ag=a.JSON.stringify,NF=a.JSON.parse,xF=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Mg(){}Mg.prototype.h=null;function B1(c){return c.h||(c.h=c.i())}function U1(){}var pc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ng(){yt.call(this,"d")}T(Ng,yt);function xg(){yt.call(this,"c")}T(xg,yt);var Fo={},j1=null;function Xd(){return j1=j1||new At}Fo.La="serverreachability";function $1(c){yt.call(this,Fo.La,c)}T($1,yt);function mc(c){let h=Xd();Ft(h,new $1(h))}Fo.STAT_EVENT="statevent";function H1(c,h){yt.call(this,Fo.STAT_EVENT,c),this.stat=h}T(H1,yt);function mn(c){let h=Xd();Ft(h,new H1(h,c))}Fo.Ma="timingevent";function G1(c,h){yt.call(this,Fo.Ma,c),this.size=h}T(G1,yt);function gc(c,h){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},h)}function _c(){this.g=!0}_c.prototype.xa=function(){this.g=!1};function RF(c,h,p,v,O,L){c.info(function(){if(c.g)if(L)for(var q="",Ke=L.split("&"),Qt=0;Qt<Ke.length;Qt++){var Fe=Ke[Qt].split("=");if(1<Fe.length){var on=Fe[0];Fe=Fe[1];var sn=on.split("_");q=2<=sn.length&&sn[1]=="type"?q+(on+"="+Fe+"&"):q+(on+"=redacted&")}}else q=null;else q=L;return"XMLHTTP REQ ("+v+") [attempt "+O+"]: "+h+`
`+p+`
`+q})}function OF(c,h,p,v,O,L,q){c.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+O+"]: "+h+`
`+p+`
`+L+" "+q})}function sa(c,h,p,v){c.info(function(){return"XMLHTTP TEXT ("+h+"): "+kF(c,p)+(v?" "+v:"")})}function PF(c,h){c.info(function(){return"TIMEOUT: "+h})}_c.prototype.info=function(){};function kF(c,h){if(!c.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(c=0;c<p.length;c++)if(Array.isArray(p[c])){var v=p[c];if(!(2>v.length)){var O=v[1];if(Array.isArray(O)&&!(1>O.length)){var L=O[0];if(L!="noop"&&L!="stop"&&L!="close")for(var q=1;q<O.length;q++)O[q]=""}}}}return Ag(p)}catch{return h}}var Zd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},z1={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rg;function eh(){}T(eh,Mg),eh.prototype.g=function(){return new XMLHttpRequest},eh.prototype.i=function(){return{}},Rg=new eh;function Hr(c,h,p,v){this.j=c,this.i=h,this.l=p,this.R=v||1,this.U=new fc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new q1}function q1(){this.i=null,this.g="",this.h=!1}var W1={},Og={};function Pg(c,h,p){c.L=1,c.v=rh(sr(h)),c.m=p,c.P=!0,K1(c,null)}function K1(c,h){c.F=Date.now(),th(c),c.A=sr(c.v);var p=c.A,v=c.R;Array.isArray(v)||(v=[String(v)]),lC(p.i,"t",v),c.C=0,p=c.j.J,c.h=new q1,c.g=DC(c.j,p?h:null,!c.m),0<c.O&&(c.M=new MF(m(c.Y,c,c.g),c.O)),h=c.U,p=c.g,v=c.ca;var O="readystatechange";Array.isArray(O)||(O&&(L1[0]=O.toString()),O=L1);for(var L=0;L<O.length;L++){var q=uc(p,O[L],v||h.handleEvent,!1,h.h||h);if(!q)break;h.g[q.key]=q}h=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,h)):(c.u="GET",c.g.ea(c.A,c.u,null,h)),mc(),RF(c.i,c.u,c.A,c.l,c.R,c.m)}Hr.prototype.ca=function(c){c=c.target;let h=this.M;h&&ar(c)==3?h.j():this.Y(c)},Hr.prototype.Y=function(c){try{if(c==this.g)e:{let sn=ar(this.g);var h=this.g.Ba();let ca=this.g.Z();if(!(3>sn)&&(sn!=3||this.g&&(this.h.h||this.g.oa()||mC(this.g)))){this.J||sn!=4||h==7||(h==8||0>=ca?mc(3):mc(2)),kg(this);var p=this.g.Z();this.X=p;t:if(Q1(this)){var v=mC(this.g);c="";var O=v.length,L=ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lo(this),vc(this);var q="";break t}this.h.i=new a.TextDecoder}for(h=0;h<O;h++)this.h.h=!0,c+=this.h.i.decode(v[h],{stream:!(L&&h==O-1)});v.length=0,this.h.g+=c,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=p==200,OF(this.i,this.u,this.A,this.l,this.R,sn,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,Qt=this.g;if((Ke=Qt.g?Qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Ke)){var Fe=Ke;break t}}Fe=null}if(p=Fe)sa(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fg(this,p);else{this.o=!1,this.s=3,mn(12),Lo(this),vc(this);break e}}if(this.P){p=!0;let ui;for(;!this.J&&this.C<q.length;)if(ui=FF(this,q),ui==Og){sn==4&&(this.s=4,mn(14),p=!1),sa(this.i,this.l,null,"[Incomplete Response]");break}else if(ui==W1){this.s=4,mn(15),sa(this.i,this.l,q,"[Invalid Chunk]"),p=!1;break}else sa(this.i,this.l,ui,null),Fg(this,ui);if(Q1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),sn!=4||q.length!=0||this.h.h||(this.s=1,mn(16),p=!1),this.o=this.o&&p,!p)sa(this.i,this.l,q,"[Invalid Chunked Response]"),Lo(this),vc(this);else if(0<q.length&&!this.W){this.W=!0;var on=this.j;on.g==this&&on.ba&&!on.M&&(on.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),$g(on),on.M=!0,mn(11))}}else sa(this.i,this.l,q,null),Fg(this,q);sn==4&&Lo(this),this.o&&!this.J&&(sn==4?bC(this.j,this):(this.o=!1,th(this)))}else ZF(this.g),p==400&&0<q.indexOf("Unknown SID")?(this.s=3,mn(12)):(this.s=0,mn(13)),Lo(this),vc(this)}}}catch{}finally{}};function Q1(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function FF(c,h){var p=c.C,v=h.indexOf(`
`,p);return v==-1?Og:(p=Number(h.substring(p,v)),isNaN(p)?W1:(v+=1,v+p>h.length?Og:(h=h.slice(v,v+p),c.C=v+p,h)))}Hr.prototype.cancel=function(){this.J=!0,Lo(this)};function th(c){c.S=Date.now()+c.I,Y1(c,c.I)}function Y1(c,h){if(c.B!=null)throw Error("WatchDog timer not null");c.B=gc(m(c.ba,c),h)}function kg(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Hr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(PF(this.i,this.A),this.L!=2&&(mc(),mn(17)),Lo(this),this.s=2,vc(this)):Y1(this,this.S-c)};function vc(c){c.j.G==0||c.J||bC(c.j,c)}function Lo(c){kg(c);var h=c.M;h&&typeof h.ma=="function"&&h.ma(),c.M=null,V1(c.U),c.g&&(h=c.g,c.g=null,h.abort(),h.ma())}function Fg(c,h){try{var p=c.j;if(p.G!=0&&(p.g==c||Lg(p.h,c))){if(!c.K&&Lg(p.h,c)&&p.G==3){try{var v=p.Da.g.parse(h)}catch{v=null}if(Array.isArray(v)&&v.length==3){var O=v;if(O[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<c.F)ch(p),ah(p);else break e;jg(p),mn(18)}}else p.za=O[1],0<p.za-p.T&&37500>O[2]&&p.F&&p.v==0&&!p.C&&(p.C=gc(m(p.Za,p),6e3));if(1>=Z1(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Bo(p,11)}else if((c.K||p.g==c)&&ch(p),!z(h))for(O=p.Da.g.parse(h),h=0;h<O.length;h++){let Fe=O[h];if(p.T=Fe[0],Fe=Fe[1],p.G==2)if(Fe[0]=="c"){p.K=Fe[1],p.ia=Fe[2];let on=Fe[3];on!=null&&(p.la=on,p.j.info("VER="+p.la));let sn=Fe[4];sn!=null&&(p.Aa=sn,p.j.info("SVER="+p.Aa));let ca=Fe[5];ca!=null&&typeof ca=="number"&&0<ca&&(v=1.5*ca,p.L=v,p.j.info("backChannelRequestTimeoutMs_="+v)),v=p;let ui=c.g;if(ui){let dh=ui.g?ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dh){var L=v.h;L.g||dh.indexOf("spdy")==-1&&dh.indexOf("quic")==-1&&dh.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Vg(L,L.h),L.h=null))}if(v.D){let Hg=ui.g?ui.g.getResponseHeader("X-HTTP-Session-Id"):null;Hg&&(v.ya=Hg,Ze(v.I,v.D,Hg))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-c.F,p.j.info("Handshake RTT: "+p.R+"ms")),v=p;var q=c;if(v.qa=TC(v,v.J?v.ia:null,v.W),q.K){eC(v.h,q);var Ke=q,Qt=v.L;Qt&&(Ke.I=Qt),Ke.B&&(kg(Ke),th(Ke)),v.g=q}else wC(v);0<p.i.length&&lh(p)}else Fe[0]!="stop"&&Fe[0]!="close"||Bo(p,7);else p.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Bo(p,7):Ug(p):Fe[0]!="noop"&&p.l&&p.l.ta(Fe),p.v=0)}}mc(4)}catch{}}var LF=class{constructor(c,h){this.g=c,this.map=h}};function J1(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function X1(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Z1(c){return c.h?1:c.g?c.g.size:0}function Lg(c,h){return c.h?c.h==h:c.g?c.g.has(h):!1}function Vg(c,h){c.g?c.g.add(h):c.h=h}function eC(c,h){c.h&&c.h==h?c.h=null:c.g&&c.g.has(h)&&c.g.delete(h)}J1.prototype.cancel=function(){if(this.i=tC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function tC(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let h=c.i;for(let p of c.g.values())h=h.concat(p.D);return h}return M(c.i)}function VF(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var h=[],p=c.length,v=0;v<p;v++)h.push(c[v]);return h}h=[],p=0;for(v in c)h[p++]=c[v];return h}function BF(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var h=[];c=c.length;for(var p=0;p<c;p++)h.push(p);return h}h=[],p=0;for(let v in c)h[p++]=v;return h}}}function nC(c,h){if(c.forEach&&typeof c.forEach=="function")c.forEach(h,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,h,void 0);else for(var p=BF(c),v=VF(c),O=v.length,L=0;L<O;L++)h.call(void 0,v[L],p&&p[L],c)}var iC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function UF(c,h){if(c){c=c.split("&");for(var p=0;p<c.length;p++){var v=c[p].indexOf("="),O=null;if(0<=v){var L=c[p].substring(0,v);O=c[p].substring(v+1)}else L=c[p];h(L,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Vo(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Vo){this.h=c.h,nh(this,c.j),this.o=c.o,this.g=c.g,ih(this,c.s),this.l=c.l;var h=c.i,p=new Ec;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),rC(this,p),this.m=c.m}else c&&(h=String(c).match(iC))?(this.h=!1,nh(this,h[1]||"",!0),this.o=yc(h[2]||""),this.g=yc(h[3]||"",!0),ih(this,h[4]),this.l=yc(h[5]||"",!0),rC(this,h[6]||"",!0),this.m=yc(h[7]||"")):(this.h=!1,this.i=new Ec(null,this.h))}Vo.prototype.toString=function(){var c=[],h=this.j;h&&c.push(wc(h,oC,!0),":");var p=this.g;return(p||h=="file")&&(c.push("//"),(h=this.o)&&c.push(wc(h,oC,!0),"@"),c.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&c.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&c.push("/"),c.push(wc(p,p.charAt(0)=="/"?HF:$F,!0))),(p=this.i.toString())&&c.push("?",p),(p=this.m)&&c.push("#",wc(p,zF)),c.join("")};function sr(c){return new Vo(c)}function nh(c,h,p){c.j=p?yc(h,!0):h,c.j&&(c.j=c.j.replace(/:$/,""))}function ih(c,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);c.s=h}else c.s=null}function rC(c,h,p){h instanceof Ec?(c.i=h,qF(c.i,c.h)):(p||(h=wc(h,GF)),c.i=new Ec(h,c.h))}function Ze(c,h,p){c.i.set(h,p)}function rh(c){return Ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function yc(c,h){return c?h?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function wc(c,h,p){return typeof c=="string"?(c=encodeURI(c).replace(h,jF),p&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function jF(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var oC=/[#\/\?@]/g,$F=/[#\?:]/g,HF=/[#\?]/g,GF=/[#\?@]/g,zF=/#/g;function Ec(c,h){this.h=this.g=null,this.i=c||null,this.j=!!h}function Gr(c){c.g||(c.g=new Map,c.h=0,c.i&&UF(c.i,function(h,p){c.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}n=Ec.prototype,n.add=function(c,h){Gr(this),this.i=null,c=aa(this,c);var p=this.g.get(c);return p||this.g.set(c,p=[]),p.push(h),this.h+=1,this};function sC(c,h){Gr(c),h=aa(c,h),c.g.has(h)&&(c.i=null,c.h-=c.g.get(h).length,c.g.delete(h))}function aC(c,h){return Gr(c),h=aa(c,h),c.g.has(h)}n.forEach=function(c,h){Gr(this),this.g.forEach(function(p,v){p.forEach(function(O){c.call(h,O,v,this)},this)},this)},n.na=function(){Gr(this);let c=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let v=0;v<h.length;v++){let O=c[v];for(let L=0;L<O.length;L++)p.push(h[v])}return p},n.V=function(c){Gr(this);let h=[];if(typeof c=="string")aC(this,c)&&(h=h.concat(this.g.get(aa(this,c))));else{c=Array.from(this.g.values());for(let p=0;p<c.length;p++)h=h.concat(c[p])}return h},n.set=function(c,h){return Gr(this),this.i=null,c=aa(this,c),aC(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[h]),this.h+=1,this},n.get=function(c,h){return c?(c=this.V(c),0<c.length?String(c[0]):h):h};function lC(c,h,p){sC(c,h),0<p.length&&(c.i=null,c.g.set(aa(c,h),M(p)),c.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var v=h[p];let L=encodeURIComponent(String(v)),q=this.V(v);for(v=0;v<q.length;v++){var O=L;q[v]!==""&&(O+="="+encodeURIComponent(String(q[v]))),c.push(O)}}return this.i=c.join("&")};function aa(c,h){return h=String(h),c.j&&(h=h.toLowerCase()),h}function qF(c,h){h&&!c.j&&(Gr(c),c.i=null,c.g.forEach(function(p,v){var O=v.toLowerCase();v!=O&&(sC(this,v),lC(this,O,p))},c)),c.j=h}function WF(c,h){let p=new _c;if(a.Image){let v=new Image;v.onload=_(zr,p,"TestLoadImage: loaded",!0,h,v),v.onerror=_(zr,p,"TestLoadImage: error",!1,h,v),v.onabort=_(zr,p,"TestLoadImage: abort",!1,h,v),v.ontimeout=_(zr,p,"TestLoadImage: timeout",!1,h,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=c}else h(!1)}function KF(c,h){let p=new _c,v=new AbortController,O=setTimeout(()=>{v.abort(),zr(p,"TestPingServer: timeout",!1,h)},1e4);fetch(c,{signal:v.signal}).then(L=>{clearTimeout(O),L.ok?zr(p,"TestPingServer: ok",!0,h):zr(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(O),zr(p,"TestPingServer: error",!1,h)})}function zr(c,h,p,v,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),v(p)}catch{}}function QF(){this.g=new xF}function YF(c,h,p){let v=p||"";try{nC(c,function(O,L){let q=O;u(O)&&(q=Ag(O)),h.push(v+L+"="+encodeURIComponent(q))})}catch(O){throw h.push(v+"type="+encodeURIComponent("_badmap")),O}}function bc(c){this.l=c.Ub||null,this.j=c.eb||!1}T(bc,Mg),bc.prototype.g=function(){return new oh(this.l,this.j)},bc.prototype.i=function(c){return function(){return c}}({});function oh(c,h){At.call(this),this.D=c,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(oh,At),n=oh.prototype,n.open=function(c,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=h,this.readyState=1,Cc(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(h.body=c),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ic(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Cc(this)),this.g&&(this.readyState=3,Cc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cC(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function cC(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var h=c.value?c.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!c.done}))&&(this.response=this.responseText+=h)}c.done?Ic(this):Cc(this),this.readyState==3&&cC(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Ic(this))},n.Qa=function(c){this.g&&(this.response=c,Ic(this))},n.ga=function(){this.g&&Ic(this)};function Ic(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Cc(c)}n.setRequestHeader=function(c,h){this.u.append(c,h)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,c.push(p[0]+": "+p[1]),p=h.next();return c.join(`\r
`)};function Cc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(oh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function uC(c){let h="";return Y(c,function(p,v){h+=v,h+=":",h+=p,h+=`\r
`}),h}function Bg(c,h,p){e:{for(v in p){var v=!1;break e}v=!0}v||(p=uC(p),typeof c=="string"?p!=null&&encodeURIComponent(String(p)):Ze(c,h,p))}function mt(c){At.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(mt,At);var JF=/^https?$/i,XF=["POST","PUT"];n=mt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,h,p,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);h=h?h.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rg.g(),this.v=this.o?B1(this.o):B1(Rg),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(c),!0),this.B=!1}catch(L){dC(this,L);return}if(c=p||"",p=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var O in v)p.set(O,v[O]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let L of v.keys())p.set(L,v.get(L));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(p.keys()).find(L=>L.toLowerCase()=="content-type"),O=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(XF,h,void 0))||v||O||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[L,q]of p)this.g.setRequestHeader(L,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pC(this),this.u=!0,this.g.send(c),this.u=!1}catch(L){dC(this,L)}};function dC(c,h){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=h,c.m=5,hC(c),sh(c)}function hC(c){c.A||(c.A=!0,Ft(c,"complete"),Ft(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ft(this,"complete"),Ft(this,"abort"),sh(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sh(this,!0)),mt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?fC(this):this.bb())},n.bb=function(){fC(this)};function fC(c){if(c.h&&typeof s<"u"&&(!c.v[1]||ar(c)!=4||c.Z()!=2)){if(c.u&&ar(c)==4)k1(c.Ea,0,c);else if(Ft(c,"readystatechange"),ar(c)==4){c.h=!1;try{let q=c.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var v;if(v=q===0){var O=String(c.D).match(iC)[1]||null;!O&&a.self&&a.self.location&&(O=a.self.location.protocol.slice(0,-1)),v=!JF.test(O?O.toLowerCase():"")}p=v}if(p)Ft(c,"complete"),Ft(c,"success");else{c.m=6;try{var L=2<ar(c)?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.Z()+"]",hC(c)}}finally{sh(c)}}}}function sh(c,h){if(c.g){pC(c);let p=c.g,v=c.v[0]?()=>{}:null;c.g=null,c.v=null,h||Ft(c,"ready");try{p.onreadystatechange=v}catch{}}}function pC(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function ar(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<ar(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var h=this.g.responseText;return c&&h.indexOf(c)==0&&(h=h.substring(c.length)),NF(h)}};function mC(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ZF(c){let h={};c=(c.g&&2<=ar(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<c.length;v++){if(z(c[v]))continue;var p=A(c[v]);let O=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let L=h[O]||[];h[O]=L,L.push(p)}S(h,function(v){return v.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Tc(c,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[c]||h}function gC(c){this.Aa=0,this.i=[],this.j=new _c,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Tc("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Tc("baseRetryDelayMs",5e3,c),this.cb=Tc("retryDelaySeedMs",1e4,c),this.Wa=Tc("forwardChannelMaxRetries",2,c),this.wa=Tc("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new J1(c&&c.concurrentRequestLimit),this.Da=new QF,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=gC.prototype,n.la=8,n.G=1,n.connect=function(c,h,p,v){mn(0),this.W=c,this.H=h||{},p&&v!==void 0&&(this.H.OSID=p,this.H.OAID=v),this.F=this.X,this.I=TC(this,null,this.W),lh(this)};function Ug(c){if(_C(c),c.G==3){var h=c.U++,p=sr(c.I);if(Ze(p,"SID",c.K),Ze(p,"RID",h),Ze(p,"TYPE","terminate"),Dc(c,p),h=new Hr(c,c.j,h),h.L=2,h.v=rh(sr(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=DC(h.j,null),h.g.ea(h.v)),h.F=Date.now(),th(h)}CC(c)}function ah(c){c.g&&($g(c),c.g.cancel(),c.g=null)}function _C(c){ah(c),c.u&&(a.clearTimeout(c.u),c.u=null),ch(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function lh(c){if(!X1(c.h)&&!c.s){c.s=!0;var h=c.Ga;Kt||Oo(),Ni||(Kt(),Ni=!0),ci.add(h,c),c.B=0}}function eL(c,h){return Z1(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=h.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=gc(m(c.Ga,c,h),IC(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let O=new Hr(this,this.j,c),L=this.o;if(this.S&&(L?(L=w(L),D(L,this.S)):L=this.S),this.m!==null||this.O||(O.H=L,L=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var v=this.i[p];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(h+=v,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=yC(this,O,h),p=sr(this.I),Ze(p,"RID",c),Ze(p,"CVER",22),this.D&&Ze(p,"X-HTTP-Session-Id",this.D),Dc(this,p),L&&(this.O?h="headers="+encodeURIComponent(String(uC(L)))+"&"+h:this.m&&Bg(p,this.m,L)),Vg(this.h,O),this.Ua&&Ze(p,"TYPE","init"),this.P?(Ze(p,"$req",h),Ze(p,"SID","null"),O.T=!0,Pg(O,p,null)):Pg(O,p,h),this.G=2}}else this.G==3&&(c?vC(this,c):this.i.length==0||X1(this.h)||vC(this))};function vC(c,h){var p;h?p=h.l:p=c.U++;let v=sr(c.I);Ze(v,"SID",c.K),Ze(v,"RID",p),Ze(v,"AID",c.T),Dc(c,v),c.m&&c.o&&Bg(v,c.m,c.o),p=new Hr(c,c.j,p,c.B+1),c.m===null&&(p.H=c.o),h&&(c.i=h.D.concat(c.i)),h=yC(c,p,1e3),p.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Vg(c.h,p),Pg(p,v,h)}function Dc(c,h){c.H&&Y(c.H,function(p,v){Ze(h,v,p)}),c.l&&nC({},function(p,v){Ze(h,v,p)})}function yC(c,h,p){p=Math.min(c.i.length,p);var v=c.l?m(c.l.Na,c.l,c):null;e:{var O=c.i;let L=-1;for(;;){let q=["count="+p];L==-1?0<p?(L=O[0].g,q.push("ofs="+L)):L=0:q.push("ofs="+L);let Ke=!0;for(let Qt=0;Qt<p;Qt++){let Fe=O[Qt].g,on=O[Qt].map;if(Fe-=L,0>Fe)L=Math.max(0,O[Qt].g-100),Ke=!1;else try{YF(on,q,"req"+Fe+"_")}catch{v&&v(on)}}if(Ke){v=q.join("&");break e}}}return c=c.i.splice(0,p),h.D=c,v}function wC(c){if(!c.g&&!c.u){c.Y=1;var h=c.Fa;Kt||Oo(),Ni||(Kt(),Ni=!0),ci.add(h,c),c.v=0}}function jg(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=gc(m(c.Fa,c),IC(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,EC(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=gc(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mn(10),ah(this),EC(this))};function $g(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function EC(c){c.g=new Hr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var h=sr(c.qa);Ze(h,"RID","rpc"),Ze(h,"SID",c.K),Ze(h,"AID",c.T),Ze(h,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ze(h,"TO",c.ja),Ze(h,"TYPE","xmlhttp"),Dc(c,h),c.m&&c.o&&Bg(h,c.m,c.o),c.L&&(c.g.I=c.L);var p=c.g;c=c.ia,p.L=1,p.v=rh(sr(h)),p.m=null,p.P=!0,K1(p,c)}n.Za=function(){this.C!=null&&(this.C=null,ah(this),jg(this),mn(19))};function ch(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function bC(c,h){var p=null;if(c.g==h){ch(c),$g(c),c.g=null;var v=2}else if(Lg(c.h,h))p=h.D,eC(c.h,h),v=1;else return;if(c.G!=0){if(h.o)if(v==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var O=c.B;v=Xd(),Ft(v,new G1(v,p)),lh(c)}else wC(c);else if(O=h.s,O==3||O==0&&0<h.X||!(v==1&&eL(c,h)||v==2&&jg(c)))switch(p&&0<p.length&&(h=c.h,h.i=h.i.concat(p)),O){case 1:Bo(c,5);break;case 4:Bo(c,10);break;case 3:Bo(c,6);break;default:Bo(c,2)}}}function IC(c,h){let p=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(p*=2),p*h}function Bo(c,h){if(c.j.info("Error code "+h),h==2){var p=m(c.fb,c),v=c.Xa;let O=!v;v=new Vo(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||nh(v,"https"),rh(v),O?WF(v.toString(),p):KF(v.toString(),p)}else mn(2);c.G=0,c.l&&c.l.sa(h),CC(c),_C(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),mn(2)):(this.j.info("Failed to ping google.com"),mn(1))};function CC(c){if(c.G=0,c.ka=[],c.l){let h=tC(c.h);(h.length!=0||c.i.length!=0)&&(N(c.ka,h),N(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function TC(c,h,p){var v=p instanceof Vo?sr(p):new Vo(p);if(v.g!="")h&&(v.g=h+"."+v.g),ih(v,v.s);else{var O=a.location;v=O.protocol,h=h?h+"."+O.hostname:O.hostname,O=+O.port;var L=new Vo(null);v&&nh(L,v),h&&(L.g=h),O&&ih(L,O),p&&(L.l=p),v=L}return p=c.D,h=c.ya,p&&h&&Ze(v,p,h),Ze(v,"VER",c.la),Dc(c,v),v}function DC(c,h,p){if(h&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=c.Ca&&!c.pa?new mt(new bc({eb:p})):new mt(c.pa),h.Ha(c.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function SC(){}n=SC.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function uh(){}uh.prototype.g=function(c,h){return new Rn(c,h)};function Rn(c,h){At.call(this),this.g=new gC(h),this.l=c,this.h=h&&h.messageUrlParams||null,c=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(c?c["X-WebChannel-Content-Type"]=h.messageContentType:c={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(c?c["X-WebChannel-Client-Profile"]=h.va:c={"X-WebChannel-Client-Profile":h.va}),this.g.S=c,(c=h&&h.Sb)&&!z(c)&&(this.g.m=c),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!z(h)&&(this.g.D=h,c=this.h,c!==null&&h in c&&(c=this.h,h in c&&delete c[h])),this.j=new la(this)}T(Rn,At),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){Ug(this.g)},Rn.prototype.o=function(c){var h=this.g;if(typeof c=="string"){var p={};p.__data__=c,c=p}else this.u&&(p={},p.__data__=Ag(c),c=p);h.i.push(new LF(h.Ya++,c)),h.G==3&&lh(h)},Rn.prototype.N=function(){this.g.l=null,delete this.j,Ug(this.g),delete this.g,Rn.aa.N.call(this)};function AC(c){Ng.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var h=c.__sm__;if(h){e:{for(let p in h){c=p;break e}c=void 0}(this.i=c)&&(c=this.i,h=h!==null&&c in h?h[c]:void 0),this.data=h}else this.data=c}T(AC,Ng);function MC(){xg.call(this),this.status=1}T(MC,xg);function la(c){this.g=c}T(la,SC),la.prototype.ua=function(){Ft(this.g,"a")},la.prototype.ta=function(c){Ft(this.g,new AC(c))},la.prototype.sa=function(c){Ft(this.g,new MC)},la.prototype.ra=function(){Ft(this.g,"b")},uh.prototype.createWebChannel=uh.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,dE=Or.createWebChannelTransport=function(){return new uh},uE=Or.getStatEventTarget=function(){return Xd()},cE=Or.Event=Fo,wm=Or.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zd.NO_ERROR=0,Zd.TIMEOUT=8,Zd.HTTP_ERROR=6,sd=Or.ErrorCode=Zd,z1.COMPLETE="complete",lE=Or.EventType=z1,U1.EventType=pc,pc.OPEN="a",pc.CLOSE="b",pc.ERROR="c",pc.MESSAGE="d",At.prototype.listen=At.prototype.K,Il=Or.WebChannel=U1,Aq=Or.FetchXmlHttpFactory=bc,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,aE=Or.XhrIo=mt}).apply(typeof ym<"u"?ym:typeof self<"u"?self:typeof window<"u"?window:{});var AR="@firebase/firestore";var zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");var Hl="10.14.0";var Fs=new Qi("@firebase/firestore");function ad(){return Fs.logLevel}function ee(n,...e){if(Fs.logLevel<=be.DEBUG){let t=e.map(Zb);Fs.debug(`Firestore (${Hl}): ${n}`,...t)}}function kr(n,...e){if(Fs.logLevel<=be.ERROR){let t=e.map(Zb);Fs.error(`Firestore (${Hl}): ${n}`,...t)}}function xl(n,...e){if(Fs.logLevel<=be.WARN){let t=e.map(Zb);Fs.warn(`Firestore (${Hl}): ${n}`,...t)}}function Zb(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function de(n="Unexpected state"){let e=`FIRESTORE (${Hl}) INTERNAL ASSERTION FAILED: `+n;throw kr(e),new Error(e)}function ze(n,e){n||de()}function ge(n,e){return n}var j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},X=class extends ri{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Zi=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Tm=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},gE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zt.UNAUTHENTICATED))}shutdown(){}},_E=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},vE=class{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ze(this.o===void 0);let i=this.i,r=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve(),o=new Zi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Zi,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>k(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},a=l=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Zi)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ze(typeof i.accessToken=="string"),new Tm(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new zt(e)}},yE=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},wE=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new yE(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},EE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},bE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ze(this.o===void 0);let i=o=>{o.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,ee("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ze(typeof t.token=="string"),this.R=t.token,new EE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Mq(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}var Dm=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=Mq(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%e.length))}return i}};function Ue(n,e){return n<e?-1:n>e?1:0}function Rl(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}var rn=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new X(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new X(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new X(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var _e=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new rn(0,0))}static max(){return new n(new rn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Sm=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&de(),i===void 0?i=e.length-t:i>e.length-t&&de(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},ft=class n extends Sm{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new X(j.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},Nq=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zn=class n extends Sm{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return Nq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],i="",r=0,o=()=>{if(i.length===0)throw new X(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},s=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new X(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new X(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ae=class n{constructor(e){this.path=e}static fromPath(e){return new n(ft.fromString(e))}static fromName(e){return new n(ft.fromString(e).popFirst(5))}static empty(){return new n(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ft(e.slice()))}};var IE=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};IE.UNKNOWN_ID=-1;function xq(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=_e.fromTimestamp(i===1e9?new rn(t+1,0):new rn(t,i));return new Ls(r,ae.empty(),e)}function Rq(n){return new Ls(n.readTime,n.key,-1)}var Ls=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(_e.min(),ae.empty(),-1)}static max(){return new n(_e.max(),ae.empty(),-1)}};function Oq(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ae.comparator(n.documentKey,e.documentKey),t!==0?t:Ue(n.largestBatchId,e.largestBatchId))}var Pq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",CE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Dd(n){return k(this,null,function*(){if(n.code!==j.FAILED_PRECONDITION||n.message!==Pq)throw n;ee("LocalStore","Unexpectedly lost primary lease")})}var G=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},l=>i(l))}),s=!0,o===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let o=e.length,s=new Array(o),a=0;for(let l=0;l<o;l++){let u=l;t(e[u]).next(d=>{s[u]=d,++a,a===o&&i(s)},d=>r(d))}})}static doWhile(e,t){return new n((i,r)=>{let o=()=>{e()===!0?t().next(()=>{o()},r):i()};o()})}};function kq(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Sd(n){return n.name==="IndexedDbTransactionError"}var lO=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function eg(n){return n==null}function fd(n){return n===0&&1/n==-1/0}function Fq(n){return typeof n=="number"&&Number.isInteger(n)&&!fd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var Lq=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Bde=[...Lq,"documentOverlays"],Vq=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Bq=Vq,Uq=[...Bq,"indexConfiguration","indexState","indexEntries"];var Ude=[...Uq,"globals"];function MR(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function qs(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function cO(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var vt=class n{constructor(e,t){this.comparator=e,this.root=t||er.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,er.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,er.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sl(this.root,e,this.comparator,!0)}},Sl=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},er=class n{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new n(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):o===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();let e=this.left.check();if(e!==this.right.check())throw de();return e+(this.isRed()?0:1)}};er.EMPTY=null,er.RED=!0,er.BLACK=!1;er.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(e,t,i,r,o){return this}insert(e,t,i){return new er(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var cn=class n{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Am(this.data.getIterator())}getIteratorFrom(e){return new Am(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Am=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var oi=class n{constructor(e){this.fields=e,e.sort(zn.comparator)}static empty(){return new n([])}unionWith(e){let t=new cn(zn.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Rl(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var Mm=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var un=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Mm("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};un.EMPTY_BYTE_STRING=new un("");var jq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fr(n){if(ze(!!n),typeof n=="string"){let e=0,t=jq.exec(n);if(ze(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ct(n.seconds),nanos:ct(n.nanos)}}function ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function So(n){return typeof n=="string"?un.fromBase64String(n):un.fromUint8Array(n)}function eI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function tI(n){let e=n.mapValue.fields.__previous_value__;return eI(e)?tI(e):e}function pd(n){let e=Fr(n.mapValue.fields.__local_write_time__.timestampValue);return new rn(e.seconds,e.nanos)}var TE=class{constructor(e,t,i,r,o,s,a,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}},Nm=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Em={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Vs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?eI(n)?4:dO(n)?9007199254740991:uO(n)?10:11:de()}function ir(n,e){if(n===e)return!0;let t=Vs(n);if(t!==Vs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pd(n).isEqual(pd(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=Fr(r.timestampValue),a=Fr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,o){return So(r.bytesValue).isEqual(So(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return ct(r.geoPointValue.latitude)===ct(o.geoPointValue.latitude)&&ct(r.geoPointValue.longitude)===ct(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return ct(r.integerValue)===ct(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=ct(r.doubleValue),a=ct(o.doubleValue);return s===a?fd(s)===fd(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Rl(n.arrayValue.values||[],e.arrayValue.values||[],ir);case 10:case 11:return function(r,o){let s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(MR(s)!==MR(a))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ir(s[l],a[l])))return!1;return!0}(n,e);default:return de()}}function md(n,e){return(n.values||[]).find(t=>ir(t,e))!==void 0}function Ol(n,e){if(n===e)return 0;let t=Vs(n),i=Vs(e);if(t!==i)return Ue(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=ct(o.integerValue||o.doubleValue),l=ct(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return NR(n.timestampValue,e.timestampValue);case 4:return NR(pd(n),pd(e));case 5:return Ue(n.stringValue,e.stringValue);case 6:return function(o,s){let a=So(o),l=So(s);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){let d=Ue(a[u],l[u]);if(d!==0)return d}return Ue(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Ue(ct(o.latitude),ct(s.latitude));return a!==0?a:Ue(ct(o.longitude),ct(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return xR(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,d;let f=o.fields||{},m=s.fields||{},_=(a=f.value)===null||a===void 0?void 0:a.arrayValue,T=(l=m.value)===null||l===void 0?void 0:l.arrayValue,M=Ue(((u=_?.values)===null||u===void 0?void 0:u.length)||0,((d=T?.values)===null||d===void 0?void 0:d.length)||0);return M!==0?M:xR(_,T)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Em.mapValue&&s===Em.mapValue)return 0;if(o===Em.mapValue)return 1;if(s===Em.mapValue)return-1;let a=o.fields||{},l=Object.keys(a),u=s.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){let m=Ue(l[f],d[f]);if(m!==0)return m;let _=Ol(a[l[f]],u[d[f]]);if(_!==0)return _}return Ue(l.length,d.length)}(n.mapValue,e.mapValue);default:throw de()}}function NR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ue(n,e);let t=Fr(n),i=Fr(e),r=Ue(t.seconds,i.seconds);return r!==0?r:Ue(t.nanos,i.nanos)}function xR(n,e){let t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){let o=Ol(t[r],i[r]);if(o)return o}return Ue(t.length,i.length)}function Pl(n){return DE(n)}function DE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=Fr(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return So(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ae.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(let o of t.values||[])r?r=!1:i+=",",i+=DE(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),r="{",o=!0;for(let s of i)o?o=!1:r+=",",r+=`${s}:${DE(t.fields[s])}`;return r+"}"}(n.mapValue):de()}function RR(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function SE(n){return!!n&&"integerValue"in n}function nI(n){return!!n&&"arrayValue"in n}function OR(n){return!!n&&"nullValue"in n}function PR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Im(n){return!!n&&"mapValue"in n}function uO(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function cd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return qs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=cd(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=cd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function dO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Gn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Im(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cd(t)}setAll(e){let t=zn.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=cd(s):r.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){let t=this.field(e.popLast());Im(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ir(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Im(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){qs(t,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new n(cd(this.value))}};function hO(n){let e=[];return qs(n.fields,(t,i)=>{let r=new zn([t]);if(Im(i)){let o=hO(i.mapValue).fields;if(o.length===0)e.push(r);else for(let s of o)e.push(r.child(s))}else e.push(r)}),new oi(e)}var Ti=class n{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,_e.min(),_e.min(),_e.min(),Gn.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,_e.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,_e.min(),_e.min(),Gn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,_e.min(),_e.min(),Gn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var kl=class{constructor(e,t){this.position=e,this.inclusive=t}};function kR(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let o=e[r],s=n.position[r];if(o.field.isKeyField()?i=ae.comparator(ae.fromName(s.referenceValue),t.key):i=Ol(s,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function FR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ir(n.position[t],e.position[t]))return!1;return!0}var Bs=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function $q(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var xm=class{},St=class n extends xm{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new ME(e,t,i):t==="array-contains"?new RE(e,i):t==="in"?new OE(e,i):t==="not-in"?new PE(e,i):t==="array-contains-any"?new kE(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new NE(e,i):new xE(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ol(t,this.value)):t!==null&&Vs(this.value)===Vs(t)&&this.matchesComparison(Ol(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Di=class n extends xm{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return fO(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function fO(n){return n.op==="and"}function pO(n){return Hq(n)&&fO(n)}function Hq(n){for(let e of n.filters)if(e instanceof Di)return!1;return!0}function AE(n){if(n instanceof St)return n.field.canonicalString()+n.op.toString()+Pl(n.value);if(pO(n))return n.filters.map(e=>AE(e)).join(",");{let e=n.filters.map(t=>AE(t)).join(",");return`${n.op}(${e})`}}function mO(n,e){return n instanceof St?function(i,r){return r instanceof St&&i.op===r.op&&i.field.isEqual(r.field)&&ir(i.value,r.value)}(n,e):n instanceof Di?function(i,r){return r instanceof Di&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,a)=>o&&mO(s,r.filters[a]),!0):!1}(n,e):void de()}function gO(n){return n instanceof St?function(t){return`${t.field.canonicalString()} ${t.op} ${Pl(t.value)}`}(n):n instanceof Di?function(t){return t.op.toString()+" {"+t.getFilters().map(gO).join(" ,")+"}"}(n):"Filter"}var ME=class extends St{constructor(e,t,i){super(e,t,i),this.key=ae.fromName(i.referenceValue)}matches(e){let t=ae.comparator(e.key,this.key);return this.matchesComparison(t)}},NE=class extends St{constructor(e,t){super(e,"in",t),this.keys=_O("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},xE=class extends St{constructor(e,t){super(e,"not-in",t),this.keys=_O("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function _O(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ae.fromName(i.referenceValue))}var RE=class extends St{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return nI(t)&&md(t.arrayValue,this.value)}},OE=class extends St{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&md(this.value.arrayValue,t)}},PE=class extends St{constructor(e,t){super(e,"not-in",t)}matches(e){if(md(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!md(this.value.arrayValue,t)}},kE=class extends St{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!nI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>md(this.value.arrayValue,i))}};var FE=class{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function LR(n,e=null,t=[],i=[],r=null,o=null,s=null){return new FE(n,e,t,i,r,o,s)}function iI(n){let e=ge(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>AE(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),eg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Pl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Pl(i)).join(",")),e.ue=t}return e.ue}function rI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!$q(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!mO(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!FR(n.startAt,e.startAt)&&FR(n.endAt,e.endAt)}function LE(n){return ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ao=class{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function Gq(n,e,t,i,r,o,s,a){return new Ao(n,e,t,i,r,o,s,a)}function vO(n){return new Ao(n)}function VR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function yO(n){return n.collectionGroup!==null}function ud(n){let e=ge(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new cn(zn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Bs(o,i))}),t.has(zn.keyField().canonicalString())||e.ce.push(new Bs(zn.keyField(),i))}return e.ce}function tr(n){let e=ge(n);return e.le||(e.le=zq(e,ud(n))),e.le}function zq(n,e){if(n.limitType==="F")return LR(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new Bs(r.field,o)});let t=n.endAt?new kl(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new kl(n.startAt.position,n.startAt.inclusive):null;return LR(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function VE(n,e){let t=n.filters.concat([e]);return new Ao(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function BE(n,e,t){return new Ao(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function tg(n,e){return rI(tr(n),tr(e))&&n.limitType===e.limitType}function wO(n){return`${iI(tr(n))}|lt:${n.limitType}`}function Cl(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>gO(r)).join(", ")}]`),eg(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Pl(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Pl(r)).join(",")),`Target(${i})`}(tr(n))}; limitType=${n.limitType})`}function ng(n,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):ae.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(let o of ud(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(s,a,l){let u=kR(s,a,l);return s.inclusive?u<=0:u<0}(i.startAt,ud(i),r)||i.endAt&&!function(s,a,l){let u=kR(s,a,l);return s.inclusive?u>=0:u>0}(i.endAt,ud(i),r))}(n,e)}function qq(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function EO(n){return(e,t)=>{let i=!1;for(let r of ud(n)){let o=Wq(r,e,t);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function Wq(n,e,t){let i=n.field.isKeyField()?ae.comparator(e.key,t.key):function(o,s,a){let l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Ol(l,u):de()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return de()}}var Mo=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){qs(this.inner,(t,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return cO(this.inner)}size(){return this.innerSize}};var Kq=new vt(ae.comparator);function Lr(){return Kq}var bO=new vt(ae.comparator);function ld(...n){let e=bO;for(let t of n)e=e.insert(t.key,t);return e}function IO(n){let e=bO;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ps(){return dd()}function CO(){return dd()}function dd(){return new Mo(n=>n.toString(),(n,e)=>n.isEqual(e))}var Qq=new vt(ae.comparator),Yq=new cn(ae.comparator);function De(...n){let e=Yq;for(let t of n)e=e.add(t);return e}var Jq=new cn(Ue);function Xq(){return Jq}function oI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fd(e)?"-0":e}}function TO(n){return{integerValue:""+n}}function Zq(n,e){return Fq(e)?TO(e):oI(n,e)}var Fl=class{constructor(){this._=void 0}};function eW(n,e,t){return n instanceof Ll?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&eI(o)&&(o=tI(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Us?SO(n,e):n instanceof js?AO(n,e):function(r,o){let s=DO(r,o),a=BR(s)+BR(r.Pe);return SE(s)&&SE(r.Pe)?TO(a):oI(r.serializer,a)}(n,e)}function tW(n,e,t){return n instanceof Us?SO(n,e):n instanceof js?AO(n,e):t}function DO(n,e){return n instanceof Vl?function(i){return SE(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var Ll=class extends Fl{},Us=class extends Fl{constructor(e){super(),this.elements=e}};function SO(n,e){let t=MO(e);for(let i of n.elements)t.some(r=>ir(r,i))||t.push(i);return{arrayValue:{values:t}}}var js=class extends Fl{constructor(e){super(),this.elements=e}};function AO(n,e){let t=MO(e);for(let i of n.elements)t=t.filter(r=>!ir(r,i));return{arrayValue:{values:t}}}var Vl=class extends Fl{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function BR(n){return ct(n.integerValue||n.doubleValue)}function MO(n){return nI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function nW(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof Us&&r instanceof Us||i instanceof js&&r instanceof js?Rl(i.elements,r.elements,ir):i instanceof Vl&&r instanceof Vl?ir(i.Pe,r.Pe):i instanceof Ll&&r instanceof Ll}(n.transform,e.transform)}var UE=class{constructor(e,t){this.version=e,this.transformResults=t}},Pr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Cm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Bl=class{};function NO(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new gd(n.key,Pr.none()):new $s(n.key,n.data,Pr.none());{let t=n.data,i=Gn.empty(),r=new cn(zn.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new rr(n.key,i,new oi(r.toArray()),Pr.none())}}function iW(n,e,t){n instanceof $s?function(r,o,s){let a=r.value.clone(),l=jR(r.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof rr?function(r,o,s){if(!Cm(r.precondition,o))return void o.convertToUnknownDocument(s.version);let a=jR(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(xO(r)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function hd(n,e,t,i){return n instanceof $s?function(o,s,a,l){if(!Cm(o.precondition,s))return a;let u=o.value.clone(),d=$R(o.fieldTransforms,l,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,i):n instanceof rr?function(o,s,a,l){if(!Cm(o.precondition,s))return a;let u=$R(o.fieldTransforms,l,s),d=s.data;return d.setAll(xO(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(n,e,t,i):function(o,s,a){return Cm(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function rW(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),o=DO(i.transform,r||null);o!=null&&(t===null&&(t=Gn.empty()),t.set(i.field,o))}return t||null}function UR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Rl(i,r,(o,s)=>nW(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var $s=class extends Bl{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},rr=class extends Bl{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function xO(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function jR(n,e,t){let i=new Map;ze(n.length===t.length);for(let r=0;r<t.length;r++){let o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,tW(s,a,t[r]))}return i}function $R(n,e,t){let i=new Map;for(let r of n){let o=r.transform,s=t.data.field(r.field);i.set(r.field,eW(o,s,e))}return i}var gd=class extends Bl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},jE=class extends Bl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var $E=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&iW(o,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=hd(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=hd(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=CO();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;let l=NO(s,a);l!==null&&i.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(_e.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),De())}isEqual(e){return this.batchId===e.batchId&&Rl(this.mutations,e.mutations,(t,i)=>UR(t,i))&&Rl(this.baseMutations,e.baseMutations,(t,i)=>UR(t,i))}},HE=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){ze(e.mutations.length===i.length);let r=function(){return Qq}(),o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new n(e,t,i,r)}};var GE=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var zE=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Tt,xe;function oW(n){switch(n){default:return de();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function RO(n){if(n===void 0)return kr("GRPC error has no .code"),j.UNKNOWN;switch(n){case Tt.OK:return j.OK;case Tt.CANCELLED:return j.CANCELLED;case Tt.UNKNOWN:return j.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return j.INTERNAL;case Tt.UNAVAILABLE:return j.UNAVAILABLE;case Tt.UNAUTHENTICATED:return j.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case Tt.NOT_FOUND:return j.NOT_FOUND;case Tt.ALREADY_EXISTS:return j.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return j.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case Tt.ABORTED:return j.ABORTED;case Tt.OUT_OF_RANGE:return j.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return j.UNIMPLEMENTED;case Tt.DATA_LOSS:return j.DATA_LOSS;default:return de()}}(xe=Tt||(Tt={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";var HR=null;function sW(){return new TextEncoder}var aW=new To([4294967295,4294967295],0);function GR(n){let e=sW().encode(n),t=new sE;return t.update(e),new Uint8Array(t.digest())}function zR(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new To([t,i],0),new To([r,o],0)]}var qE=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ks(`Invalid padding: ${t}`);if(i<0)throw new ks(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ks(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ks(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=To.fromNumber(this.Ie)}Ee(e,t,i){let r=e.add(t.multiply(To.fromNumber(i)));return r.compare(aW)===1&&(r=new To([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=GR(e),[i,r]=zR(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);if(!this.de(s))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=GR(e),[i,r]=zR(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},ks=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Rm=class n{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,_d.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(_e.min(),r,new vt(Ue),Lr(),De())}},_d=class n{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,De(),De(),De())}};var Ml=class{constructor(e,t,i,r){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=r}},Om=class{constructor(e,t){this.targetId=e,this.me=t}},Pm=class{constructor(e,t,i=un.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},km=class{constructor(){this.fe=0,this.ge=WR(),this.pe=un.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=De(),t=De(),i=De();return this.ge.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:de()}}),new _d(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=WR()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},WE=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Lr(),this.qe=qR(),this.Qe=new vt(Ue)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:de()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,r)=>{this.ze(r)&&t(r)})}He(e){let t=e.targetId,i=e.me.count,r=this.Je(t);if(r){let o=r.target;if(LE(o))if(i===0){let s=new ae(o.path);this.Ue(t,s,Ti.newNoDocument(s,_e.min()))}else ze(i===1);else{let s=this.Ye(t);if(s!==i){let a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(t);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}HR?.et(function(d,f,m,_,T){var M,N,B,z,$,W;let oe={localCacheCount:d,existenceFilterCount:f.count,databaseId:m.database,projectId:m.projectId},Y=f.unchangedNames;return Y&&(oe.bloomFilter={applied:T===0,hashCount:(M=Y?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(z=(B=(N=Y?.bits)===null||N===void 0?void 0:N.bitmap)===null||B===void 0?void 0:B.length)!==null&&z!==void 0?z:0,padding:(W=($=Y?.bits)===null||$===void 0?void 0:$.padding)!==null&&W!==void 0?W:0,mightContain:S=>{var w;return(w=_?.mightContain(S))!==null&&w!==void 0&&w}}),oe}(s,e.me,this.Le.tt(),a,l))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t,s,a;try{s=So(i).toUint8Array()}catch(l){if(l instanceof Mm)return xl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new qE(s,r,o)}catch(l){return xl(l instanceof ks?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){let i=this.Le.getRemoteKeysForTarget(t),r=0;return i.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),r++)}),r}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&LE(a.target)){let l=new ae(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Ti.newNoDocument(l,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let i=De();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{let u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let r=new Rm(e,t,this.Qe,this.ke,i);return this.ke=Lr(),this.qe=qR(),this.Qe=new vt(Ue),r}$e(e,t){if(!this.ze(e))return;let i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new km,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new cn(Ue),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||ee("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new km),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function qR(){return new vt(ae.comparator)}function WR(){return new vt(ae.comparator)}var lW={asc:"ASCENDING",desc:"DESCENDING"},cW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uW={and:"AND",or:"OR"},KE=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function QE(n,e){return n.useProto3Json||eg(e)?e:{value:e}}function Fm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OO(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function dW(n,e){return Fm(n,e.toTimestamp())}function nr(n){return ze(!!n),_e.fromTimestamp(function(t){let i=Fr(t);return new rn(i.seconds,i.nanos)}(n))}function sI(n,e){return YE(n,e).canonicalString()}function YE(n,e){let t=function(r){return new ft(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function PO(n){let e=ft.fromString(n);return ze(BO(e)),e}function JE(n,e){return sI(n.databaseId,e.path)}function hE(n,e){let t=PO(e);if(t.get(1)!==n.databaseId.projectId)throw new X(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new X(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ae(FO(t))}function kO(n,e){return sI(n.databaseId,e)}function hW(n){let e=PO(n);return e.length===4?ft.emptyPath():FO(e)}function XE(n){return new ft(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function FO(n){return ze(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function KR(n,e,t){return{name:JE(n,e),fields:t.value.mapValue.fields}}function fW(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:de()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(ze(d===void 0||typeof d=="string"),un.fromBase64String(d||"")):(ze(d===void 0||d instanceof Buffer||d instanceof Uint8Array),un.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let d=u.code===void 0?j.UNKNOWN:RO(u.code);return new X(d,u.message||"")}(s);t=new Pm(i,r,o,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=hE(n,i.document.name),o=nr(i.document.updateTime),s=i.document.createTime?nr(i.document.createTime):_e.min(),a=new Gn({mapValue:{fields:i.document.fields}}),l=Ti.newFoundDocument(r,o,s,a),u=i.targetIds||[],d=i.removedTargetIds||[];t=new Ml(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=hE(n,i.document),o=i.readTime?nr(i.readTime):_e.min(),s=Ti.newNoDocument(r,o),a=i.removedTargetIds||[];t=new Ml([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=hE(n,i.document),o=i.removedTargetIds||[];t=new Ml([],o,r,null)}else{if(!("filter"in e))return de();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,s=new zE(r,o),a=i.targetId;t=new Om(a,s)}}return t}function pW(n,e){let t;if(e instanceof $s)t={update:KR(n,e.key,e.value)};else if(e instanceof gd)t={delete:JE(n,e.key)};else if(e instanceof rr)t={update:KR(n,e.key,e.data),updateMask:IW(e.fieldMask)};else{if(!(e instanceof jE))return de();t={verify:JE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,s){let a=s.transform;if(a instanceof Ll)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Us)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof js)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Vl)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw de()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:dW(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:de()}(n,e.precondition)),t}function mW(n,e){return n&&n.length>0?(ze(e!==void 0),n.map(t=>function(r,o){let s=r.updateTime?nr(r.updateTime):nr(o);return s.isEqual(_e.min())&&(s=nr(o)),new UE(s,r.transformResults||[])}(t,e))):[]}function gW(n,e){return{documents:[kO(n,e.path)]}}function _W(n,e){let t={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=kO(n,r);let o=function(u){if(u.length!==0)return VO(Di.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:Tl(m.field),direction:wW(m.dir)}}(d))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=QE(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:r}}function vW(n){let e=hW(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){ze(i===1);let d=t.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=function(f){let m=LO(f);return m instanceof Di&&pO(m)?m.getFilters():[m]}(t.where));let s=[];t.orderBy&&(s=function(f){return f.map(m=>function(T){return new Bs(Dl(T.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,eg(m)?null:m}(t.limit));let l=null;t.startAt&&(l=function(f){let m=!!f.before,_=f.values||[];return new kl(_,m)}(t.startAt));let u=null;return t.endAt&&(u=function(f){let m=!f.before,_=f.values||[];return new kl(_,m)}(t.endAt)),Gq(e,r,s,o,a,"F",l,u)}function yW(n,e){let t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function LO(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=Dl(t.unaryFilter.field);return St.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Dl(t.unaryFilter.field);return St.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Dl(t.unaryFilter.field);return St.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Dl(t.unaryFilter.field);return St.create(s,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(n):n.fieldFilter!==void 0?function(t){return St.create(Dl(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Di.create(t.compositeFilter.filters.map(i=>LO(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return de()}}(t.compositeFilter.op))}(n):de()}function wW(n){return lW[n]}function EW(n){return cW[n]}function bW(n){return uW[n]}function Tl(n){return{fieldPath:n.canonicalString()}}function Dl(n){return zn.fromServerFormat(n.fieldPath)}function VO(n){return n instanceof St?function(t){if(t.op==="=="){if(PR(t.value))return{unaryFilter:{field:Tl(t.field),op:"IS_NAN"}};if(OR(t.value))return{unaryFilter:{field:Tl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(PR(t.value))return{unaryFilter:{field:Tl(t.field),op:"IS_NOT_NAN"}};if(OR(t.value))return{unaryFilter:{field:Tl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tl(t.field),op:EW(t.op),value:t.value}}}(n):n instanceof Di?function(t){let i=t.getFilters().map(r=>VO(r));return i.length===1?i[0]:{compositeFilter:{op:bW(t.op),filters:i}}}(n):de()}function IW(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function BO(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var vd=class n{constructor(e,t,i,r,o=_e.min(),s=_e.min(),a=un.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var ZE=class{constructor(e){this.ct=e}};function CW(n){let e=vW({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?BE(e,e.limit,"L"):e}var Lm=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(ct(e.integerValue));else if("doubleValue"in e){let i=ct(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),fd(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),typeof i=="string"&&(i=Fr(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(So(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?dO(e)?this.dt(t,Number.MAX_SAFE_INTEGER):uO(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):de()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let i=e.fields||{};this.dt(t,55);for(let r of Object.keys(i))this.Vt(r,t),this.Tt(i[r],t)}wt(e,t){var i,r;let o=e.fields||{};this.dt(t,53);let s="value",a=((r=(i=o[s].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.dt(t,15),t.At(ct(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let i=e.values||[];this.dt(t,50);for(let r of i)this.Tt(r,t)}yt(e,t){this.dt(t,37),ae.fromName(e).path.forEach(i=>{this.dt(t,60),this.Dt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Lm.vt=new Lm;var eb=class{constructor(){this.un=new tb}addToCollectionParentIndex(e,t){return this.un.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(Ls.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(Ls.min())}updateCollectionGroup(e,t,i){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}},tb=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new cn(ft.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new cn(ft.comparator)).toArray()}};var $de=new Uint8Array(0);var Xi=class n{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Xi.DEFAULT_COLLECTION_PERCENTILE=10,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xi.DEFAULT=new Xi(41943040,Xi.DEFAULT_COLLECTION_PERCENTILE,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xi.DISABLED=new Xi(-1,0,0);var yd=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var nb=class{constructor(){this.changes=new Mo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ti.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?G.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var ib=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var rb=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&hd(i.mutation,r,oi.empty(),rn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,De()).next(()=>i))}getLocalViewOfDocuments(e,t,i=De()){let r=Ps();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=ld();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let i=Ps();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,De()))}populateOverlays(e,t,i){let r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=Lr(),s=dd(),a=function(){return dd()}();return t.forEach((l,u)=>{let d=i.get(u.key);r.has(u.key)&&(d===void 0||d.mutation instanceof rr)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),hd(d.mutation,u,d.mutation.getFieldMask(),rn.now())):s.set(u.key,oi.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,d)=>s.set(u,d)),t.forEach((u,d)=>{var f;return a.set(u,new ib(d,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let i=dd(),r=new vt((s,a)=>s-a),o=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(l=>{let u=t.get(l);if(u===null)return;let d=i.get(l)||oi.empty();d=a.applyToLocalView(u,d),i.set(l,d);let f=(r.get(a.batchId)||De()).add(l);r=r.insert(a.batchId,f)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),u=l.key,d=l.value,f=CO();d.forEach(m=>{if(!o.has(m)){let _=NO(t.get(m),i.get(m));_!==null&&f.set(m,_),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return G.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(s){return ae.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):yO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):G.resolve(Ps()),a=-1,l=o;return s.next(u=>G.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?G.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,De())).next(d=>({batchId:a,changes:IO(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ae(t)).next(i=>{let r=ld();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let o=t.collectionGroup,s=ld();return this.indexManager.getCollectionParents(e,o).next(a=>G.forEach(a,l=>{let u=function(f,m){return new Ao(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next(d=>{d.forEach((f,m)=>{s=s.insert(f,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((l,u)=>{let d=u.getKey();s.get(d)===null&&(s=s.insert(d,Ti.newInvalidDocument(d)))});let a=ld();return s.forEach((l,u)=>{let d=o.get(l);d!==void 0&&hd(d.mutation,u,oi.empty(),rn.now()),ng(t,u)&&(a=a.insert(l,u))}),a})}};var ob=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return G.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:nr(r.createTime)}}(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(r){return{name:r.name,query:CW(r.bundledQuery),readTime:nr(r.readTime)}}(t)),G.resolve()}};var sb=class{constructor(){this.overlays=new vt(ae.comparator),this.Ir=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){let i=Ps();return G.forEach(t,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.ht(e,t,o)}),G.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.Ir.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(i)),G.resolve()}getOverlaysForCollection(e,t,i){let r=Ps(),o=t.length+1,s=new ae(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>i&&r.set(l.getKey(),l)}return G.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new vt((u,d)=>u-d),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>i){let d=o.get(u.largestBatchId);d===null&&(d=Ps(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=Ps(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=r)););return G.resolve(a)}ht(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let s=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new GE(t,i));let o=this.Ir.get(t);o===void 0&&(o=De(),this.Ir.set(t,o)),this.Ir.set(t,o.add(i.key))}};var ab=class{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}};var wd=class{constructor(){this.Tr=new cn(Dt.Er),this.dr=new cn(Dt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let i=new Dt(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Vr(new Dt(e,t))}mr(e,t){e.forEach(i=>this.removeReference(i,t))}gr(e){let t=new ae(new ft([])),i=new Dt(t,e),r=new Dt(t,e+1),o=[];return this.dr.forEachInRange([i,r],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new ae(new ft([])),i=new Dt(t,e),r=new Dt(t,e+1),o=De();return this.dr.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Dt(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},Dt=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ae.comparator(e.key,t.key)||Ue(e.wr,t.wr)}static Ar(e,t){return Ue(e.wr,t.wr)||ae.comparator(e.key,t.key)}};var lb=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new cn(Dt.Er)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new $E(o,t,i,r);this.mutationQueue.push(s);for(let a of r)this.br=this.br.add(new Dt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return G.resolve(s)}lookupMutationBatch(e,t){return G.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.vr(i),o=r<0?0:r;return G.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new Dt(t,0),r=new Dt(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([i,r],s=>{let a=this.Dr(s.wr);o.push(a)}),G.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new cn(Ue);return t.forEach(r=>{let o=new Dt(r,0),s=new Dt(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{i=i.add(a.wr)})}),G.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,o=i;ae.isDocumentKey(o)||(o=o.child(""));let s=new Dt(new ae(o),0),a=new cn(Ue);return this.br.forEachWhile(l=>{let u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(l.wr)),!0)},s),G.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(i=>{let r=this.Dr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){ze(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return G.forEach(t.mutations,r=>{let o=new Dt(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,t){let i=new Dt(t,0),r=this.br.firstAfterOrEqual(i);return G.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var cb=class{constructor(e){this.Mr=e,this.docs=function(){return new vt(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return G.resolve(i?i.document.mutableCopy():Ti.newInvalidDocument(t))}getEntries(e,t){let i=Lr();return t.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Ti.newInvalidDocument(r))}),G.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Lr(),s=t.path,a=new ae(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:u,value:{document:d}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Oq(Rq(d),i)<=0||(r.has(d.key)||ng(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return G.resolve(o)}getAllFromCollectionGroup(e,t,i,r){de()}Or(e,t){return G.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new ub(this)}getSize(e){return G.resolve(this.size)}},ub=class extends nb{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),G.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var db=class{constructor(e){this.persistence=e,this.Nr=new Mo(t=>iI(t),rI),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Lr=0,this.Br=new wd,this.targetCount=0,this.kr=yd.Bn()}forEachTarget(e,t){return this.Nr.forEach((i,r)=>t(r)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),G.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new yd(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.Kn(t),G.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,i){let r=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&i.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),G.waitFor(o).next(()=>r)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){let i=this.Nr.get(t)||null;return G.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),G.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);let r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),G.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),G.resolve()}getMatchingKeysForTargetId(e,t){let i=this.Br.yr(t);return G.resolve(i)}containsKey(e,t){return G.resolve(this.Br.containsKey(t))}};var hb=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new lO(0),this.Kr=!1,this.Kr=!0,this.$r=new ab,this.referenceDelegate=e(this),this.Ur=new db(this),this.indexManager=new eb,this.remoteDocumentCache=function(r){return new cb(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new ZE(t),this.Gr=new ob(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new lb(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){ee("MemoryPersistence","Starting transaction:",e);let r=new fb(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(o=>this.referenceDelegate.jr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Hr(e,t){return G.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,t)))}},fb=class extends CE{constructor(e){super(),this.currentSequenceNumber=e}},pb=class n{constructor(e){this.persistence=e,this.Jr=new wd,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw de()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),G.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),G.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(r=>this.Xr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Xr.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.Xr,i=>{let r=ae.fromPath(i);return this.ei(e,r).next(o=>{o||t.removeEntry(r,_e.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return G.or([()=>G.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var mb=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=r}static Wi(e,t){let i=De(),r=De();for(let o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new n(e,t.fromCache,i,r)}};var gb=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var _b=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Vx()?8:kq(Hn())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,r){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new gb;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,i,r){return i.documentReadCount<this.ji?(ad()<=be.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",Cl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),G.resolve()):(ad()<=be.DEBUG&&ee("QueryEngine","Query:",Cl(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(ad()<=be.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",Cl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(t))):G.resolve())}Yi(e,t){if(VR(t))return G.resolve(null);let i=tr(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=BE(t,null,"F"),i=tr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let s=De(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{let u=this.ts(t,a);return this.ns(t,u,s,l.readTime)?this.Yi(e,BE(t,null,"F")):this.rs(e,u,t,l)}))})))}Zi(e,t,i,r){return VR(t)||r.isEqual(_e.min())?G.resolve(null):this.Ji.getDocuments(e,i).next(o=>{let s=this.ts(t,o);return this.ns(t,s,i,r)?G.resolve(null):(ad()<=be.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Cl(t)),this.rs(e,s,t,xq(r,-1)).next(a=>a))})}ts(e,t){let i=new cn(EO(e));return t.forEach((r,o)=>{ng(e,o)&&(i=i.add(o))}),i}ns(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Xi(e,t,i){return ad()<=be.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Cl(t)),this.Ji.getDocumentsMatchingQuery(e,t,Ls.min(),i)}rs(e,t,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var vb=class{constructor(e,t,i,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new vt(Ue),this._s=new Mo(o=>iI(o),rI),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rb(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function TW(n,e,t,i){return new vb(n,e,t,i)}function UO(n,e){return k(this,null,function*(){let t=ge(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.ls(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{let s=[],a=[],l=De();for(let u of r){s.push(u.batchId);for(let d of u.mutations)l=l.add(d.key)}for(let u of o){a.push(u.batchId);for(let d of u.mutations)l=l.add(d.key)}return t.localDocuments.getDocuments(i,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function DW(n,e){let t=ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){let f=u.batch,m=f.keys(),_=G.resolve();return m.forEach(T=>{_=_.next(()=>d.getEntry(l,T)).next(M=>{let N=u.docVersions.get(T);ze(N!==null),M.version.compareTo(N)<0&&(f.applyToRemoteDocument(M,u),M.isValidDocument()&&(M.setReadTime(u.commitVersion),d.addEntry(M)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=De();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function jO(n){let e=ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function SW(n,e){let t=ge(n),i=e.snapshotVersion,r=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});r=t.os;let a=[];e.targetChanges.forEach((d,f)=>{let m=r.get(f);if(!m)return;a.push(t.Ur.removeMatchingKeys(o,d.removedDocuments,f).next(()=>t.Ur.addMatchingKeys(o,d.addedDocuments,f)));let _=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?_=_.withResumeToken(un.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,i)),r=r.insert(f,_),function(M,N,B){return M.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(m,_,d)&&a.push(t.Ur.updateTargetData(o,_))});let l=Lr(),u=De();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(AW(o,s,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!i.isEqual(_e.min())){let d=t.Ur.getLastRemoteSnapshotVersion(o).next(f=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(d)}return G.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(t.os=r,o))}function AW(n,e,t){let i=De(),r=De();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=Lr();return t.forEach((a,l)=>{let u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(_e.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ee("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:r}})}function MW(n,e){let t=ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function NW(n,e){let t=ge(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ur.getTargetData(i,e).next(o=>o?(r=o,G.resolve(r)):t.Ur.allocateTargetId(i).next(s=>(r=new vd(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i})}function yb(n,e,t){return k(this,null,function*(){let i=ge(n),r=i.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Sd(s))throw s;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.os=i.os.remove(e),i._s.delete(r.target)})}function QR(n,e,t){let i=ge(n),r=_e.min(),o=De();return i.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,d){let f=ge(l),m=f._s.get(d);return m!==void 0?G.resolve(f.os.get(m)):f.Ur.getTargetData(u,d)}(i,s,tr(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>i.ss.getDocumentsMatchingQuery(s,e,t?r:_e.min(),t?o:De())).next(a=>(xW(i,qq(e),a),{documents:a,Ts:o})))}function xW(n,e,t){let i=n.us.get(e)||_e.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.us.set(e,i)}var Vm=class{constructor(){this.activeTargetIds=Xq()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var wb=class{constructor(){this.so=new Vm,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Vm,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Eb=class{_o(e){}shutdown(){}};var Bm=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var bm=null;function fE(){return bm===null?bm=function(){return 268435456+Math.round(2147483648*Math.random())}():bm++,"0x"+bm.toString(16)}var RW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var bb=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var ln="WebChannelConnection",Ib=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${r}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Fo(){return!1}Mo(t,i,r,o,s){let a=fE(),l=this.xo(t,i.toUriEncodedString());ee("RestConnection",`Sending RPC '${t}' ${a}:`,l,r);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(t,l,u,r).then(d=>(ee("RestConnection",`Received RPC '${t}' ${a}: `,d),d),d=>{throw xl("RestConnection",`RPC '${t}' ${a} failed with error: `,d,"url: ",l,"request:",r),d})}Lo(t,i,r,o,s,a){return this.Mo(t,i,r,o,s)}Oo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Hl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>t[s]=o),r&&r.headers.forEach((o,s)=>t[s]=o)}xo(t,i){let r=RW[t];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,r){let o=fE();return new Promise((s,a)=>{let l=new aE;l.setWithCredentials(!0),l.listenOnce(lE.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case sd.NO_ERROR:let d=l.getResponseJson();ee(ln,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case sd.TIMEOUT:ee(ln,`RPC '${e}' ${o} timed out`),a(new X(j.DEADLINE_EXCEEDED,"Request time out"));break;case sd.HTTP_ERROR:let f=l.getStatus();if(ee(ln,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);let _=m?.error;if(_&&_.status&&_.message){let T=function(N){let B=N.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(B)>=0?B:j.UNKNOWN}(_.status);a(new X(T,_.message))}else a(new X(j.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new X(j.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{ee(ln,`RPC '${e}' ${o} completed.`)}});let u=JSON.stringify(r);ee(ln,`RPC '${e}' ${o} sending request:`,r),l.send(t,"POST",u,i,15)})}Bo(e,t,i){let r=fE(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=dE(),a=uE(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;let d=o.join("");ee(ln,`Creating RPC '${e}' stream ${r}: ${d}`,l);let f=s.createWebChannel(d,l),m=!1,_=!1,T=new bb({Io:N=>{_?ee(ln,`Not sending because RPC '${e}' stream ${r} is closed:`,N):(m||(ee(ln,`Opening RPC '${e}' stream ${r} transport.`),f.open(),m=!0),ee(ln,`RPC '${e}' stream ${r} sending:`,N),f.send(N))},To:()=>f.close()}),M=(N,B,z)=>{N.listen(B,$=>{try{z($)}catch(W){setTimeout(()=>{throw W},0)}})};return M(f,Il.EventType.OPEN,()=>{_||(ee(ln,`RPC '${e}' stream ${r} transport opened.`),T.yo())}),M(f,Il.EventType.CLOSE,()=>{_||(_=!0,ee(ln,`RPC '${e}' stream ${r} transport closed`),T.So())}),M(f,Il.EventType.ERROR,N=>{_||(_=!0,xl(ln,`RPC '${e}' stream ${r} transport errored:`,N),T.So(new X(j.UNAVAILABLE,"The operation could not be completed")))}),M(f,Il.EventType.MESSAGE,N=>{var B;if(!_){let z=N.data[0];ze(!!z);let $=z,W=$.error||((B=$[0])===null||B===void 0?void 0:B.error);if(W){ee(ln,`RPC '${e}' stream ${r} received error:`,W);let oe=W.status,Y=function(b){let D=Tt[b];if(D!==void 0)return RO(D)}(oe),S=W.message;Y===void 0&&(Y=j.INTERNAL,S="Unknown error status: "+oe+" with message "+W.message),_=!0,T.So(new X(Y,S)),f.close()}else ee(ln,`RPC '${e}' stream ${r} received:`,z),T.bo(z)}}),M(a,cE.STAT_EVENT,N=>{N.stat===wm.PROXY?ee(ln,`RPC '${e}' stream ${r} detected buffering proxy`):N.stat===wm.NOPROXY&&ee(ln,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}};function pE(){return typeof document<"u"?document:null}function ig(n){return new KE(n,!0)}var Um=class{constructor(e,t,i=1e3,r=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=r,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-i);r>0&&ee("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var jm=class{constructor(e,t,i,r,o,s,a,l){this.ui=e,this.Ho=i,this.Jo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Um(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return k(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return k(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return k(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===j.RESOURCE_EXHAUSTED?(kr(t.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===t&&this.P_(i,r)},i=>{e(()=>{let r=new X(j.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,t){let i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(()=>k(this,null,function*(){this.state=0,this.start()}))}I_(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Cb=class extends jm{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=fW(this.serializer,e),i=function(o){if(!("targetChange"in o))return _e.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?_e.min():s.readTime?nr(s.readTime):_e.min()}(e);return this.listener.d_(t,i)}A_(e){let t={};t.database=XE(this.serializer),t.addTarget=function(o,s){let a,l=s.target;if(a=LE(l)?{documents:gW(o,l)}:{query:_W(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=OO(o,s.resumeToken);let u=QE(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(_e.min())>0){a.readTime=Fm(o,s.snapshotVersion.toTimestamp());let u=QE(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let i=yW(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){let t={};t.database=XE(this.serializer),t.removeTarget=e,this.a_(t)}},Tb=class extends jm{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=mW(e.writeResults,e.commitTime),i=nr(e.commitTime);return this.listener.g_(i,t)}p_(){let e={};e.database=XE(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>pW(this.serializer,i))};this.a_(t)}};var Db=class extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new X(j.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,YE(t,i),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(j.UNKNOWN,o.toString())})}Lo(e,t,i,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,YE(t,i),r,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(j.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Sb=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(kr(t),this.D_=!1):ee("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Ab=class{constructor(e,t,i,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{i.enqueueAndForget(()=>k(this,null,function*(){Ws(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),yield function(l){return k(this,null,function*(){let u=ge(l);u.L_.add(4),yield Ad(u),u.q_.set("Unknown"),u.L_.delete(4),yield rg(u)})}(this))}))}),this.q_=new Sb(i,r)}};function rg(n){return k(this,null,function*(){if(Ws(n))for(let e of n.B_)yield e(!0)})}function Ad(n){return k(this,null,function*(){for(let e of n.B_)yield e(!1)})}function $O(n,e){let t=ge(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),uI(t)?cI(t):Gl(t).r_()&&lI(t,e))}function aI(n,e){let t=ge(n),i=Gl(t);t.N_.delete(e),i.r_()&&HO(t,e),t.N_.size===0&&(i.r_()?i.o_():Ws(t)&&t.q_.set("Unknown"))}function lI(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Gl(n).A_(e)}function HO(n,e){n.Q_.xe(e),Gl(n).R_(e)}function cI(n){n.Q_=new WE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Gl(n).start(),n.q_.v_()}function uI(n){return Ws(n)&&!Gl(n).n_()&&n.N_.size>0}function Ws(n){return ge(n).L_.size===0}function GO(n){n.Q_=void 0}function OW(n){return k(this,null,function*(){n.q_.set("Online")})}function PW(n){return k(this,null,function*(){n.N_.forEach((e,t)=>{lI(n,e)})})}function kW(n,e){return k(this,null,function*(){GO(n),uI(n)?(n.q_.M_(e),cI(n)):n.q_.set("Unknown")})}function FW(n,e,t){return k(this,null,function*(){if(n.q_.set("Online"),e instanceof Pm&&e.state===2&&e.cause)try{yield function(r,o){return k(this,null,function*(){let s=o.cause;for(let a of o.targetIds)r.N_.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.N_.delete(a),r.Q_.removeTarget(a))})}(n,e)}catch(i){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield $m(n,i)}else if(e instanceof Ml?n.Q_.Ke(e):e instanceof Om?n.Q_.He(e):n.Q_.We(e),!t.isEqual(_e.min()))try{let i=yield jO(n.localStore);t.compareTo(i)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let d=o.N_.get(u);d&&o.N_.set(u,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{let d=o.N_.get(l);if(!d)return;o.N_.set(l,d.withResumeToken(un.EMPTY_BYTE_STRING,d.snapshotVersion)),HO(o,l);let f=new vd(d.target,l,u,d.sequenceNumber);lI(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){ee("RemoteStore","Failed to raise snapshot:",i),yield $m(n,i)}})}function $m(n,e,t){return k(this,null,function*(){if(!Sd(e))throw e;n.L_.add(1),yield Ad(n),n.q_.set("Offline"),t||(t=()=>jO(n.localStore)),n.asyncQueue.enqueueRetryable(()=>k(this,null,function*(){ee("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield rg(n)}))})}function zO(n,e){return e().catch(t=>$m(n,t,e))}function og(n){return k(this,null,function*(){let e=ge(n),t=No(e),i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;LW(e);)try{let r=yield MW(e.localStore,i);if(r===null){e.O_.length===0&&t.o_();break}i=r.batchId,VW(e,r)}catch(r){yield $m(e,r)}qO(e)&&WO(e)})}function LW(n){return Ws(n)&&n.O_.length<10}function VW(n,e){n.O_.push(e);let t=No(n);t.r_()&&t.V_&&t.m_(e.mutations)}function qO(n){return Ws(n)&&!No(n).n_()&&n.O_.length>0}function WO(n){No(n).start()}function BW(n){return k(this,null,function*(){No(n).p_()})}function UW(n){return k(this,null,function*(){let e=No(n);for(let t of n.O_)e.m_(t.mutations)})}function jW(n,e,t){return k(this,null,function*(){let i=n.O_.shift(),r=HE.from(i,e,t);yield zO(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield og(n)})}function $W(n,e){return k(this,null,function*(){e&&No(n).V_&&(yield function(i,r){return k(this,null,function*(){if(function(s){return oW(s)&&s!==j.ABORTED}(r.code)){let o=i.O_.shift();No(i).s_(),yield zO(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield og(i)}})}(n,e)),qO(n)&&WO(n)})}function YR(n,e){return k(this,null,function*(){let t=ge(n);t.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");let i=Ws(t);t.L_.add(3),yield Ad(t),i&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield rg(t)})}function HW(n,e){return k(this,null,function*(){let t=ge(n);e?(t.L_.delete(2),yield rg(t)):e||(t.L_.add(2),yield Ad(t),t.q_.set("Unknown"))})}function Gl(n){return n.K_||(n.K_=function(t,i,r){let o=ge(t);return o.w_(),new Cb(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Eo:OW.bind(null,n),Ro:PW.bind(null,n),mo:kW.bind(null,n),d_:FW.bind(null,n)}),n.B_.push(e=>k(this,null,function*(){e?(n.K_.s_(),uI(n)?cI(n):n.q_.set("Unknown")):(yield n.K_.stop(),GO(n))}))),n.K_}function No(n){return n.U_||(n.U_=function(t,i,r){let o=ge(t);return o.w_(),new Tb(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:BW.bind(null,n),mo:$W.bind(null,n),f_:UW.bind(null,n),g_:jW.bind(null,n)}),n.B_.push(e=>k(this,null,function*(){e?(n.U_.s_(),yield og(n)):(yield n.U_.stop(),n.O_.length>0&&(ee("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var Mb=class n{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){let s=Date.now()+i,a=new n(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function dI(n,e){if(kr("AsyncQueue",`${e}: ${n}`),Sd(n))return new X(j.UNAVAILABLE,`${e}: ${n}`);throw n}var Hm=class n{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ae.comparator(t.key,i.key):(t,i)=>ae.comparator(t.key,i.key),this.keyedMap=ld(),this.sortedSet=new vt(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var Gm=class{constructor(){this.W_=new vt(ae.comparator)}track(e){let t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):de():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,i)=>{e.push(i)}),e}},Ul=class n{constructor(e,t,i,r,o,s,a,l,u){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,i,r,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Hm.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var Nb=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},xb=class{constructor(){this.queries=JR(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){let r=ge(t),o=r.queries;r.queries=JR(),o.forEach((s,a)=>{for(let l of a.j_)l.onError(i)})})(this,new X(j.ABORTED,"Firestore shutting down"))}};function JR(){return new Mo(n=>wO(n),tg)}function GW(n,e){return k(this,null,function*(){let t=ge(n),i=3,r=e.query,o=t.queries.get(r);o?!o.H_()&&e.J_()&&(i=2):(o=new Nb,i=e.J_()?0:1);try{switch(i){case 0:o.z_=yield t.onListen(r,!0);break;case 1:o.z_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(s){let a=dI(s,`Initialization of query '${Cl(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&hI(t)})}function zW(n,e){return k(this,null,function*(){let t=ge(n),i=e.query,r=3,o=t.queries.get(i);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?r=e.J_()?0:1:!o.H_()&&e.J_()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function qW(n,e){let t=ge(n),i=!1;for(let r of e){let o=r.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(r)&&(i=!0);s.z_=r}}i&&hI(t)}function WW(n,e,t){let i=ge(n),r=i.queries.get(e);if(r)for(let o of r.j_)o.onError(t);i.queries.delete(e)}function hI(n){n.Y_.forEach(e=>{e.next()})}var Rb,XR;(XR=Rb||(Rb={})).ea="default",XR.Cache="cache";var Ob=class{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new Ul(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Rb.Cache}};var zm=class{constructor(e){this.key=e}},qm=class{constructor(e){this.key=e}},Pb=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=De(),this.mutatedKeys=De(),this.Aa=EO(e),this.Ra=new Hm(this.Aa)}get Va(){return this.Ta}ma(e,t){let i=t?t.fa:new Gm,r=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,f)=>{let m=r.get(d),_=ng(this.query,f)?f:null,T=!!m&&this.mutatedKeys.has(m.key),M=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),N=!1;m&&_?m.data.isEqual(_.data)?T!==M&&(i.track({type:3,doc:_}),N=!0):this.ga(m,_)||(i.track({type:2,doc:_}),N=!0,(l&&this.Aa(_,l)>0||u&&this.Aa(_,u)<0)&&(a=!0)):!m&&_?(i.track({type:0,doc:_}),N=!0):m&&!_&&(i.track({type:1,doc:m}),N=!0,(l||u)&&(a=!0)),N&&(_?(s=s.add(_),o=M?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),i.track({type:1,doc:d})}return{Ra:s,fa:i,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((d,f)=>function(_,T){let M=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return M(_)-M(T)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(i),r=r!=null&&r;let a=t&&!r?this.ya():[],l=this.da.size===0&&this.current&&!r?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new Ul(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Gm,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=De(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});let t=[];return e.forEach(i=>{this.da.has(i)||t.push(new qm(i))}),this.da.forEach(i=>{e.has(i)||t.push(new zm(i))}),t}ba(e){this.Ta=e.Ts,this.da=De();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Ul.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},kb=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},Fb=class{constructor(e){this.key=e,this.va=!1}},Lb=class{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Mo(a=>wO(a),tg),this.Ma=new Map,this.xa=new Set,this.Oa=new vt(ae.comparator),this.Na=new Map,this.La=new wd,this.Ba={},this.ka=new Map,this.qa=yd.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function KW(n,e,t=!0){return k(this,null,function*(){let i=ZO(n),r,o=i.Fa.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.Da()):r=yield KO(i,e,t,!0),r})}function QW(n,e){return k(this,null,function*(){let t=ZO(n);yield KO(t,e,!0,!1)})}function KO(n,e,t,i){return k(this,null,function*(){let r=yield NW(n.localStore,tr(e)),o=r.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return i&&(a=yield YW(n,e,o,s==="current",r.resumeToken)),n.isPrimaryClient&&t&&$O(n.remoteStore,r),a})}function YW(n,e,t,i,r){return k(this,null,function*(){n.Ka=(f,m,_)=>function(M,N,B,z){return k(this,null,function*(){let $=N.view.ma(B);$.ns&&($=yield QR(M.localStore,N.query,!1).then(({documents:S})=>N.view.ma(S,$)));let W=z&&z.targetChanges.get(N.targetId),oe=z&&z.targetMismatches.get(N.targetId)!=null,Y=N.view.applyChanges($,M.isPrimaryClient,W,oe);return eO(M,N.targetId,Y.wa),Y.snapshot})}(n,f,m,_);let o=yield QR(n.localStore,e,!0),s=new Pb(e,o.Ts),a=s.ma(o.documents),l=_d.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),u=s.applyChanges(a,n.isPrimaryClient,l);eO(n,t,u.wa);let d=new kb(e,t,s);return n.Fa.set(e,d),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),u.snapshot})}function JW(n,e,t){return k(this,null,function*(){let i=ge(n),r=i.Fa.get(e),o=i.Ma.get(r.targetId);if(o.length>1)return i.Ma.set(r.targetId,o.filter(s=>!tg(s,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield yb(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&aI(i.remoteStore,r.targetId),Vb(i,r.targetId)}).catch(Dd))):(Vb(i,r.targetId),yield yb(i.localStore,r.targetId,!0))})}function XW(n,e){return k(this,null,function*(){let t=ge(n),i=t.Fa.get(e),r=t.Ma.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),aI(t.remoteStore,i.targetId))})}function ZW(n,e,t){return k(this,null,function*(){let i=s8(n);try{let r=yield function(s,a){let l=ge(s),u=rn.now(),d=a.reduce((_,T)=>_.add(T.key),De()),f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",_=>{let T=Lr(),M=De();return l.cs.getEntries(_,d).next(N=>{T=N,T.forEach((B,z)=>{z.isValidDocument()||(M=M.add(B))})}).next(()=>l.localDocuments.getOverlayedDocuments(_,T)).next(N=>{f=N;let B=[];for(let z of a){let $=rW(z,f.get(z.key).overlayedDocument);$!=null&&B.push(new rr(z.key,$,hO($.value.mapValue),Pr.exists(!0)))}return l.mutationQueue.addMutationBatch(_,u,B,a)}).next(N=>{m=N;let B=N.applyToLocalDocumentSet(f,M);return l.documentOverlayCache.saveOverlays(_,N.batchId,B)})}).then(()=>({batchId:m.batchId,changes:IO(f)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new vt(Ue)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(i,r.batchId,t),yield Md(i,r.changes),yield og(i.remoteStore)}catch(r){let o=dI(r,"Failed to persist write");t.reject(o)}})}function QO(n,e){return k(this,null,function*(){let t=ge(n);try{let i=yield SW(t.localStore,e);e.targetChanges.forEach((r,o)=>{let s=t.Na.get(o);s&&(ze(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.va=!0:r.modifiedDocuments.size>0?ze(s.va):r.removedDocuments.size>0&&(ze(s.va),s.va=!1))}),yield Md(t,i,e)}catch(i){yield Dd(i)}})}function ZR(n,e,t){let i=ge(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){let l=ge(s);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(let m of f.j_)m.Z_(a)&&(u=!0)}),u&&hI(l)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function e8(n,e,t){return k(this,null,function*(){let i=ge(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.Na.get(e),o=r&&r.key;if(o){let s=new vt(ae.comparator);s=s.insert(o,Ti.newNoDocument(o,_e.min()));let a=De().add(o),l=new Rm(_e.min(),new Map,new vt(Ue),s,a);yield QO(i,l),i.Oa=i.Oa.remove(o),i.Na.delete(e),fI(i)}else yield yb(i.localStore,e,!1).then(()=>Vb(i,e,t)).catch(Dd)})}function t8(n,e){return k(this,null,function*(){let t=ge(n),i=e.batch.batchId;try{let r=yield DW(t.localStore,e);JO(t,i,null),YO(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Md(t,r)}catch(r){yield Dd(r)}})}function n8(n,e,t){return k(this,null,function*(){let i=ge(n);try{let r=yield function(s,a){let l=ge(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(ze(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(i.localStore,e);JO(i,e,t),YO(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Md(i,r)}catch(r){yield Dd(r)}})}function YO(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function JO(n,e,t){let i=ge(n),r=i.Ba[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function Vb(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(i=>{n.La.containsKey(i)||XO(n,i)})}function XO(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(aI(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),fI(n))}function eO(n,e,t){for(let i of t)i instanceof zm?(n.La.addReference(i.key,e),i8(n,i)):i instanceof qm?(ee("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||XO(n,i.key)):de()}function i8(n,e){let t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(ee("SyncEngine","New document in limbo: "+t),n.xa.add(i),fI(n))}function fI(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new ae(ft.fromString(e)),i=n.qa.next();n.Na.set(i,new Fb(t)),n.Oa=n.Oa.insert(t,i),$O(n.remoteStore,new vd(tr(vO(t.path)),i,"TargetPurposeLimboResolution",lO.oe))}}function Md(n,e,t){return k(this,null,function*(){let i=ge(n),r=[],o=[],s=[];i.Fa.isEmpty()||(i.Fa.forEach((a,l)=>{s.push(i.Ka(l,e,t).then(u=>{var d;if((u||t)&&i.isPrimaryClient){let f=u?!u.fromCache:(d=t?.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){r.push(u);let f=mb.Wi(l.targetId,u);o.push(f)}}))}),yield Promise.all(s),i.Ca.d_(r),yield function(l,u){return k(this,null,function*(){let d=ge(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>G.forEach(u,m=>G.forEach(m.$i,_=>d.persistence.referenceDelegate.addReference(f,m.targetId,_)).next(()=>G.forEach(m.Ui,_=>d.persistence.referenceDelegate.removeReference(f,m.targetId,_)))))}catch(f){if(!Sd(f))throw f;ee("LocalStore","Failed to update sequence numbers: "+f)}for(let f of u){let m=f.targetId;if(!f.fromCache){let _=d.os.get(m),T=_.snapshotVersion,M=_.withLastLimboFreeSnapshotVersion(T);d.os=d.os.insert(m,M)}}})}(i.localStore,o))})}function r8(n,e){return k(this,null,function*(){let t=ge(n);if(!t.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());let i=yield UO(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new X(j.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Md(t,i.hs)}})}function o8(n,e){let t=ge(n),i=t.Na.get(e);if(i&&i.va)return De().add(i.key);{let r=De(),o=t.Ma.get(e);if(!o)return r;for(let s of o){let a=t.Fa.get(s);r=r.unionWith(a.view.Va)}return r}}function ZO(n){let e=ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=QO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=o8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=e8.bind(null,e),e.Ca.d_=qW.bind(null,e.eventManager),e.Ca.$a=WW.bind(null,e.eventManager),e}function s8(n){let e=ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=t8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=n8.bind(null,e),e}var tO=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return k(this,null,function*(){this.serializer=ig(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,i){return null}Ha(t,i){return null}za(t){return TW(this.persistence,new _b,t.initialUser,this.serializer)}Ga(t){return new hb(pb.Zr,this.serializer)}Wa(t){return new wb}terminate(){return k(this,null,function*(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var a8=(()=>{class n{initialize(t,i){return k(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ZR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=r8.bind(null,this.syncEngine),yield HW(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new xb}()}createDatastore(t){let i=ig(t.databaseInfo.databaseId),r=function(s){return new Ib(s)}(t.databaseInfo);return function(s,a,l,u){return new Db(s,a,l,u)}(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return function(r,o,s,a,l){return new Ab(r,o,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,i=>ZR(this.syncEngine,i,0),function(){return Bm.D()?new Bm:new Eb}())}createSyncEngine(t,i){return function(o,s,a,l,u,d,f){let m=new Lb(o,s,a,l,u,d);return f&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){return k(this,null,function*(){var t,i;yield function(o){return k(this,null,function*(){let s=ge(o);ee("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Ad(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()})}}return n.provider={build:()=>new n},n})();var Bb=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):kr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Ub=class{constructor(e,t,i,r,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=zt.UNAUTHENTICATED,this.clientId=Dm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,s=>k(this,null,function*(){ee("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(ee("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>k(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=dI(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function mE(n,e){return k(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>k(this,null,function*(){i.isEqual(r)||(yield UO(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function nO(n,e){return k(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield l8(n);ee("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>YR(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>YR(e.remoteStore,r)),n._onlineComponents=e})}function l8(n){return k(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{yield mE(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(r){return r.name==="FirebaseError"?r.code===j.FAILED_PRECONDITION||r.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;xl("Error using user provided cache. Falling back to memory cache: "+t),yield mE(n,new tO)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),yield mE(n,new tO);return n._offlineComponents})}function eP(n){return k(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),yield nO(n,n._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),yield nO(n,new a8))),n._onlineComponents})}function c8(n){return eP(n).then(e=>e.syncEngine)}function u8(n){return k(this,null,function*(){let e=yield eP(n),t=e.eventManager;return t.onListen=KW.bind(null,e.syncEngine),t.onUnlisten=JW.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=QW.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=XW.bind(null,e.syncEngine),t})}function d8(n,e,t={}){let i=new Zi;return n.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return function(o,s,a,l,u){let d=new Bb({next:m=>{d.Za(),s.enqueueAndForget(()=>zW(o,f)),m.fromCache&&l.source==="server"?u.reject(new X(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new Ob(a,d,{includeMetadataChanges:!0,_a:!0});return GW(o,f)}(yield u8(n),n.asyncQueue,e,t,i)})),i.promise}function tP(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var iO=new Map;function nP(n,e,t){if(!t)throw new X(j.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function h8(n,e,t,i){if(e===!0&&i===!0)throw new X(j.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function rO(n){if(!ae.isDocumentKey(n))throw new X(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function oO(n){if(ae.isDocumentKey(n))throw new X(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function sg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":de()}function Hs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new X(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=sg(n);throw new X(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Wm=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new X(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}h8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tP((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new X(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new X(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new X(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},jl=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wm(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new gE;switch(i.type){case"firstParty":return new wE(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new X(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return k(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=iO.get(t);i&&(ee("ComponentProvider","Removing Datastore"),iO.delete(t),i.terminate())}(this),Promise.resolve()}};function iP(n,e,t,i={}){var r;let o=(n=Hs(n,jl))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=zt.MOCK_USER;else{a=tm(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new X(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new zt(u)}n._authCredentials=new _E(new Tm(a,l))}}var Gs=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},qn=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Do(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Do=class n extends Gs{constructor(e,t,i){super(e,t,vO(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new qn(this.firestore,null,new ae(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function rP(n,e,...t){if(n=Gt(n),nP("collection","path",e),n instanceof jl){let i=ft.fromString(e,...t);return oO(i),new Do(n,null,i)}{if(!(n instanceof qn||n instanceof Do))throw new X(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(ft.fromString(e,...t));return oO(i),new Do(n.firestore,null,i)}}function pI(n,e,...t){if(n=Gt(n),arguments.length===1&&(e=Dm.newId()),nP("doc","path",e),n instanceof jl){let i=ft.fromString(e,...t);return rO(i),new qn(n,null,new ae(i))}{if(!(n instanceof qn||n instanceof Do))throw new X(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(ft.fromString(e,...t));return rO(i),new qn(n.firestore,n instanceof Do?n.converter:null,new ae(i))}}var Km=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Um(this,"async_queue_retry"),this.Vu=()=>{let i=pE();i&&ee("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;let t=pE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=pE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Zi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return k(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Sd(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;let r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i);throw kr("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let r=Mb.createAndSchedule(this,e,t,i,o=>this.yu(o));return this.Tu.push(r),r}fu(){this.Eu&&de()}verifyOperationInProgress(){}wu(){return k(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};var zs=class extends jl{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new Km,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return k(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Km(e),this._firestoreClient=void 0,yield e}})}};function oP(n,e){let t=typeof n=="object"?n:Ds(),i=typeof n=="string"?n:e||"(default)",r=Zu(t,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=em("firestore");o&&iP(r,...o)}return r}function sP(n){if(n._terminated)throw new X(j.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||f8(n),n._firestoreClient}function f8(n){var e,t,i;let r=n._freezeSettings(),o=function(a,l,u,d){return new TE(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,tP(d.experimentalLongPollingOptions),d.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new Ub(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}var Ed=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(un.fromBase64String(e))}catch(t){throw new X(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var $l=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new X(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var bd=class{constructor(e){this._methodName=e}};var Id=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new X(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new X(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}};var Cd=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,e._values)}};var p8=/^__.*__$/,jb=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new rr(e,this.data,this.fieldMask,t,this.fieldTransforms):new $s(e,this.data,t,this.fieldTransforms)}},Qm=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new rr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function aP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}var $b=class n{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Fu({path:i,xu:!1});return r.Ou(e),r}Nu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Jm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(aP(this.Cu)&&p8.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Hb=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||ig(e)}Qu(e,t,i,r=!1){return new $b({Cu:e,methodName:t,qu:i,path:zn.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function mI(n){let e=n._freezeSettings(),t=ig(n._databaseId);return new Hb(n._databaseId,!!e.ignoreUndefinedProperties,t)}function m8(n,e,t,i,r,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,r);gI("Data must be an object, but it was:",s,i);let a=lP(i,s),l,u;if(o.merge)l=new oi(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let f of o.mergeFields){let m=Gb(e,f,t);if(!s.contains(m))throw new X(j.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);uP(d,m)||d.push(m)}l=new oi(d),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new jb(new Gn(a),l,u)}var Ym=class n extends bd{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function g8(n,e,t,i){let r=n.Qu(1,e,t);gI("Data must be an object, but it was:",r,i);let o=[],s=Gn.empty();qs(i,(l,u)=>{let d=_I(e,l,t);u=Gt(u);let f=r.Nu(d);if(u instanceof Ym)o.push(d);else{let m=Nd(u,f);m!=null&&(o.push(d),s.set(d,m))}});let a=new oi(o);return new Qm(s,a,r.fieldTransforms)}function _8(n,e,t,i,r,o){let s=n.Qu(1,e,t),a=[Gb(e,i,t)],l=[r];if(o.length%2!=0)throw new X(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(Gb(e,o[m])),l.push(o[m+1]);let u=[],d=Gn.empty();for(let m=a.length-1;m>=0;--m)if(!uP(u,a[m])){let _=a[m],T=l[m];T=Gt(T);let M=s.Nu(_);if(T instanceof Ym)u.push(_);else{let N=Nd(T,M);N!=null&&(u.push(_),d.set(_,N))}}let f=new oi(u);return new Qm(d,f,s.fieldTransforms)}function v8(n,e,t,i=!1){return Nd(t,n.Qu(i?4:3,e))}function Nd(n,e){if(cP(n=Gt(n)))return gI("Unsupported field value:",e,n),lP(n,e);if(n instanceof bd)return function(i,r){if(!aP(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,r){let o=[],s=0;for(let a of i){let l=Nd(a,r.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if((i=Gt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Zq(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=rn.fromDate(i);return{timestampValue:Fm(r.serializer,o)}}if(i instanceof rn){let o=new rn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Fm(r.serializer,o)}}if(i instanceof Id)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ed)return{bytesValue:OO(r.serializer,i._byteString)};if(i instanceof qn){let o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:sI(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Cd)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return oI(a.serializer,l)})}}}}}}(i,r);throw r.Bu(`Unsupported field value: ${sg(i)}`)}(n,e)}function lP(n,e){let t={};return cO(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qs(n,(i,r)=>{let o=Nd(r,e.Mu(i));o!=null&&(t[i]=o)}),{mapValue:{fields:t}}}function cP(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof rn||n instanceof Id||n instanceof Ed||n instanceof qn||n instanceof bd||n instanceof Cd)}function gI(n,e,t){if(!cP(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){let i=sg(t);throw i==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+i)}}function Gb(n,e,t){if((e=Gt(e))instanceof $l)return e._internalPath;if(typeof e=="string")return _I(n,e);throw Jm("Field path arguments must be of type string or ",n,!1,void 0,t)}var y8=new RegExp("[~\\*/\\[\\]]");function _I(n,e,t){if(e.search(y8)>=0)throw Jm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $l(...e.split("."))._internalPath}catch{throw Jm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Jm(n,e,t,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${i}`),s&&(l+=` in document ${r}`),l+=")"),new X(j.INVALID_ARGUMENT,a+n+l)}function uP(n,e){return n.some(t=>t.isEqual(e))}var Xm=class{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new zb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(vI("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},zb=class extends Xm{data(){return super.data()}};function vI(n,e){return typeof e=="string"?_I(n,e):e instanceof $l?e._internalPath:e._delegate._internalPath}function w8(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new X(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Td=class{},Zm=class extends Td{};function dP(n,e,...t){let i=[];e instanceof Td&&i.push(e),i=i.concat(t),function(o){let s=o.filter(l=>l instanceof Wb).length,a=o.filter(l=>l instanceof qb).length;if(s>1||s>0&&a>0)throw new X(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)n=r._apply(n);return n}var qb=class n extends Zm{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=this._parse(e);return fP(e._query,t),new Gs(e.firestore,e.converter,VE(e._query,t))}_parse(e){let t=mI(e.firestore);return function(o,s,a,l,u,d,f){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new X(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){aO(f,d);let _=[];for(let T of f)_.push(sO(l,o,T));m={arrayValue:{values:_}}}else m=sO(l,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||aO(f,d),m=v8(a,s,f,d==="in"||d==="not-in");return St.create(u,d,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var Wb=class n extends Td{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Di.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(r,o){let s=r,a=o.getFlattenedFilters();for(let l of a)fP(s,l),s=VE(s,l)}(e._query,t),new Gs(e.firestore,e.converter,VE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Kb=class n extends Zm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(r,o,s){if(r.startAt!==null)throw new X(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new X(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bs(o,s)}(e._query,this._field,this._direction);return new Gs(e.firestore,e.converter,function(r,o){let s=r.explicitOrderBy.concat([o]);return new Ao(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}};function hP(n,e="asc"){let t=e,i=vI("orderBy",n);return Kb._create(i,t)}function sO(n,e,t){if(typeof(t=Gt(t))=="string"){if(t==="")throw new X(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yO(e)&&t.indexOf("/")!==-1)throw new X(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let i=e.path.child(ft.fromString(t));if(!ae.isDocumentKey(i))throw new X(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return RR(n,new ae(i))}if(t instanceof qn)return RR(n,t._key);throw new X(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sg(t)}.`)}function aO(n,e){if(!Array.isArray(n)||n.length===0)throw new X(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fP(n,e){let t=function(r,o){for(let s of r)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new X(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Qb=class{convertValue(e,t="none"){switch(Vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(So(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw de()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return qs(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertVectorValue(e){var t,i,r;let o=(r=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(s=>ct(s.doubleValue));return new Cd(o)}convertGeoPoint(e){return new Id(ct(e.latitude),ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=tI(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(pd(e));default:return null}}convertTimestamp(e){let t=Fr(e);return new rn(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=ft.fromString(e);ze(BO(i));let r=new Nm(i.get(1),i.get(3)),o=new ae(i.popFirst(5));return r.isEqual(t)||kr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function E8(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var Al=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Yb=class extends Xm{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Nl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(vI("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},Nl=class extends Yb{data(e={}){return super.data(e)}},Jb=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Al(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Nl(this._firestore,this._userDataWriter,i.key,i,new Al(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new X(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{let l=new Nl(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Al(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let l=new Nl(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Al(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:b8(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function b8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de()}}var Xb=class extends Qb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ed(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new qn(this.firestore,null,t)}};function pP(n){n=Hs(n,Gs);let e=Hs(n.firestore,zs),t=sP(e),i=new Xb(e);return w8(n._query),d8(t,n._query).then(r=>new Jb(e,i,n,r))}function mP(n,e,t,...i){n=Hs(n,qn);let r=Hs(n.firestore,zs),o=mI(r),s;return s=typeof(e=Gt(e))=="string"||e instanceof $l?_8(o,"updateDoc",n._key,e,t,i):g8(o,"updateDoc",n._key,e),yI(r,[s.toMutation(n._key,Pr.exists(!0))])}function gP(n){return yI(Hs(n.firestore,zs),[new gd(n._key,Pr.none())])}function _P(n,e){let t=Hs(n.firestore,zs),i=pI(n),r=E8(n.converter,e);return yI(t,[m8(mI(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Pr.exists(!1))]).then(()=>i)}function yI(n,e){return function(i,r){let o=new Zi;return i.asyncQueue.enqueueAndForget(()=>k(this,null,function*(){return ZW(yield c8(i),r,o)})),o.promise}(sP(n),e)}(function(e,t=!0){(function(r){Hl=r})(bo),Ji(new Mn("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),a=new zs(new vE(i.getProvider("auth-internal")),new bE(i.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nm(u.options.projectId,d)}(s,r),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ht(AR,"4.7.3",e),ht(AR,"4.7.3","esm2017")})();var Ks=class{constructor(e){return e}},vP="firestore",wI=class{constructor(){return Ms(vP)}};var EI=new Z("angularfire2.firestore-instances");function I8(n,e){let t=ed(vP,n,e);return t&&new Ks(t)}function C8(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Ks(i)}}var T8={provide:wI,deps:[[new an,EI]]},D8={provide:Ks,useFactory:I8,deps:[[new an,EI],Rr]};function yP(n,...e){return ht("angularfire",Io.full,"fst"),bn([D8,T8,{provide:EI,useFactory:C8(n),multi:!0,deps:[Ce,Ot,Ns,xs,[new an,bl],[new an,As],...e]}])}var wP=Cn(_P,!0);var EP=Cn(rP,!0);var bP=Cn(gP,!0);var bI=Cn(pI,!0);var IP=Cn(pP,!0);var CP=Cn(oP,!0);var TP=Cn(hP,!0);var DP=Cn(dP,!0);var SP=Cn(mP,!0);var ag=(()=>{class n{constructor(t){this.firestore=t,this.dataCollection=EP(this.firestore,"jobs")}saveData(t){return k(this,null,function*(){let i=Pe(Q({},t),{createdAt:new Date});yield wP(this.dataCollection,i)})}fetchData(){return k(this,null,function*(){let t=DP(this.dataCollection,TP("createdAt","desc"));return(yield IP(t)).docs.map(r=>Q({id:r.id},r.data()))})}deleteData(t){return k(this,null,function*(){let i=bI(this.firestore,"jobs",t);yield bP(i)})}updateData(t,i){return k(this,null,function*(){try{console.log("uodate date");let r=bI(this.firestore,"jobs",t.trim());console.log("Document reference path:",r.path),yield SP(r,i)}catch(r){console.error("Error updating document:",r)}})}static{this.\u0275fac=function(i){return new(i||n)(te(Ks))}}static{this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function A8(n,e){if(n&1){let t=Zt();g(0,"div",12)(1,"div",13)(2,"div",14),me("click",function(){let r=it(t).$implicit,o=$e(),s=$a(17);return rt(o.openVerticallyCentered(s,r))}),g(3,"h5",15),E(4),y(),g(5,"p",16),E(6),y()(),g(7,"div",17)(8,"button",18),me("click",function(){let r=it(t).$implicit,o=$e(),s=$a(19);return rt(o.openJobApplication(s,r))}),E(9," Apply "),y()()()()}if(n&2){let t=e.$implicit;I(4),F(t.name),I(2),nu("",t.location," (",t.type,")")}}function M8(n,e){if(n&1&&(g(0,"li"),E(1),y()),n&2){let t=e.$implicit;I(),F(t)}}function N8(n,e){if(n&1&&(g(0,"li"),E(1),y()),n&2){let t=e.$implicit;I(),F(t)}}function x8(n,e){if(n&1){let t=Zt();g(0,"div",19)(1,"h4",20),E(2),y(),g(3,"button",21),me("click",function(){let r=it(t).$implicit;return rt(r.dismiss("Cross click"))}),y()(),g(4,"div",22)(5,"div",23)(6,"div",24)(7,"h6"),E(8,"Location"),y(),g(9,"p"),E(10),y()(),g(11,"div",24)(12,"h6"),E(13,"Type"),y(),g(14,"p"),E(15),y()()(),U(16,"br"),g(17,"h6"),E(18,"Job Description"),y(),Ie(19,M8,2,1,"li",25),U(20,"br"),g(21,"h6"),E(22,"Qualifications"),y(),Ie(23,N8,2,1,"li",25),y()}if(n&2){let t=$e();I(2),F(t.selectedJob.name),I(8),F(t.selectedJob.location),I(5),F(t.selectedJob.type),I(4),se("ngForOf",t.descriptions),I(4),se("ngForOf",t.qualifications)}}function R8(n,e){n&1&&(g(0,"div",41),E(1," Full Name is required. "),y())}function O8(n,e){n&1&&(g(0,"span"),E(1," Please enter a valid international phone number (e.g., +1-555-1234). "),y())}function P8(n,e){n&1&&(g(0,"span"),E(1,"Phone Number is required."),y())}function k8(n,e){if(n&1&&(g(0,"div",41),Ie(1,O8,2,0,"span",42)(2,P8,2,0,"span",42),y()),n&2){let t,i,r=$e(2);I(),se("ngIf",(t=r.jobApplicationForm.get("jobPhoneNumber"))==null||t.errors==null?null:t.errors.invalidPhone),I(),se("ngIf",(i=r.jobApplicationForm.get("jobPhoneNumber"))==null||i.errors==null?null:i.errors.required)}}function F8(n,e){n&1&&(g(0,"span"),E(1,"Email is required."),y())}function L8(n,e){n&1&&(g(0,"span"),E(1,"Please enter a valid email."),y())}function V8(n,e){if(n&1&&(g(0,"div",41),Ie(1,F8,2,0,"span",42)(2,L8,2,0,"span",42),y()),n&2){let t,i,r=$e(2);I(),se("ngIf",(t=r.jobApplicationForm.get("email"))==null||t.errors==null?null:t.errors.required),I(),se("ngIf",(i=r.jobApplicationForm.get("email"))==null||i.errors==null?null:i.errors.email)}}function B8(n,e){n&1&&(g(0,"span"),E(1,"File is required."),y())}function U8(n,e){n&1&&(g(0,"span"),E(1,"File size must be less than 1MB."),y())}function j8(n,e){if(n&1&&(g(0,"div",41),Ie(1,U8,2,0,"span",42),y()),n&2){let t,i=$e(2);I(),se("ngIf",(t=i.jobApplicationForm.get("attachment"))==null||t.errors==null?null:t.errors.maxSize)}}function $8(n,e){n&1&&(g(0,"span"),E(1,"File must have .pdf extension."),y())}function H8(n,e){if(n&1&&(g(0,"div",41),Ie(1,$8,2,0,"span",42),y()),n&2){let t,i=$e(2);I(),se("ngIf",(t=i.jobApplicationForm.get("attachment"))==null||t.errors==null?null:t.errors.invalidFileType)}}function G8(n,e){if(n&1){let t=Zt();g(0,"div",19)(1,"h4",20),E(2,"Job Application"),y(),g(3,"button",21),me("click",function(){let r=it(t).$implicit;return rt(r.dismiss("Cross click"))}),y()(),g(4,"div",26)(5,"form",27),me("ngSubmit",function(){it(t);let r=$e();return rt(r.onSubmit())}),g(6,"div",28)(7,"div",29)(8,"label",30),E(9,"Full Name *"),y(),U(10,"input",31),Ie(11,R8,2,0,"div",32),y(),g(12,"div",29)(13,"label",33),E(14,"Position *"),y(),U(15,"input",34),y()(),g(16,"div",28)(17,"div",29)(18,"label",35),E(19,"Phone Number *"),y(),U(20,"input",36),Ie(21,k8,3,2,"div",32),y(),g(22,"div",29)(23,"label",37),E(24,"Email ID *"),y(),U(25,"input",38),Ie(26,V8,3,2,"div",32),y()(),g(27,"div",28)(28,"div",29)(29,"label",39),E(30,"Attach File (max 1MB)"),y(),g(31,"input",40),me("change",function(r){it(t);let o=$e();return rt(o.onFileChange(r))}),y(),g(32,"p"),E(33),y(),g(34,"div",41),Ie(35,B8,2,0,"span",42),y(),Ie(36,j8,2,1,"div",32)(37,H8,2,1,"div",32),y()(),g(38,"button",43),E(39,"Submit"),y()()()}if(n&2){let t,i,r,o,s,a,l=$e();I(5),se("formGroup",l.jobApplicationForm),I(6),se("ngIf",((t=l.jobApplicationForm.get("jobName"))==null?null:t.invalid)&&((t=l.jobApplicationForm.get("jobName"))==null?null:t.touched)),I(4),se("disabled",!0),I(6),se("ngIf",((i=l.jobApplicationForm.get("jobPhoneNumber"))==null?null:i.touched)&&((i=l.jobApplicationForm.get("jobPhoneNumber"))==null?null:i.errors)&&((i=l.jobApplicationForm.get("jobPhoneNumber"))==null?null:i.invalid)),I(5),se("ngIf",((r=l.jobApplicationForm.get("email"))==null?null:r.touched)&&((r=l.jobApplicationForm.get("email"))==null?null:r.errors)&&((r=l.jobApplicationForm.get("email"))==null?null:r.invalid)),I(7),ie("Selected File: ",l.fileName,""),I(2),se("ngIf",((o=l.jobApplicationForm.get("attachment"))==null||o.errors==null?null:o.errors.required)&&((o=l.jobApplicationForm.get("attachment"))==null?null:o.touched)),I(),se("ngIf",((s=l.jobApplicationForm.get("attachment"))==null?null:s.invalid)&&((s=l.jobApplicationForm.get("attachment"))==null?null:s.errors)),I(),se("ngIf",((a=l.jobApplicationForm.get("attachment"))==null?null:a.invalid)&&((a=l.jobApplicationForm.get("attachment"))==null?null:a.errors)),I(),se("disabled",l.jobApplicationForm.invalid)}}function z8(n,e){if(n&1){let t=Zt();g(0,"div",44)(1,"ngb-alert",45),me("close",function(){it(t);let r=$e();return rt(r.showAlert=!1)}),E(2),y()()}if(n&2){let t=$e();I(),se("type","success"),I(),ie(" ",t.successMessage," ")}}var MP=(()=>{class n{constructor(t,i,r,o,s){this.dataService=t,this.fb=i,this.http=r,this.translationService=o,this.translate=s,this.modalService=V(Mr),this.jobs=[],this.mainJobs=[],this.searchJobName="",this.descriptions=[],this.qualifications=[],this.fileName=null,this.successMessage=null,this.showAlert=!1,this.attachmentBase64=null,this.apiUrl="https://api.brevo.com/v3/smtp/email",this.apiKey="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 ",this.jobApplicationForm=this.fb.group({jobName:["",_t.required],position:[{value:"",disabled:!0},_t.required],jobPhoneNumber:["",[_t.required,this.phoneNumberValidator]],email:["",[_t.required,_t.email]],attachment:[null,[_t.required,this.maxFileSizeValidator(1*1024*1024),this.pdfFileValidator()]]})}pdfFileValidator(){return t=>{let i=t.value;return i&&i.name&&i.name.split(".").pop()?.toLowerCase()!=="pdf"?{invalidFileType:!0}:null}}phoneNumberValidator(t){let i=/^\+?(\d{1,3})?\s?-?(\(?\d{1,4}\)?)\s?-?(\d{1,4})\s?-?(\d{1,9})$/;return t.value&&!i.test(t.value)?{invalidPhone:!0}:null}ngOnInit(){this.loadData(),this.translationService.currentLanguage$.subscribe(t=>{})}openVerticallyCentered(t,i){this.selectedJob=i,this.descriptions=this.selectedJob.description.split(";"),this.qualifications=this.selectedJob.qualifications.split(";"),this.modalService.open(t,{centered:!0,size:"lg"})}openJobApplication(t,i){this.selectedJob=i,this.jobApplicationForm.get("position")?.setValue(i.name),this.modalService.open(t,{centered:!0,size:"lg"})}loadData(){return k(this,null,function*(){this.jobs=yield this.dataService.fetchData(),this.mainJobs=yield this.dataService.fetchData()})}filterJobsByName(t){t||(this.jobs=this.mainJobs),this.jobs=this.mainJobs.filter(i=>i.name.toLowerCase().includes(t.toLowerCase()))}maxFileSizeValidator(t){return i=>{let r=i.value;return r&&r.size>t?{maxSize:!0}:null}}onFileChange(t){let i=t.target;if(i.files&&i.files.length>0){let r=i.files[0];if(this.fileName=r.name,this.jobApplicationForm.patchValue({attachment:r}),this.jobApplicationForm.get("attachment")?.updateValueAndValidity(),r){let o=new FileReader;o.onload=()=>{this.attachmentBase64=o.result.toString().split(",")[1]},o.readAsDataURL(r)}}}resetFileInput(){this.fileName=null,this.jobApplicationForm.get("attachment")?.reset()}onSubmit(){this.jobApplicationForm.valid&&(this.sendEmail(),this.jobApplicationForm.reset())}sendEmail(){let t=new Xn({"Content-Type":"application/json","api-key":this.apiKey}),i={sender:{email:"technologieshykmann@gmail.com",name:"Hykmann Technologies"},to:[{email:"technologieshykmann@gmail.com",name:"Hykmann Technologies"}],replyTo:{email:"technologieshykmann@gmail.com",name:"Hykmann Technologies"},subject:"Job Application",textContent:this.attachmentBase64,htmlContent:"<li>Full Name:"+this.jobApplicationForm.get("jobName")?.value+"</li><li>Position:"+this.jobApplicationForm.get("position")?.value+"</li><li>Phone Number:"+this.jobApplicationForm.get("jobPhoneNumber")?.value+"</li><li>Email ID:"+this.jobApplicationForm.get("email")?.value+"</li>",attachment:[{content:this.attachmentBase64,name:this.jobApplicationForm.get("attachment")?.value.name}]};return this.http.post(this.apiUrl,i,{headers:t}).subscribe(r=>{this.jobApplicationForm.reset(),this.modalService.dismissAll(),this.fileName=null,this.showSuccessAlert("Email sent successfully!")},r=>console.error("Error sending email",r))}showSuccessAlert(t){this.successMessage=t,this.showAlert=!0,setTimeout(()=>{this.showAlert=!1,this.successMessage=null},3e3)}static{this.\u0275fac=function(i){return new(i||n)(H(ag),H(cl),H(os),H(lt),H(Ye))}}static{this.\u0275cmp=Se({type:n,selectors:[["app-career"]],standalone:!0,features:[Ae],decls:21,vars:9,consts:[["longContent",""],["applyJob",""],[1,"services-image-container"],["src","assets/career1.jpg","alt","Background",1,"background-image"],[1,"text-overlay"],[1,"search-container"],[1,"search-form"],["type","text","placeholder","Search Jobs","name","searchJob",1,"search-input",3,"ngModelChange","ngModel"],[1,"search-button",3,"click"],[1,"row","jobs-row"],["class","col-sm-3",4,"ngFor","ngForOf"],["class","alert-container position-fixed top-0 end-0 p-3","style","z-index: 1200;",4,"ngIf"],[1,"col-sm-3"],[1,"card"],[1,"card-body",3,"click"],[1,"card-title"],[1,"card-text"],[1,"card-footer",2,"background-color","white","border","0px","cursor","pointer","color","#4057d0"],[1,"btn","mb-2","me-2","apply-btn",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body",2,"margin","3vh","text-align","justify"],[1,"row"],[1,"col-6"],[4,"ngFor","ngForOf"],[1,"modal-body",2,"padding","5vh"],[3,"ngSubmit","formGroup"],[1,"form-row"],[1,"form-group"],["for","jobName"],["type","text","id","jobName","formControlName","jobName","maxlength","40"],["class","error",4,"ngIf"],["for","position"],["type","text","id","position","formControlName","position","maxlength","50",3,"disabled"],["for","jobPhoneNumber"],["type","text","id","jobPhoneNumber","formControlName","jobPhoneNumber","maxlength","15"],["for","email"],["type","email","id","email","formControlName","email","maxlength","100"],["for","attachment"],["type","file","id","attachment",3,"change"],[1,"error"],[4,"ngIf"],["type","submit",1,"submit-btn",3,"disabled"],[1,"alert-container","position-fixed","top-0","end-0","p-3",2,"z-index","1200"],[1,"fade","show",3,"close","type"]],template:function(i,r){if(i&1){let o=Zt();g(0,"div",2),U(1,"img",3),g(2,"div",4)(3,"h1"),E(4),x(5,"translate"),y(),g(6,"p"),E(7),x(8,"translate"),y()()(),g(9,"div",5)(10,"form",6)(11,"input",7),E0("ngModelChange",function(a){return it(o),IA(r.searchJobName,a)||(r.searchJobName=a),rt(a)}),y(),g(12,"button",8),me("click",function(){return it(o),rt(r.filterJobsByName(r.searchJobName))}),E(13,"Search"),y()()(),g(14,"div",9),Ie(15,A8,10,3,"div",10),y(),Ie(16,x8,24,5,"ng-template",null,0,so)(18,G8,40,10,"ng-template",null,1,so)(20,z8,3,2,"div",11)}i&2&&(I(4),F(R(5,5,"CAREER")),I(3),F(R(8,7,"CAREER_PAGE.TAGLINE")),I(4),w0("ngModel",r.searchJobName),I(4),se("ngForOf",r.jobs),I(5),se("ngIf",r.showAlert))},dependencies:[Bn,Jf,za,mo,ll,po,sl,al,fs,ds,hs,ON,Uy,By,qp,Hp,ml,Xe,at],styles:[`.services-image-container{position:relative;height:80vh;width:100%;overflow:hidden}.background-image{width:100%;height:100%;object-fit:cover}.text-overlay{position:absolute;bottom:20%;left:10%;color:#fff;padding:10px 20px;border-radius:5px;font-family:Archivo Black,sans-serif;font-size:large}.text-overlay h1{font-family:Archivo Black,sans-serif;font-size:4rem}.text-overlay p{font-family:DM Sans,sans-serif;font-size:1.5rem}.search-container{display:flex;justify-content:center;align-items:center;height:100%;width:100%;margin-top:5vh}.search-form{display:flex;gap:10px}.search-input{padding:10px;font-size:16px;border:1px solid #ccc;border-radius:5px;width:300px}.search-button{padding:10px 20px;font-size:16px;border:none;background-color:#4057d0;color:#fff;border-radius:5px;cursor:pointer}.jobs-row{margin-left:5vh;margin-right:5vh;margin-top:4vh}.apply-btn,edit-btn{border-color:#4057d0;color:#4057d0;font-size:small}h6{font-weight:700}p,li{font-size:small}#contactForm{max-width:600px;width:100%;padding:1.5rem;background:#fff;border-radius:10px;box-shadow:0 4px 10px #0000001a}.form-row{display:flex;gap:.5rem;margin-bottom:1.5rem}.form-group{flex:1;display:flex;flex-direction:column}label{font-weight:700;margin-bottom:.5rem}input,textarea{padding:.75rem;border:1px solid #ccc;border-radius:5px;font-size:1rem}input:focus,textarea:focus{border-color:#4057d0;outline:none}.error{color:red;font-size:.575rem;margin-top:.5rem;font-family:DM Sans,sans-serif}.submit-btn{width:100%;padding:.75rem;background:linear-gradient(45deg,#4057d0,#999ef1);color:#fff;border:none;border-radius:25px;font-size:1rem;cursor:pointer;font-weight:700;margin:0 auto;display:block;width:100px;margin-top:2vh}.submit-btn:hover{background-color:#0056b3}.submit-btn:hover{transform:scale(1.05);box-shadow:0 10px 20px #0000001a;cursor:pointer}.submit-btn:disabled{background-color:gray;cursor:not-allowed;opacity:.6}.error{color:red;font-size:.6rem;margin-top:5px}input.ng-invalid.ng-touched,textarea.ng-invalid.ng-touched{border:1px solid red}input.ng-valid.ng-touched,textarea.ng-valid.ng-touched{border:1px solid green}@media only screen and (max-width: 768px){.background-image{filter:brightness(.7)}.search-input{width:100%;max-width:250px}.search-button{padding:10px 15px}.card{margin-bottom:3vh}.form-row{flex-direction:column;gap:1rem}.form-group{flex:none}}
`],encapsulation:2})}}return n})();var q8=["longContent"];function W8(n,e){if(n&1){let t=Zt();g(0,"div",8)(1,"div",9)(2,"div",10)(3,"h5",11),E(4),y(),g(5,"p",12),E(6),y(),g(7,"button",13),me("click",function(){let r=it(t).$implicit,o=$e();return rt(o.openEditModal(r))}),E(8," Edit "),y(),g(9,"button",14),me("click",function(){let r=it(t).$implicit,o=$e();return rt(o.deleteData(r.id))}),E(10," Delete "),y()()()()}if(n&2){let t=e.$implicit;I(4),F(t.name),I(2),nu("",t.location," (",t.type,")")}}function K8(n,e){n&1&&(g(0,"div",36),E(1," Job Name is required. "),y())}function Q8(n,e){n&1&&(g(0,"div",36),E(1," Location is required. "),y())}function Y8(n,e){n&1&&(g(0,"div",36),E(1," Type is required. "),y())}function J8(n,e){n&1&&(g(0,"div",36),E(1," Job Description is required. "),y())}function X8(n,e){n&1&&(g(0,"div",36),E(1," Qualification is required. "),y())}function Z8(n,e){if(n&1){let t=Zt();g(0,"button",37),me("click",function(){it(t);let r=$e(2);return rt(r.updateData())}),E(1,"Update"),y()}if(n&2){let t=$e(2);se("disabled",t.jobForm.invalid)}}function e9(n,e){if(n&1&&(g(0,"button",38),E(1,"Submit"),y()),n&2){let t=$e(2);se("disabled",t.jobForm.invalid)}}function t9(n,e){if(n&1){let t=Zt();g(0,"div",15)(1,"h4",16),E(2,"Job Details"),y(),g(3,"button",17),me("click",function(){let r=it(t).$implicit;return rt(r.dismiss("Cross click"))}),y()(),g(4,"div",18)(5,"form",19),me("ngSubmit",function(){it(t);let r=$e();return rt(r.onSubmit())}),g(6,"div",20)(7,"div",21)(8,"label",22),E(9,"Job Name *"),y(),U(10,"input",23),Ie(11,K8,2,0,"div",24),y()(),g(12,"div",20)(13,"div",21)(14,"label",25),E(15,"Location *"),y(),U(16,"input",26),Ie(17,Q8,2,0,"div",24),y(),g(18,"div",21)(19,"label",27),E(20,"Type *"),y(),U(21,"input",28),Ie(22,Y8,2,0,"div",24),y()(),g(23,"div",20)(24,"div",21)(25,"label",29),E(26,"Job Description *"),y(),g(27,"p",30),E(28,"Separate each job description with a semicolon ( ; )"),y(),U(29,"textarea",31),Ie(30,J8,2,0,"div",24),y()(),g(31,"div",20)(32,"div",21)(33,"label",32),E(34,"Qualification *"),y(),g(35,"p",30),E(36,"Separate each qualification with a semicolon ( ; )"),y(),U(37,"textarea",33),Ie(38,X8,2,0,"div",24),y()(),Ie(39,Z8,2,1,"button",34)(40,e9,2,1,"button",35),y()()}if(n&2){let t,i,r,o,s,a=$e();I(5),se("formGroup",a.jobForm),I(6),se("ngIf",((t=a.jobForm.get("name"))==null?null:t.invalid)&&((t=a.jobForm.get("name"))==null?null:t.touched)),I(6),se("ngIf",((i=a.jobForm.get("location"))==null?null:i.invalid)&&((i=a.jobForm.get("location"))==null?null:i.touched)),I(5),se("ngIf",((r=a.jobForm.get("type"))==null?null:r.invalid)&&((r=a.jobForm.get("type"))==null?null:r.touched)),I(8),se("ngIf",((o=a.jobForm.get("description"))==null?null:o.invalid)&&((o=a.jobForm.get("description"))==null?null:o.touched)),I(8),se("ngIf",((s=a.jobForm.get("qualifications"))==null?null:s.invalid)&&((s=a.jobForm.get("qualifications"))==null?null:s.touched)),I(),se("ngIf",a.isEdit),I(),se("ngIf",!a.isEdit)}}var NP=(()=>{class n{constructor(t,i){this.fb=t,this.dataService=i,this.jobs=[],this.isEdit=!1,this.editingJobId="",this.modalService=V(Mr),this.jobForm=this.fb.group({name:["",_t.required],description:["",_t.required],location:["",_t.required],type:["",_t.required],qualifications:["",_t.required]})}ngOnInit(){this.loadData()}openVerticallyCentered(t){this.jobForm.reset(),this.editingJobId="",this.isEdit=!1,this.modalService.open(t,{centered:!0,size:"lg"})}loadData(){return k(this,null,function*(){this.jobs=yield this.dataService.fetchData()})}saveData(){return k(this,null,function*(){let t={name:this.jobForm.get("name")?.value,description:this.jobForm.get("description")?.value,qualifications:this.jobForm.get("qualifications")?.value,type:this.jobForm.get("type")?.value,location:this.jobForm.get("location")?.value};yield this.dataService.saveData(t),this.loadData(),this.modalService.dismissAll()})}deleteData(t){return k(this,null,function*(){confirm("Are you sure you want to delete this job?")&&(yield this.dataService.deleteData(t),this.loadData())})}updateData(){return k(this,null,function*(){let t={name:this.jobForm.get("name")?.value,description:this.jobForm.get("description")?.value,qualifications:this.jobForm.get("qualifications")?.value,type:this.jobForm.get("type")?.value,location:this.jobForm.get("location")?.value};yield this.dataService.updateData(this.editingJobId,t),this.modalService.dismissAll(),this.loadData()})}openEditModal(t){this.jobForm.reset(),this.jobForm.patchValue({name:t.name,description:t.description,qualifications:t.qualifications,type:t.type,location:t.location}),this.isEdit=!0,this.editingJobId=t.id,this.modalService.open(this.longContent,{centered:!0,size:"lg"})}onSubmit(){this.jobForm.valid&&(this.isEdit||this.saveData())}static{this.\u0275fac=function(i){return new(i||n)(H(cl),H(ag))}}static{this.\u0275cmp=Se({type:n,selectors:[["app-job-management"]],viewQuery:function(i,r){if(i&1&&oo(q8,5),i&2){let o;Er(o=br())&&(r.longContent=o.first)}},standalone:!0,features:[Ae],decls:12,vars:1,consts:[["longContent",""],[1,"services-image-container"],["src","assets/job-management.jpg","alt","Background",1,"background-image",2,"filter","brightness(0.4)"],[1,"text-overlay"],[1,"search-container"],["type","submit",1,"search-button",3,"click"],[1,"row","jobs-row"],["class","col-sm-3",4,"ngFor","ngForOf"],[1,"col-sm-3"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-outline-primary","mb-2","me-2","edit-btn",3,"click"],[1,"btn","btn-outline-primary","mb-2","me-2","apply-btn",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body",2,"padding","5vh"],[3,"ngSubmit","formGroup"],[1,"form-row"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","name","maxlength","40"],["class","error",4,"ngIf"],["for","location"],["type","text","id","location","formControlName","location","maxlength","50"],["for","type"],["type","text","id","type","formControlName","type","maxlength","15"],["for","description"],[2,"color","gray","font-size","x-small"],["id","description","formControlName","description","rows","5"],["for","qualifications"],["id","qualifications","formControlName","qualifications","rows","5"],["class","submit-btn",3,"disabled","click",4,"ngIf"],["type","submit","class","submit-btn",3,"disabled",4,"ngIf"],[1,"error"],[1,"submit-btn",3,"click","disabled"],["type","submit",1,"submit-btn",3,"disabled"]],template:function(i,r){if(i&1){let o=Zt();g(0,"div",1),U(1,"img",2),g(2,"div",3)(3,"h1"),E(4,"Jobs Portal"),y()()(),g(5,"div",4)(6,"button",5),me("click",function(){it(o);let a=$a(11);return rt(r.openVerticallyCentered(a))}),E(7,"Add new"),y()(),g(8,"div",6),Ie(9,W8,11,3,"div",7),y(),Ie(10,t9,41,8,"ng-template",null,0,so)}i&2&&(I(9),se("ngForOf",r.jobs))},dependencies:[Bn,Jf,za,mo,ll,po,sl,al,fs,ds,hs],styles:[".services-image-container[_ngcontent-%COMP%]{position:relative;height:50vh;width:100%;overflow:hidden}.background-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.text-overlay[_ngcontent-%COMP%]{position:absolute;bottom:20%;left:10%;color:#fff;padding:10px 20px;border-radius:5px;font-family:Archivo Black,sans-serif;font-size:large}.text-overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Archivo Black,sans-serif;font-size:4rem}.text-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:DM Sans,sans-serif;font-size:1.5rem}.search-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;width:100%;margin-top:5vh}.search-form[_ngcontent-%COMP%]{display:flex;gap:10px}.search-input[_ngcontent-%COMP%]{padding:10px;font-size:16px;border:1px solid #ccc;border-radius:5px;width:300px}.search-button[_ngcontent-%COMP%]{padding:10px 20px;font-size:16px;border:none;background-color:#4057d0;color:#fff;border-radius:5px;cursor:pointer}.search-button[_ngcontent-%COMP%]:hover{background-color:#333}.jobs-row[_ngcontent-%COMP%]{margin-left:5vh;margin-right:5vh;margin-top:4vh}.apply-btn[_ngcontent-%COMP%]{border-color:#4057d0;color:#4057d0;font-size:small}.edit-btn[_ngcontent-%COMP%]{background-color:#4057d0;color:#fff;font-size:small}.apply-btn[_ngcontent-%COMP%]:hover{background-color:#fff;border-color:#4057d0;color:#4057d0}.card[_ngcontent-%COMP%]{margin-bottom:3vh}#jobForm[_ngcontent-%COMP%]{width:100%;padding:5rem;background:#fff;border-radius:10px;box-shadow:0 4px 10px #0000001a}.form-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:.5rem}.form-group[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.5rem;font-size:small}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #ccc;border-radius:5px;font-size:1rem}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#4057d0;outline:none}.error[_ngcontent-%COMP%]{color:red;font-size:.575rem;margin-top:.5rem;font-family:DM Sans,sans-serif}.submit-btn[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:linear-gradient(45deg,#4057d0,#999ef1);color:#fff;border:none;border-radius:25px;font-size:1rem;cursor:pointer;font-weight:700;margin:0 auto;display:block;width:100px;margin-top:2vh}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.submit-btn[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 10px 20px #0000001a;cursor:pointer}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:gray;cursor:not-allowed;opacity:.6}.error[_ngcontent-%COMP%]{color:red;font-size:.6rem;margin-top:5px}input.ng-invalid.ng-touched[_ngcontent-%COMP%], textarea.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}input.ng-valid.ng-touched[_ngcontent-%COMP%], textarea.ng-valid.ng-touched[_ngcontent-%COMP%]{border:1px solid green}@media only screen and (max-width: 768px){.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.form-group[_ngcontent-%COMP%]{flex:none}}"]})}}return n})();var xP=[{path:"",component:Ex},{path:"about",component:bx},{path:"contact",component:Ix},{path:"iot",component:Cx},{path:"strategic",component:Tx},{path:"software-engineering",component:Dx},{path:"sustainability",component:Sx},{path:"team-extension",component:Ax},{path:"quality-lifecycle-management",component:Mx},{path:"career",component:MP},{path:"job-management",component:NP}];var RP={production:!1,firebaseConfig:{apiKey:"AIzaSyB17KcWJCkRz0UYy9CCQp3zTiyk_F_EzhA",authDomain:"hykmann-e52d9.firebaseapp.com",projectId:"hykmann-e52d9",storageBucket:"hykmann-e52d9.firebasestorage.app",messagingSenderId:"1055220815139",appId:"1:1055220815139:web:1880296eb6df093deca896"}};var OP="@firebase/database",PP="1.0.8";var w1="";function n9(n){w1=n}var NI=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ht(t))}get(e){let t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:vl(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var xI=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Ki(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var hk=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){let e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new NI(e)}}catch{}return new xI},Ys=hk("localStorage"),RI=hk("sessionStorage");var Kl=new Qi("@firebase/database"),i9=function(){let n=1;return function(){return n++}}(),fk=function(n){let e=zx(n),t=new Jp;t.update(e);let i=t.digest();return Xp.encodeByteArray(i)},Hd=function(...n){let e="";for(let t=0;t<n.length;t++){let i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Hd.apply(null,i):typeof i=="object"?e+=Ht(i):e+=i,e+=" "}return e},Js=null,kP=!0,r9=function(n,e){K(!e||n===!0||n===!1,"Can't turn on custom loggers persistently."),n===!0?(Kl.logLevel=be.VERBOSE,Js=Kl.log.bind(Kl),e&&RI.set("logging_enabled",!0)):typeof n=="function"?Js=n:(Js=null,RI.remove("logging_enabled"))},dn=function(...n){if(kP===!0&&(kP=!1,Js===null&&RI.get("logging_enabled")===!0&&r9(!0)),Js){let e=Hd.apply(null,n);Js(e)}},Gd=function(n){return function(...e){dn(n,...e)}},OI=function(...n){let e="FIREBASE INTERNAL ERROR: "+Hd(...n);Kl.error(e)},Br=function(...n){let e=`FIREBASE FATAL ERROR: ${Hd(...n)}`;throw Kl.error(e),new Error(e)},Wn=function(...n){let e="FIREBASE WARNING: "+Hd(...n);Kl.warn(e)},o9=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Wn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},pk=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},s9=function(n){if(Wi()||document.readyState==="complete")n();else{let e=!1,t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Yl="[MIN_NAME]",Xs="[MAX_NAME]",ic=function(n,e){if(n===e)return 0;if(n===Yl||e===Xs)return-1;if(e===Yl||n===Xs)return 1;{let t=FP(n),i=FP(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},a9=function(n,e){return n===e?0:n<e?-1:1},xd=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Ht(e))},E1=function(n){if(typeof n!="object"||n===null)return Ht(n);let e=[];for(let i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=Ht(e[i]),t+=":",t+=E1(n[e[i]]);return t+="}",t},mk=function(n,e){let t=n.length;if(t<=e)return[n];let i=[];for(let r=0;r<t;r+=e)r+e>t?i.push(n.substring(r,t)):i.push(n.substring(r,r+e));return i};function li(n,e){for(let t in n)n.hasOwnProperty(t)&&e(t,n[t])}var gk=function(n){K(!pk(n),"Invalid JSON number");let e=11,t=52,i=(1<<e-1)-1,r,o,s,a,l;n===0?(o=0,s=0,r=1/n===-1/0?1:0):(r=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=a+i,s=Math.round(n*Math.pow(2,t-a)-Math.pow(2,t))):(o=0,s=Math.round(n/Math.pow(2,1-i-t))));let u=[];for(l=t;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(r?1:0),u.reverse();let d=u.join(""),f="";for(l=0;l<64;l+=8){let m=parseInt(d.substr(l,8),2).toString(16);m.length===1&&(m="0"+m),f=f+m}return f.toLowerCase()},l9=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},c9=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};var u9=new RegExp("^-?(0*)\\d{1,10}$"),d9=-2147483648,h9=2147483647,FP=function(n){if(u9.test(n)){let e=Number(n);if(e>=d9&&e<=h9)return e}return null},zd=function(n){try{n()}catch(e){setTimeout(()=>{let t=e.stack||"";throw Wn("Exception was thrown by user callback.",t),e},Math.floor(0))}},f9=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Fd=function(n,e){let t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};var PI=class{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Wn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var kI=class{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(dn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Wn(e)}},Ld=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}n.OWNER="owner";return n})(),cg="5",_k="v",vk="s",yk="r",wk="f",Ek=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,bk="ls",Ik="p",FI="ac",Ck="websocket",Tk="long_polling";var ug=class{constructor(e,t,i,r,o=!1,s="",a=!1,l=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ys.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ys.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}};function p9(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function Dk(n,e,t){K(typeof e=="string","typeof type must == string"),K(typeof t=="object","typeof params must == object");let i;if(e===Ck)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===Tk)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);p9(n)&&(t.ns=n.namespace);let r=[];return li(t,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}var LI=class{constructor(){this.counters_={}}incrementCounter(e,t=1){Ki(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Rx(this.counters_)}};var II={},CI={};function b1(n){let e=n.toString();return II[e]||(II[e]=new LI),II[e]}function m9(n,e){let t=n.toString();return CI[t]||(CI[t]=e()),CI[t]}var VI=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){let i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&zd(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var LP="start",g9="close",_9="pLPCommand",v9="pRTLPCB",Sk="id",Ak="pw",Mk="ser",y9="cb",w9="seg",E9="ts",b9="d",I9="dframe",Nk=1870,xk=30,C9=Nk-xk,T9=25e3,D9=3e4,BI=class n{constructor(e,t,i,r,o,s,a){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Gd(e),this.stats_=b1(t),this.urlFn=l=>(this.appCheckToken&&(l[FI]=this.appCheckToken),Dk(t,Tk,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new VI(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(D9)),s9(()=>{if(this.isClosed_)return;this.scriptTagHolder=new UI((...o)=>{let[s,a,l,u,d]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===LP)this.id=a,this.password=l;else if(s===g9)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let i={};i[LP]="t",i[Mk]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[y9]=this.scriptTagHolder.uniqueCallbackIdentifier),i[_k]=cg,this.transportSessionId&&(i[vk]=this.transportSessionId),this.lastSessionId&&(i[bk]=this.lastSessionId),this.applicationId&&(i[Ik]=this.applicationId),this.appCheckToken&&(i[FI]=this.appCheckToken),typeof location<"u"&&location.hostname&&Ek.test(location.hostname)&&(i[yk]=wk);let r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){n.forceAllow_=!0}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){return Wi()?!1:n.forceAllow_?!0:!n.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!l9()&&!c9()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let t=Ht(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let i=Sw(t),r=mk(i,C9);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Wi())return;this.myDisconnFrame=document.createElement("iframe");let i={};i[I9]="t",i[Sk]=e,i[Ak]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let t=Ht(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}},UI=class n{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Wi())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=i9(),window[_9+this.uniqueCallbackIdentifier]=e,window[v9+this.uniqueCallbackIdentifier]=t,this.myIFrame=n.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){dn("frame writing exception"),a.stack&&dn(a.stack),dn(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||dn("No IE domain setting required")}catch{let i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[Sk]=this.myID,e[Ak]=this.myPW,e[Mk]=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+xk+i.length<=Nk;){let s=this.pendingSegs.shift();i=i+"&"+w9+r+"="+s.seg+"&"+E9+r+"="+s.ts+"&"+b9+r+"="+s.d,r++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);let i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(T9)),o=()=>{clearTimeout(r),i()};this.addTag(e,o)}addTag(e,t){Wi()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;let i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){let r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{dn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}};var S9=16384,A9=45e3,dg=null;typeof MozWebSocket<"u"?dg=MozWebSocket:typeof WebSocket<"u"&&(dg=WebSocket);var Rd=(()=>{class n{constructor(t,i,r,o,s,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Gd(this.connId),this.stats_=b1(i),this.connURL=n.connectionURL_(i,a,l,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,o,s){let a={};return a[_k]=cg,!Wi()&&typeof location<"u"&&location.hostname&&Ek.test(location.hostname)&&(a[yk]=wk),i&&(a[vk]=i),r&&(a[bk]=r),o&&(a[FI]=o),s&&(a[Ik]=s),Dk(t,Ck,a)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ys.set("previous_websocket_failure",!0);try{let r;if(Wi()){let o=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${cg}/${w1}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new dg(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){let i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&dg!==null&&!n.forceDisallow_}static previouslyFailed(){return Ys.isInMemoryStorage||Ys.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ys.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){let i=this.frames.join("");this.frames=null;let r=vl(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(K(this.frames===null,"We already have a frame buffer"),t.length<=6){let i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;let i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{let r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();let i=Ht(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);let r=mk(i,S9);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(A9))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4;return n})(),M9=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[BI,Rd]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){let i=Rd&&Rd.isAvailable(),r=i&&!Rd.previouslyFailed();if(t.webSocketOnly&&(i||Wn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Rd];else{let o=this.transports_=[];for(let s of n.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}n.globalTransportInitialized_=!1;return n})(),N9=6e4,x9=5e3,R9=10*1024,O9=100*1024,TI="t",VP="d",P9="s",BP="r",k9="e",UP="o",jP="a",$P="n",HP="p",F9="h",jI=class{constructor(e,t,i,r,o,s,a,l,u,d){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Gd("c:"+this.id+":"),this.transportManager_=new M9(t),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));let r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Fd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>O9?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>R9?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){let t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(TI in e){let t=e[TI];t===jP?this.upgradeIfSecondaryHealthy_():t===BP?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===UP&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let t=xd("t",e),i=xd("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:HP,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:jP,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:$P,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let t=xd("t",e),i=xd("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let t=xd(TI,e);if(VP in e){let i=e[VP];if(t===F9){let r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(t===$P){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===P9?this.onConnectionShutdown_(i):t===BP?this.onReset_(i):t===k9?OI("Server Error: "+i):t===UP?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):OI("Unknown control packet command: "+t)}}onHandshake_(e){let t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),cg!==i&&Wn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Fd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(N9))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(x9))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:HP,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ys.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var hg=class{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}};var fg=class{constructor(e){this.allowedEvents_=e,this.listeners_={},K(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){let i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});let r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);let r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(e){K(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}};var pg=class n extends fg{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!qu()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new n}getInitialEvent(e){return K(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var GP=32,zP=768,Je=class{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}};function We(){return new Je("")}function Re(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ro(n){return n.pieces_.length-n.pieceNum_}function nt(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Je(n.pieces_,e)}function Rk(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function L9(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function Ok(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function Pk(n){if(n.pieceNum_>=n.pieces_.length)return null;let e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Je(e,0)}function qt(n,e){let t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Je)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{let i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Je(t,0)}function Me(n){return n.pieceNum_>=n.pieces_.length}function si(n,e){let t=Re(n),i=Re(e);if(t===null)return e;if(t===i)return si(nt(n),nt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function kk(n,e){if(Ro(n)!==Ro(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Ai(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Ro(n)>Ro(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}var $I=class{constructor(e,t){this.errorPrefix_=t,this.parts_=Ok(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Qu(this.parts_[i]);Fk(this)}};function V9(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Qu(e),Fk(n)}function B9(n){let e=n.parts_.pop();n.byteLength_-=Qu(e),n.parts_.length>0&&(n.byteLength_-=1)}function Fk(n){if(n.byteLength_>zP)throw new Error(n.errorPrefix_+"has a key path longer than "+zP+" bytes ("+n.byteLength_+").");if(n.parts_.length>GP)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+GP+") or object contains a cycle "+Qs(n))}function Qs(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}var HI=class n extends fg{constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{let i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new n}getInitialEvent(e){return K(e==="visible","Unknown event type: "+e),[this.visible_]}};var Od=1e3,U9=60*5*1e3,qP=30*1e3,j9=1.3,$9=3e4,H9="server_kill",WP=3,I1=(()=>{class n extends hg{constructor(t,i,r,o,s,a,l,u){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=n.nextPersistentConnectionId_++,this.log_=Gd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Od,this.maxReconnectDelay_=U9,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!Wi())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");HI.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&pg.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){let o=++this.requestNumber_,s={r:o,a:t,b:i};this.log_(Ht(s)),K(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();let i=new bs,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?i.resolve(l):i.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),i.promise}listen(t,i,r,o){this.initConnection_();let s=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),K(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),K(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:i,query:t,tag:r};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(t){let i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){let i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);let s={p:r},a="q";t.tag&&(s.q=i._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(a,s,l=>{let u=l.d,d=l.s;n.warnOnListenWarnings_(u,i),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",l),d!=="ok"&&this.removeListen_(r,o),t.onComplete&&t.onComplete(d,u))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&Ki(t,"w")){let r=Cs(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();Wn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||$x(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=qP)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let t=this.authToken_,i=jx(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{let s=o.s,a=o.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{let i=t.s,r=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){let r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),K(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,i)}sendUnlisten_(t,i,r,o){this.log_("Unlisten on "+t+" for "+i);let s={p:t},a="n";o&&(s.q=r,s.t=o),this.sendRequest(a,s)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,o){let s={p:i,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(t,i,r,o){this.putInternal("p",t,i,r,o)}merge(t,i,r,o){this.putInternal("m",t,i,r,o)}putInternal(t,i,r,o,s){this.initConnection_();let a={p:i,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:t,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+i)}sendPut_(t){let i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(t){if(this.connected_){let i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){let s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Ht(t));let i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):OI("Unrecognized action received from server: "+Ht(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){K(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Od,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Od,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>$9&&(this.reconnectDelay_=Od),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let t=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*j9)}this.onConnectStatus_(!1)}establishConnection_(){return k(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+n.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,u=function(){l?l.close():(a=!0,r())},d=function(m){K(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(m)};this.realtime_={close:u,sendRequest:d};let f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[m,_]=yield Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);a?dn("getToken() completed but was canceled"):(dn("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=_&&_.token,l=new jI(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,r,T=>{Wn(T+" ("+this.repoInfo_.toString()+")"),this.interrupt(H9)},s))}catch(m){this.log_("Failed to get token: "+m),a||(this.repoInfo_.nodeAdmin&&Wn(m),u())}}})}interrupt(t){dn("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){dn("Resuming connection for reason: "+t),delete this.interruptReasons_[t],im(this.interruptReasons_)&&(this.reconnectDelay_=Od,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){let i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){let i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;i?r=i.map(s=>E1(s)).join("$"):r="default";let o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){let r=new Je(t).toString(),o;if(this.listens.has(r)){let s=this.listens.get(r);o=s.get(i),s.delete(i),s.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,i){dn("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=WP&&(this.reconnectDelay_=qP,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){dn("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=WP&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let t of this.listens.values())for(let i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){let t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){let t={},i="js";Wi()&&(this.repoInfo_.nodeAdmin?i="admin_node":i="node"),t["sdk."+i+"."+w1.replace(/\./g,"-")]=1,qu()?t["framework.cordova"]=1:nm()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){let t=pg.getInstance().currentlyOnline();return im(this.interruptReasons_)&&t}}n.nextPersistentConnectionId_=0,n.nextConnectionId_=0;return n})(),Oe=class n{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new n(e,t)}};var Jl=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){let i=new Oe(Yl,e),r=new Oe(Yl,t);return this.compare(i,r)!==0}minPost(){return Oe.MIN}};var lg,mg=class extends Jl{static get __EMPTY_NODE(){return lg}static set __EMPTY_NODE(e){lg=e}compare(e,t){return ic(e.name,t.name)}isDefinedOn(e){throw Is("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Oe.MIN}maxPost(){return new Oe(Xs,lg)}makePost(e,t){return K(typeof e=="string","KeyIndex indexValue must always be a string."),new Oe(e,lg)}toString(){return".key"}},Ql=new mg;var ql=class{constructor(e,t,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=t?i(e.key,t):1,r&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Si=(()=>{class n{constructor(t,i,r,o,s){this.key=t,this.value=i,this.color=r??n.RED,this.left=o??ai.EMPTY_NODE,this.right=s??ai.EMPTY_NODE}copy(t,i,r,o,s){return new n(t??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this,s=r(t,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(t,i,r),null):s===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return ai.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,o;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(t,r.key)===0){if(r.right.isEmpty())return ai.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){let t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){let t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){let t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){let t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})(),GI=class{copy(e,t,i,r,o){return this}insert(e,t,i){return new Si(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},ai=class n{constructor(e,t=n.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new n(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Si.BLACK,null,null))}remove(e){return new n(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Si.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ql(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new ql(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new ql(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new ql(this.root_,null,this.comparator_,!0,e)}};ai.EMPTY_NODE=new GI;function G9(n,e){return ic(n.name,e.name)}function C1(n,e){return ic(n,e)}var zI;function z9(n){zI=n}var Lk=function(n){return typeof n=="number"?"number:"+gk(n):"string:"+n},Vk=function(n){if(n.isLeafNode()){let e=n.val();K(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ki(e,".sv"),"Priority must be a string or number.")}else K(n===zI||n.isEmpty(),"priority of unexpected type.");K(n===zI||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var KP,Xl=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,K(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Vk(this.priorityNode_)}static set __childrenNodeConstructor(t){KP=t}static get __childrenNodeConstructor(){return KP}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Me(t)?this:Re(t)===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){let r=Re(t);return r===null?i:i.isEmpty()&&r!==".priority"?this:(K(r!==".priority"||Ro(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(nt(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Lk(this.priorityNode_.val())+":");let i=typeof this.value_;t+=i+":",i==="number"?t+=gk(this.value_):t+=this.value_,this.lazyHash_=fk(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(K(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){let i=typeof t.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),s=n.VALUE_TYPE_ORDER.indexOf(r);return K(o>=0,"Unknown leaf type: "+i),K(s>=0,"Unknown leaf type: "+r),o===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){let i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}n.VALUE_TYPE_ORDER=["object","boolean","number","string"];return n})(),Bk,Uk;function q9(n){Bk=n}function W9(n){Uk=n}var qI=class extends Jl{compare(e,t){let i=e.node.getPriority(),r=t.node.getPriority(),o=i.compareTo(r);return o===0?ic(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Oe.MIN}maxPost(){return new Oe(Xs,new Xl("[PRIORITY-POST]",Uk))}makePost(e,t){let i=Bk(e);return new Oe(t,new Xl("[PRIORITY-POST]",i))}toString(){return".priority"}},fn=new qI;var K9=Math.log(2),WI=class{constructor(e){let t=o=>parseInt(Math.log(o)/K9,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;let r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},gg=function(n,e,t,i){n.sort(e);let r=function(l,u){let d=u-l,f,m;if(d===0)return null;if(d===1)return f=n[l],m=t?t(f):f,new Si(m,f.node,Si.BLACK,null,null);{let _=parseInt(d/2,10)+l,T=r(l,_),M=r(_+1,u);return f=n[_],m=t?t(f):f,new Si(m,f.node,Si.BLACK,T,M)}},o=function(l){let u=null,d=null,f=n.length,m=function(T,M){let N=f-T,B=f;f-=T;let z=r(N+1,B),$=n[N],W=t?t($):$;_(new Si(W,$.node,M,null,z))},_=function(T){u?(u.left=T,u=T):(d=T,u=T)};for(let T=0;T<l.count;++T){let M=l.nextBitIsOne(),N=Math.pow(2,l.count-(T+1));M?m(N,Si.BLACK):(m(N,Si.BLACK),m(N,Si.RED))}return d},s=new WI(n.length),a=o(s);return new ai(i||e,a)};var DI,zl={},Zl=class n{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return K(zl&&fn,"ChildrenNode.ts has not been loaded"),DI=DI||new n({".priority":zl},{".priority":fn}),DI}get(e){let t=Cs(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ai?t:null}hasIndex(e){return Ki(this.indexSet_,e.toString())}addIndex(e,t){K(e!==Ql,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let i=[],r=!1,o=t.getIterator(Oe.Wrap),s=o.getNext();for(;s;)r=r||e.isDefinedOn(s.node),i.push(s),s=o.getNext();let a;r?a=gg(i,e.getCompare()):a=zl;let l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;let d=Object.assign({},this.indexes_);return d[l]=a,new n(d,u)}addToIndexes(e,t){let i=Wu(this.indexes_,(r,o)=>{let s=Cs(this.indexSet_,o);if(K(s,"Missing index implementation for "+o),r===zl)if(s.isDefinedOn(e.node)){let a=[],l=t.getIterator(Oe.Wrap),u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),gg(a,s.getCompare())}else return zl;else{let a=t.get(e.name),l=r;return a&&(l=l.remove(new Oe(e.name,a))),l.insert(e,e.node)}});return new n(i,this.indexSet_)}removeFromIndexes(e,t){let i=Wu(this.indexes_,r=>{if(r===zl)return r;{let o=t.get(e.name);return o?r.remove(new Oe(e.name,o)):r}});return new n(i,this.indexSet_)}};var Pd,pt=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Vk(this.priorityNode_),this.children_.isEmpty()&&K(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Pd||(Pd=new n(new ai(C1),null,Zl.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Pd}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{let i=this.children_.get(t);return i===null?Pd:i}}getChild(t){let i=Re(t);return i===null?this:this.getImmediateChild(i).getChild(nt(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(K(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{let r=new Oe(t,i),o,s;i.isEmpty()?(o=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,i),s=this.indexMap_.addToIndexes(r,this.children_));let a=o.isEmpty()?Pd:this.priorityNode_;return new n(o,a,s)}}updateChild(t,i){let r=Re(t);if(r===null)return i;{K(Re(t)!==".priority"||Ro(t)===1,".priority must be the last token in a path");let o=this.getImmediateChild(r).updateChild(nt(t),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;let i={},r=0,o=0,s=!0;if(this.forEachChild(fn,(a,l)=>{i[a]=l.val(t),r++,s&&n.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!t&&s&&o<2*r){let a=[];for(let l in i)a[l]=i[l];return a}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Lk(this.getPriority().val())+":"),this.forEachChild(fn,(i,r)=>{let o=r.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":fk(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){let o=this.resolveIndex_(r);if(o){let s=o.getPredecessorKey(new Oe(t,i));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){let i=this.resolveIndex_(t);if(i){let r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){let i=this.getFirstChildName(t);return i?new Oe(i,this.children_.get(i)):null}getLastChildName(t){let i=this.resolveIndex_(t);if(i){let r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){let i=this.getLastChildName(t);return i?new Oe(i,this.children_.get(i)):null}forEachChild(t,i){let r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){let r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,o=>o);{let o=this.children_.getIteratorFrom(t.name,Oe.Wrap),s=o.peek();for(;s!=null&&i.compare(s,t)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){let r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,o=>o);{let o=this.children_.getReverseIteratorFrom(t.name,Oe.Wrap),s=o.peek();for(;s!=null&&i.compare(s,t)>0;)o.getNext(),s=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===qd?-1:0}withIndex(t){if(t===Ql||this.indexMap_.hasIndex(t))return this;{let i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Ql||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{let i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){let r=this.getIterator(fn),o=i.getIterator(fn),s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(t){return t===Ql?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})(),KI=class extends pt{constructor(){super(new ai(C1),pt.EMPTY_NODE,Zl.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return pt.EMPTY_NODE}isEmpty(){return!1}},qd=new KI;Object.defineProperties(Oe,{MIN:{value:new Oe(Yl,pt.EMPTY_NODE)},MAX:{value:new Oe(Xs,qd)}});mg.__EMPTY_NODE=pt.EMPTY_NODE;Xl.__childrenNodeConstructor=pt;z9(qd);W9(qd);var Q9=!0;function hn(n,e=null){if(n===null)return pt.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),K(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){let t=n;return new Xl(t,hn(e))}if(!(n instanceof Array)&&Q9){let t=[],i=!1;if(li(n,(s,a)=>{if(s.substring(0,1)!=="."){let l=hn(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),t.push(new Oe(s,l)))}}),t.length===0)return pt.EMPTY_NODE;let o=gg(t,G9,s=>s.name,C1);if(i){let s=gg(t,fn.getCompare());return new pt(o,hn(e),new Zl({".priority":s},{".priority":fn}))}else return new pt(o,hn(e),Zl.Default)}else{let t=pt.EMPTY_NODE;return li(n,(i,r)=>{if(Ki(n,i)&&i.substring(0,1)!=="."){let o=hn(r);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(hn(e))}}q9(hn);var QI=class extends Jl{constructor(e){super(),this.indexPath_=e,K(!Me(e)&&Re(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){let i=this.extractChild(e.node),r=this.extractChild(t.node),o=i.compareTo(r);return o===0?ic(e.name,t.name):o}makePost(e,t){let i=hn(e),r=pt.EMPTY_NODE.updateChild(this.indexPath_,i);return new Oe(t,r)}maxPost(){let e=pt.EMPTY_NODE.updateChild(this.indexPath_,qd);return new Oe(Xs,e)}toString(){return Ok(this.indexPath_,0).join("/")}};var YI=class extends Jl{compare(e,t){let i=e.node.compareTo(t.node);return i===0?ic(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Oe.MIN}maxPost(){return Oe.MAX}makePost(e,t){let i=hn(e);return new Oe(t,i)}toString(){return".value"}},Y9=new YI;function J9(n){return{type:"value",snapshotNode:n}}function X9(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Z9(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function QP(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function e7(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}var JI=class n{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=fn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return K(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return K(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Yl}hasEnd(){return this.endSet_}getIndexEndValue(){return K(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return K(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Xs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return K(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===fn}copy(){let e=new n;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function YP(n){let e={};if(n.isDefault())return e;let t;if(n.index_===fn?t="$priority":n.index_===Y9?t="$value":n.index_===Ql?t="$key":(K(n.index_ instanceof QI,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Ht(t),n.startSet_){let i=n.startAfterSet_?"startAfter":"startAt";e[i]=Ht(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+Ht(n.indexStartName_))}if(n.endSet_){let i=n.endBeforeSet_?"endBefore":"endAt";e[i]=Ht(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+Ht(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function JP(n){let e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==fn&&(e.i=n.index_.toString()),e}var XI=class n extends hg{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Gd("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(K(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=n.getListenId_(e,i),a={};this.listens_[s]=a;let l=YP(e._queryParams);this.restRequest_(o+".json",l,(u,d)=>{let f=d;if(u===404&&(f=null,u=null),u===null&&this.onDataUpdate_(o,f,!1,i),Cs(this.listens_,s)===a){let m;u?u===401?m="permission_denied":m="rest_error:"+u:m="ok",r(m,null)}})}unlisten(e,t){let i=n.getListenId_(e,t);delete this.listens_[i]}get(e){let t=YP(e._queryParams),i=e._path.toString(),r=new bs;return this.restRequest_(i+".json",t,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(t.auth=r.accessToken),o&&o.token&&(t.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ku(t);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=vl(a.responseText)}catch{Wn("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&Wn("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}};var ZI=class{constructor(){this.rootNode_=pt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}};function _g(){return{value:null,children:new Map}}function jk(n,e,t){if(Me(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{let i=Re(e);n.children.has(i)||n.children.set(i,_g());let r=n.children.get(i);e=nt(e),jk(r,e,t)}}function e1(n,e,t){n.value!==null?t(e,n.value):t7(n,(i,r)=>{let o=new Je(e.toString()+"/"+i);e1(r,o,t)})}function t7(n,e){n.children.forEach((t,i)=>{e(i,t)})}var t1=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),t=Object.assign({},e);return this.last_&&li(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}};var XP=10*1e3,n7=30*1e3,i7=5*60*1e3,n1=class{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new t1(e);let i=XP+(n7-XP)*Math.random();Fd(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){let e=this.statsListener_.get(),t={},i=!1;li(e,(r,o)=>{o>0&&Ki(this.statsToReport_,r)&&(t[r]=o,i=!0)}),i&&this.server_.reportStats(t),Fd(this.reportStats_.bind(this),Math.floor(Math.random()*2*i7))}};var Vr=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(Vr||{});function $k(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Hk(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Gk(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}var i1=class n{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Vr.ACK_USER_WRITE,this.source=$k()}operationForChild(e){if(Me(this.path)){if(this.affectedTree.value!=null)return K(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let t=this.affectedTree.subtree(new Je(e));return new n(We(),t,this.revert)}}else return K(Re(this.path)===e,"operationForChild called for unrelated child."),new n(nt(this.path),this.affectedTree,this.revert)}};var ec=class n{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Vr.OVERWRITE}operationForChild(e){return Me(this.path)?new n(this.source,We(),this.snap.getImmediateChild(e)):new n(this.source,nt(this.path),this.snap)}};var vg=class n{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Vr.MERGE}operationForChild(e){if(Me(this.path)){let t=this.children.subtree(new Je(e));return t.isEmpty()?null:t.value?new ec(this.source,We(),t.value):new n(this.source,We(),t)}else return K(Re(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new n(this.source,nt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Ud=class{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Me(e))return this.isFullyInitialized()&&!this.filtered_;let t=Re(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};function r7(n,e,t,i){let r=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&n.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(e7(s.childName,s.snapshotNode))}),kd(n,r,"child_removed",e,i,t),kd(n,r,"child_added",e,i,t),kd(n,r,"child_moved",o,i,t),kd(n,r,"child_changed",e,i,t),kd(n,r,"value",e,i,t),r}function kd(n,e,t,i,r,o){let s=i.filter(a=>a.type===t);s.sort((a,l)=>s7(n,a,l)),s.forEach(a=>{let l=o7(n,a,o);r.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,n.query_))})})}function o7(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function s7(n,e,t){if(e.childName==null||t.childName==null)throw Is("Should only compare child_ events.");let i=new Oe(e.childName,e.snapshotNode),r=new Oe(t.childName,t.snapshotNode);return n.index_.compare(i,r)}function zk(n,e){return{eventCache:n,serverCache:e}}function Vd(n,e,t,i){return zk(new Ud(e,t,i),n.serverCache)}function qk(n,e,t,i){return zk(n.eventCache,new Ud(e,t,i))}function r1(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Zs(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}var SI,a7=()=>(SI||(SI=new ai(a9)),SI),Nn=class n{constructor(e,t=a7()){this.value=e,this.children=t}static fromObject(e){let t=new n(null);return li(e,(i,r)=>{t=t.set(new Je(i),r)}),t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:We(),value:this.value};if(Me(e))return null;{let i=Re(e),r=this.children.get(i);if(r!==null){let o=r.findRootMostMatchingPathAndValue(nt(e),t);return o!=null?{path:qt(new Je(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Me(e))return this;{let t=Re(e),i=this.children.get(t);return i!==null?i.subtree(nt(e)):new n(null)}}set(e,t){if(Me(e))return new n(t,this.children);{let i=Re(e),o=(this.children.get(i)||new n(null)).set(nt(e),t),s=this.children.insert(i,o);return new n(this.value,s)}}remove(e){if(Me(e))return this.children.isEmpty()?new n(null):new n(null,this.children);{let t=Re(e),i=this.children.get(t);if(i){let r=i.remove(nt(e)),o;return r.isEmpty()?o=this.children.remove(t):o=this.children.insert(t,r),this.value===null&&o.isEmpty()?new n(null):new n(this.value,o)}else return this}}get(e){if(Me(e))return this.value;{let t=Re(e),i=this.children.get(t);return i?i.get(nt(e)):null}}setTree(e,t){if(Me(e))return t;{let i=Re(e),o=(this.children.get(i)||new n(null)).setTree(nt(e),t),s;return o.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,o),new n(this.value,s)}}fold(e){return this.fold_(We(),e)}fold_(e,t){let i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(qt(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,We(),t)}findOnPath_(e,t,i){let r=this.value?i(t,this.value):!1;if(r)return r;if(Me(e))return null;{let o=Re(e),s=this.children.get(o);return s?s.findOnPath_(nt(e),qt(t,o),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,We(),t)}foreachOnPath_(e,t,i){if(Me(e))return this;{this.value&&i(t,this.value);let r=Re(e),o=this.children.get(r);return o?o.foreachOnPath_(nt(e),qt(t,r),i):new n(null)}}foreach(e){this.foreach_(We(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(qt(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}};var Mi=class n{constructor(e){this.writeTree_=e}static empty(){return new n(new Nn(null))}};function Bd(n,e,t){if(Me(e))return new Mi(new Nn(t));{let i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){let r=i.path,o=i.value,s=si(r,e);return o=o.updateChild(s,t),new Mi(n.writeTree_.set(r,o))}else{let r=new Nn(t),o=n.writeTree_.setTree(e,r);return new Mi(o)}}}function ZP(n,e,t){let i=n;return li(t,(r,o)=>{i=Bd(i,qt(e,r),o)}),i}function ek(n,e){if(Me(e))return Mi.empty();{let t=n.writeTree_.setTree(e,new Nn(null));return new Mi(t)}}function o1(n,e){return ea(n,e)!=null}function ea(n,e){let t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(si(t.path,e)):null}function tk(n){let e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(fn,(i,r)=>{e.push(new Oe(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new Oe(i,r.value))}),e}function xo(n,e){if(Me(e))return n;{let t=ea(n,e);return t!=null?new Mi(new Nn(t)):new Mi(n.writeTree_.subtree(e))}}function s1(n){return n.writeTree_.isEmpty()}function tc(n,e){return Wk(We(),n.writeTree_,e)}function Wk(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{r===".priority"?(K(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):t=Wk(qt(n,r),o,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(qt(n,".priority"),i)),t}}function Kk(n,e){return Zk(e,n)}function l7(n,e,t,i,r){K(i>n.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=Bd(n.visibleWrites,e,t)),n.lastWriteId=i}function c7(n,e){for(let t=0;t<n.allWrites.length;t++){let i=n.allWrites[t];if(i.writeId===e)return i}return null}function u7(n,e){let t=n.allWrites.findIndex(a=>a.writeId===e);K(t>=0,"removeWrite called with nonexistent writeId.");let i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,o=!1,s=n.allWrites.length-1;for(;r&&s>=0;){let a=n.allWrites[s];a.visible&&(s>=t&&d7(a,i.path)?r=!1:Ai(i.path,a.path)&&(o=!0)),s--}if(r){if(o)return h7(n),!0;if(i.snap)n.visibleWrites=ek(n.visibleWrites,i.path);else{let a=i.children;li(a,l=>{n.visibleWrites=ek(n.visibleWrites,qt(i.path,l))})}return!0}else return!1}function d7(n,e){if(n.snap)return Ai(n.path,e);for(let t in n.children)if(n.children.hasOwnProperty(t)&&Ai(qt(n.path,t),e))return!0;return!1}function h7(n){n.visibleWrites=Qk(n.allWrites,f7,We()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function f7(n){return n.visible}function Qk(n,e,t){let i=Mi.empty();for(let r=0;r<n.length;++r){let o=n[r];if(e(o)){let s=o.path,a;if(o.snap)Ai(t,s)?(a=si(t,s),i=Bd(i,a,o.snap)):Ai(s,t)&&(a=si(s,t),i=Bd(i,We(),o.snap.getChild(a)));else if(o.children){if(Ai(t,s))a=si(t,s),i=ZP(i,a,o.children);else if(Ai(s,t))if(a=si(s,t),Me(a))i=ZP(i,We(),o.children);else{let l=Cs(o.children,Re(a));if(l){let u=l.getChild(nt(a));i=Bd(i,We(),u)}}}else throw Is("WriteRecord should have .snap or .children")}}return i}function Yk(n,e,t,i,r){if(!i&&!r){let o=ea(n.visibleWrites,e);if(o!=null)return o;{let s=xo(n.visibleWrites,e);if(s1(s))return t;if(t==null&&!o1(s,We()))return null;{let a=t||pt.EMPTY_NODE;return tc(s,a)}}}else{let o=xo(n.visibleWrites,e);if(!r&&s1(o))return t;if(!r&&t==null&&!o1(o,We()))return null;{let s=function(u){return(u.visible||r)&&(!i||!~i.indexOf(u.writeId))&&(Ai(u.path,e)||Ai(e,u.path))},a=Qk(n.allWrites,s,e),l=t||pt.EMPTY_NODE;return tc(a,l)}}}function p7(n,e,t){let i=pt.EMPTY_NODE,r=ea(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(fn,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(t){let o=xo(n.visibleWrites,e);return t.forEachChild(fn,(s,a)=>{let l=tc(xo(o,new Je(s)),a);i=i.updateImmediateChild(s,l)}),tk(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}else{let o=xo(n.visibleWrites,e);return tk(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}}function m7(n,e,t,i,r){K(i||r,"Either existingEventSnap or existingServerSnap must exist");let o=qt(e,t);if(o1(n.visibleWrites,o))return null;{let s=xo(n.visibleWrites,o);return s1(s)?r.getChild(t):tc(s,r.getChild(t))}}function g7(n,e,t,i){let r=qt(e,t),o=ea(n.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(t)){let s=xo(n.visibleWrites,r);return tc(s,i.getNode().getImmediateChild(t))}else return null}function _7(n,e){return ea(n.visibleWrites,e)}function v7(n,e,t,i,r,o,s){let a,l=xo(n.visibleWrites,e),u=ea(l,We());if(u!=null)a=u;else if(t!=null)a=tc(l,t);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let d=[],f=s.getCompare(),m=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s),_=m.getNext();for(;_&&d.length<r;)f(_,i)!==0&&d.push(_),_=m.getNext();return d}else return[]}function y7(){return{visibleWrites:Mi.empty(),allWrites:[],lastWriteId:-1}}function a1(n,e,t,i){return Yk(n.writeTree,n.treePath,e,t,i)}function Jk(n,e){return p7(n.writeTree,n.treePath,e)}function nk(n,e,t,i){return m7(n.writeTree,n.treePath,e,t,i)}function yg(n,e){return _7(n.writeTree,qt(n.treePath,e))}function w7(n,e,t,i,r,o){return v7(n.writeTree,n.treePath,e,t,i,r,o)}function T1(n,e,t){return g7(n.writeTree,n.treePath,e,t)}function Xk(n,e){return Zk(qt(n.treePath,e),n.writeTree)}function Zk(n,e){return{treePath:n,writeTree:e}}var l1=class{constructor(){this.changeMap=new Map}trackChildChange(e){let t=e.type,i=e.childName;K(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),K(i!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(i);if(r){let o=r.type;if(t==="child_added"&&o==="child_removed")this.changeMap.set(i,QP(i,e.snapshotNode,r.snapshotNode));else if(t==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&o==="child_changed")this.changeMap.set(i,Z9(i,r.oldSnap));else if(t==="child_changed"&&o==="child_added")this.changeMap.set(i,X9(i,e.snapshotNode));else if(t==="child_changed"&&o==="child_changed")this.changeMap.set(i,QP(i,e.snapshotNode,r.oldSnap));else throw Is("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}};var c1=class{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}},eF=new c1,jd=class{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){let t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{let i=this.optCompleteServerCache_!=null?new Ud(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return T1(this.writes_,e,i)}}getChildAfterChild(e,t,i){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Zs(this.viewCache_),o=w7(this.writes_,r,t,1,i,e);return o.length===0?null:o[0]}};function E7(n,e){K(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),K(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function b7(n,e,t,i,r){let o=new l1,s,a;if(t.type===Vr.OVERWRITE){let u=t;u.source.fromUser?s=u1(n,e,u.path,u.snap,i,r,o):(K(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Me(u.path),s=wg(n,e,u.path,u.snap,i,r,a,o))}else if(t.type===Vr.MERGE){let u=t;u.source.fromUser?s=C7(n,e,u.path,u.children,i,r,o):(K(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),s=d1(n,e,u.path,u.children,i,r,a,o))}else if(t.type===Vr.ACK_USER_WRITE){let u=t;u.revert?s=S7(n,e,u.path,i,r,o):s=T7(n,e,u.path,u.affectedTree,i,r,o)}else if(t.type===Vr.LISTEN_COMPLETE)s=D7(n,e,t.path,i,o);else throw Is("Unknown operation type: "+t.type);let l=o.getChanges();return I7(e,s,l),{viewCache:s,changes:l}}function I7(n,e,t){let i=e.eventCache;if(i.isFullyInitialized()){let r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=r1(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(J9(r1(e)))}}function tF(n,e,t,i,r,o){let s=e.eventCache;if(yg(i,t)!=null)return e;{let a,l;if(Me(t))if(K(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let u=Zs(e),d=u instanceof pt?u:pt.EMPTY_NODE,f=Jk(i,d);a=n.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{let u=a1(i,Zs(e));a=n.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{let u=Re(t);if(u===".priority"){K(Ro(t)===1,"Can't have a priority with additional path components");let d=s.getNode();l=e.serverCache.getNode();let f=nk(i,t,d,l);f!=null?a=n.filter.updatePriority(d,f):a=s.getNode()}else{let d=nt(t),f;if(s.isCompleteForChild(u)){l=e.serverCache.getNode();let m=nk(i,t,s.getNode(),l);m!=null?f=s.getNode().getImmediateChild(u).updateChild(d,m):f=s.getNode().getImmediateChild(u)}else f=T1(i,u,e.serverCache);f!=null?a=n.filter.updateChild(s.getNode(),u,f,d,r,o):a=s.getNode()}}return Vd(e,a,s.isFullyInitialized()||Me(t),n.filter.filtersNodes())}}function wg(n,e,t,i,r,o,s,a){let l=e.serverCache,u,d=s?n.filter:n.filter.getIndexedFilter();if(Me(t))u=d.updateFullNode(l.getNode(),i,null);else if(d.filtersNodes()&&!l.isFiltered()){let _=l.getNode().updateChild(t,i);u=d.updateFullNode(l.getNode(),_,null)}else{let _=Re(t);if(!l.isCompleteForPath(t)&&Ro(t)>1)return e;let T=nt(t),N=l.getNode().getImmediateChild(_).updateChild(T,i);_===".priority"?u=d.updatePriority(l.getNode(),N):u=d.updateChild(l.getNode(),_,N,T,eF,null)}let f=qk(e,u,l.isFullyInitialized()||Me(t),d.filtersNodes()),m=new jd(r,f,o);return tF(n,f,t,r,m,a)}function u1(n,e,t,i,r,o,s){let a=e.eventCache,l,u,d=new jd(r,e,o);if(Me(t))u=n.filter.updateFullNode(e.eventCache.getNode(),i,s),l=Vd(e,u,!0,n.filter.filtersNodes());else{let f=Re(t);if(f===".priority")u=n.filter.updatePriority(e.eventCache.getNode(),i),l=Vd(e,u,a.isFullyInitialized(),a.isFiltered());else{let m=nt(t),_=a.getNode().getImmediateChild(f),T;if(Me(m))T=i;else{let M=d.getCompleteChild(f);M!=null?Rk(m)===".priority"&&M.getChild(Pk(m)).isEmpty()?T=M:T=M.updateChild(m,i):T=pt.EMPTY_NODE}if(_.equals(T))l=e;else{let M=n.filter.updateChild(a.getNode(),f,T,m,d,s);l=Vd(e,M,a.isFullyInitialized(),n.filter.filtersNodes())}}}return l}function ik(n,e){return n.eventCache.isCompleteForChild(e)}function C7(n,e,t,i,r,o,s){let a=e;return i.foreach((l,u)=>{let d=qt(t,l);ik(e,Re(d))&&(a=u1(n,a,d,u,r,o,s))}),i.foreach((l,u)=>{let d=qt(t,l);ik(e,Re(d))||(a=u1(n,a,d,u,r,o,s))}),a}function rk(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function d1(n,e,t,i,r,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Me(t)?u=i:u=new Nn(null).setTree(t,i);let d=e.serverCache.getNode();return u.children.inorderTraversal((f,m)=>{if(d.hasChild(f)){let _=e.serverCache.getNode().getImmediateChild(f),T=rk(n,_,m);l=wg(n,l,new Je(f),T,r,o,s,a)}}),u.children.inorderTraversal((f,m)=>{let _=!e.serverCache.isCompleteForChild(f)&&m.value===null;if(!d.hasChild(f)&&!_){let T=e.serverCache.getNode().getImmediateChild(f),M=rk(n,T,m);l=wg(n,l,new Je(f),M,r,o,s,a)}}),l}function T7(n,e,t,i,r,o,s){if(yg(r,t)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(Me(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return wg(n,e,t,l.getNode().getChild(t),r,o,a,s);if(Me(t)){let u=new Nn(null);return l.getNode().forEachChild(Ql,(d,f)=>{u=u.set(new Je(d),f)}),d1(n,e,t,u,r,o,a,s)}else return e}else{let u=new Nn(null);return i.foreach((d,f)=>{let m=qt(t,d);l.isCompleteForPath(m)&&(u=u.set(d,l.getNode().getChild(m)))}),d1(n,e,t,u,r,o,a,s)}}function D7(n,e,t,i,r){let o=e.serverCache,s=qk(e,o.getNode(),o.isFullyInitialized()||Me(t),o.isFiltered());return tF(n,s,t,i,eF,r)}function S7(n,e,t,i,r,o){let s;if(yg(i,t)!=null)return e;{let a=new jd(i,e,r),l=e.eventCache.getNode(),u;if(Me(t)||Re(t)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=a1(i,Zs(e));else{let f=e.serverCache.getNode();K(f instanceof pt,"serverChildren would be complete if leaf node"),d=Jk(i,f)}d=d,u=n.filter.updateFullNode(l,d,o)}else{let d=Re(t),f=T1(i,d,e.serverCache);f==null&&e.serverCache.isCompleteForChild(d)&&(f=l.getImmediateChild(d)),f!=null?u=n.filter.updateChild(l,d,f,nt(t),a,o):e.eventCache.getNode().hasChild(d)?u=n.filter.updateChild(l,d,pt.EMPTY_NODE,nt(t),a,o):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=a1(i,Zs(e)),s.isLeafNode()&&(u=n.filter.updateFullNode(u,s,o)))}return s=e.serverCache.isFullyInitialized()||yg(i,We())!=null,Vd(e,u,s,n.filter.filtersNodes())}}function A7(n,e){let t=Zs(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Me(e)&&!t.getImmediateChild(Re(e)).isEmpty())?t.getChild(e):null}function ok(n,e,t,i){e.type===Vr.MERGE&&e.source.queryId!==null&&(K(Zs(n.viewCache_),"We should always have a full cache before handling merges"),K(r1(n.viewCache_),"Missing event cache, even though we have a server cache"));let r=n.viewCache_,o=b7(n.processor_,r,e,t,i);return E7(n.processor_,o.viewCache),K(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,M7(n,o.changes,o.viewCache.eventCache.getNode(),null)}function M7(n,e,t,i){let r=i?[i]:n.eventRegistrations_;return r7(n.eventGenerator_,e,t,r)}var sk;function N7(n){K(!sk,"__referenceConstructor has already been defined"),sk=n}function D1(n,e,t,i){let r=e.source.queryId;if(r!==null){let o=n.views.get(r);return K(o!=null,"SyncTree gave us an op for an invalid query."),ok(o,e,t,i)}else{let o=[];for(let s of n.views.values())o=o.concat(ok(s,e,t,i));return o}}function S1(n,e){let t=null;for(let i of n.views.values())t=t||A7(i,e);return t}var ak;function x7(n){K(!ak,"__referenceConstructor has already been defined"),ak=n}var Eg=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Nn(null),this.pendingWriteTree_=y7(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function R7(n,e,t,i,r){return l7(n.pendingWriteTree_,e,t,i,r),r?Ig(n,new ec($k(),e,t)):[]}function Wl(n,e,t=!1){let i=c7(n.pendingWriteTree_,e);if(u7(n.pendingWriteTree_,e)){let o=new Nn(null);return i.snap!=null?o=o.set(We(),!0):li(i.children,s=>{o=o.set(new Je(s),!0)}),Ig(n,new i1(i.path,o,t))}else return[]}function bg(n,e,t){return Ig(n,new ec(Hk(),e,t))}function O7(n,e,t){let i=Nn.fromObject(t);return Ig(n,new vg(Hk(),e,i))}function P7(n,e,t,i){let r=oF(n,i);if(r!=null){let o=sF(r),s=o.path,a=o.queryId,l=si(s,e),u=new ec(Gk(a),l,t);return aF(n,s,u)}else return[]}function k7(n,e,t,i){let r=oF(n,i);if(r){let o=sF(r),s=o.path,a=o.queryId,l=si(s,e),u=Nn.fromObject(t),d=new vg(Gk(a),l,u);return aF(n,s,d)}else return[]}function nF(n,e,t){let r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(s,a)=>{let l=si(s,e),u=S1(a,l);if(u)return u});return Yk(r,e,o,t,!0)}function Ig(n,e){return iF(e,n.syncPointTree_,null,Kk(n.pendingWriteTree_,We()))}function iF(n,e,t,i){if(Me(n.path))return rF(n,e,t,i);{let r=e.get(We());t==null&&r!=null&&(t=S1(r,We()));let o=[],s=Re(n.path),a=n.operationForChild(s),l=e.children.get(s);if(l&&a){let u=t?t.getImmediateChild(s):null,d=Xk(i,s);o=o.concat(iF(a,l,u,d))}return r&&(o=o.concat(D1(r,n,i,t))),o}}function rF(n,e,t,i){let r=e.get(We());t==null&&r!=null&&(t=S1(r,We()));let o=[];return e.children.inorderTraversal((s,a)=>{let l=t?t.getImmediateChild(s):null,u=Xk(i,s),d=n.operationForChild(s);d&&(o=o.concat(rF(d,a,l,u)))}),r&&(o=o.concat(D1(r,n,i,t))),o}function oF(n,e){return n.tagToQueryMap.get(e)}function sF(n){let e=n.indexOf("$");return K(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Je(n.substr(0,e))}}function aF(n,e,t){let i=n.syncPointTree_.get(e);K(i,"Missing sync point for query tag that we're tracking");let r=Kk(n.pendingWriteTree_,e);return D1(i,t,r,null)}var h1=class n{constructor(e){this.node_=e}getImmediateChild(e){let t=this.node_.getImmediateChild(e);return new n(t)}node(){return this.node_}},f1=class n{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){let t=qt(this.path_,e);return new n(this.syncTree_,t)}node(){return nF(this.syncTree_,this.path_)}},F7=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},lk=function(n,e,t){if(!n||typeof n!="object")return n;if(K(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return L7(n[".sv"],e,t);if(typeof n[".sv"]=="object")return V7(n[".sv"],e);K(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},L7=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:K(!1,"Unexpected server value: "+n)}},V7=function(n,e,t){n.hasOwnProperty("increment")||K(!1,"Unexpected server value: "+JSON.stringify(n,null,2));let i=n.increment;typeof i!="number"&&K(!1,"Unexpected increment value: "+i);let r=e.node();if(K(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;let s=r.getValue();return typeof s!="number"?i:s+i},B7=function(n,e,t,i){return A1(e,new f1(t,n),i)},U7=function(n,e,t){return A1(n,new h1(e),t)};function A1(n,e,t){let i=n.getPriority().val(),r=lk(i,e.getImmediateChild(".priority"),t),o;if(n.isLeafNode()){let s=n,a=lk(s.getValue(),e,t);return a!==s.getValue()||r!==s.getPriority().val()?new Xl(a,hn(r)):n}else{let s=n;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new Xl(r))),s.forEachChild(fn,(a,l)=>{let u=A1(l,e.getImmediateChild(a),t);u!==l&&(o=o.updateImmediateChild(a,u))}),o}}var $d=class{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}};function M1(n,e){let t=e instanceof Je?e:new Je(e),i=n,r=Re(t);for(;r!==null;){let o=Cs(i.node.children,r)||{children:{},childCount:0};i=new $d(r,i,o),t=nt(t),r=Re(t)}return i}function rc(n){return n.node.value}function lF(n,e){n.node.value=e,p1(n)}function cF(n){return n.node.childCount>0}function j7(n){return rc(n)===void 0&&!cF(n)}function Cg(n,e){li(n.node.children,(t,i)=>{e(new $d(t,n,i))})}function uF(n,e,t,i){t&&!i&&e(n),Cg(n,r=>{uF(r,e,!0,i)}),t&&i&&e(n)}function $7(n,e,t){let i=t?n:n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Wd(n){return new Je(n.parent===null?n.name:Wd(n.parent)+"/"+n.name)}function p1(n){n.parent!==null&&H7(n.parent,n.name,n)}function H7(n,e,t){let i=j7(t),r=Ki(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,p1(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,p1(n))}var G7=/[\[\].#$\/\u0000-\u001F\u007F]/,z7=/[\[\].#$\u0000-\u001F\u007F]/,AI=10*1024*1024,dF=function(n){return typeof n=="string"&&n.length!==0&&!G7.test(n)},q7=function(n){return typeof n=="string"&&n.length!==0&&!z7.test(n)},W7=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),q7(n)};var hF=function(n,e,t){let i=t instanceof Je?new $I(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Qs(i));if(typeof e=="function")throw new Error(n+"contains a function "+Qs(i)+" with contents = "+e.toString());if(pk(e))throw new Error(n+"contains "+e.toString()+" "+Qs(i));if(typeof e=="string"&&e.length>AI/3&&Qu(e)>AI)throw new Error(n+"contains a string greater than "+AI+" utf8 bytes "+Qs(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,o=!1;if(li(e,(s,a)=>{if(s===".value")r=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!dF(s)))throw new Error(n+" contains an invalid key ("+s+") "+Qs(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);V9(i,s),hF(n,a,i),B9(i)}),r&&o)throw new Error(n+' contains ".value" child '+Qs(i)+" in addition to actual children.")}};var K7=function(n,e){let t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!dF(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!W7(t))throw new Error(Gx(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var m1=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Q7(n,e){let t=null;for(let i=0;i<e.length;i++){let r=e[i],o=r.getPath();t!==null&&!kk(o,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:o}),t.events.push(r)}t&&n.eventLists_.push(t)}function ta(n,e,t){Q7(n,t),Y7(n,i=>Ai(i,e)||Ai(e,i))}function Y7(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){let r=n.eventLists_[i];if(r){let o=r.path;e(o)?(J7(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function J7(n){for(let e=0;e<n.events.length;e++){let t=n.events[e];if(t!==null){n.events[e]=null;let i=t.getEventRunner();Js&&dn("event: "+t.toString()),zd(i)}}}var X7="repo_interrupt",Z7=25,g1=class{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new m1,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=_g(),this.transactionQueueTree_=new $d,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function eK(n,e,t){if(n.stats_=b1(n.repoInfo_),n.forceRestClient_||f9())n.server_=new XI(n.repoInfo_,(i,r,o,s)=>{ck(n,i,r,o,s)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>uk(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ht(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new I1(n.repoInfo_,e,(i,r,o,s)=>{ck(n,i,r,o,s)},i=>{uk(n,i)},i=>{nK(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=m9(n.repoInfo_,()=>new n1(n.stats_,n.server_)),n.infoData_=new ZI,n.infoSyncTree_=new Eg({startListening:(i,r,o,s)=>{let a=[],l=n.infoData_.getNode(i._path);return l.isEmpty()||(a=bg(n.infoSyncTree_,i._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),N1(n,"connected",!1),n.serverSyncTree_=new Eg({startListening:(i,r,o,s)=>(n.server_.listen(i,o,r,(a,l)=>{let u=s(a,l);ta(n.eventQueue_,i._path,u)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}function tK(n){let t=n.infoData_.getNode(new Je(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function fF(n){return F7({timestamp:tK(n)})}function ck(n,e,t,i,r){n.dataUpdateCount++;let o=new Je(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let s=[];if(r)if(i){let l=Wu(t,u=>hn(u));s=k7(n.serverSyncTree_,o,l,r)}else{let l=hn(t);s=P7(n.serverSyncTree_,o,l,r)}else if(i){let l=Wu(t,u=>hn(u));s=O7(n.serverSyncTree_,o,l)}else{let l=hn(t);s=bg(n.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=R1(n,o)),ta(n.eventQueue_,a,s)}function uk(n,e){N1(n,"connected",e),e===!1&&rK(n)}function nK(n,e){li(e,(t,i)=>{N1(n,t,i)})}function N1(n,e,t){let i=new Je("/.info/"+e),r=hn(t);n.infoData_.updateSnapshot(i,r);let o=bg(n.infoSyncTree_,i,r);ta(n.eventQueue_,i,o)}function iK(n){return n.nextWriteId_++}function rK(n){pF(n,"onDisconnectEvents");let e=fF(n),t=_g();e1(n.onDisconnect_,We(),(r,o)=>{let s=B7(r,o,n.serverSyncTree_,e);jk(t,r,s)});let i=[];e1(t,We(),(r,o)=>{i=i.concat(bg(n.serverSyncTree_,r,o));let s=lK(n,r);R1(n,s)}),n.onDisconnect_=_g(),ta(n.eventQueue_,We(),i)}function oK(n){n.persistentConnection_&&n.persistentConnection_.interrupt(X7)}function pF(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),dn(t,...e)}function mF(n,e,t){return nF(n.serverSyncTree_,e,t)||pt.EMPTY_NODE}function x1(n,e=n.transactionQueueTree_){if(e||Tg(n,e),rc(e)){let t=_F(n,e);K(t.length>0,"Sending zero length transaction queue"),t.every(r=>r.status===0)&&sK(n,Wd(e),t)}else cF(e)&&Cg(e,t=>{x1(n,t)})}function sK(n,e,t){let i=t.map(u=>u.currentWriteId),r=mF(n,e,i),o=r,s=r.hash();for(let u=0;u<t.length;u++){let d=t[u];K(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;let f=si(e,d.path);o=o.updateChild(f,d.currentOutputSnapshotRaw)}let a=o.val(!0),l=e;n.server_.put(l.toString(),a,u=>{pF(n,"transaction put response",{path:l.toString(),status:u});let d=[];if(u==="ok"){let f=[];for(let m=0;m<t.length;m++)t[m].status=2,d=d.concat(Wl(n.serverSyncTree_,t[m].currentWriteId)),t[m].onComplete&&f.push(()=>t[m].onComplete(null,!0,t[m].currentOutputSnapshotResolved)),t[m].unwatcher();Tg(n,M1(n.transactionQueueTree_,e)),x1(n,n.transactionQueueTree_),ta(n.eventQueue_,e,d);for(let m=0;m<f.length;m++)zd(f[m])}else{if(u==="datastale")for(let f=0;f<t.length;f++)t[f].status===3?t[f].status=4:t[f].status=0;else{Wn("transaction at "+l.toString()+" failed: "+u);for(let f=0;f<t.length;f++)t[f].status=4,t[f].abortReason=u}R1(n,e)}},s)}function R1(n,e){let t=gF(n,e),i=Wd(t),r=_F(n,t);return aK(n,r,i),i}function aK(n,e,t){if(e.length===0)return;let i=[],r=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],u=si(t,l.path),d=!1,f;if(K(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,f=l.abortReason,r=r.concat(Wl(n.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Z7)d=!0,f="maxretry",r=r.concat(Wl(n.serverSyncTree_,l.currentWriteId,!0));else{let m=mF(n,l.path,s);l.currentInputSnapshot=m;let _=e[a].update(m.val());if(_!==void 0){hF("transaction failed: Data returned ",_,l.path);let T=hn(_);typeof _=="object"&&_!=null&&Ki(_,".priority")||(T=T.updatePriority(m.getPriority()));let N=l.currentWriteId,B=fF(n),z=U7(T,m,B);l.currentOutputSnapshotRaw=T,l.currentOutputSnapshotResolved=z,l.currentWriteId=iK(n),s.splice(s.indexOf(N),1),r=r.concat(R7(n.serverSyncTree_,l.path,z,l.currentWriteId,l.applyLocally)),r=r.concat(Wl(n.serverSyncTree_,N,!0))}else d=!0,f="nodata",r=r.concat(Wl(n.serverSyncTree_,l.currentWriteId,!0))}ta(n.eventQueue_,t,r),r=[],d&&(e[a].status=2,function(m){setTimeout(m,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(f==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(f),!1,null))))}Tg(n,n.transactionQueueTree_);for(let a=0;a<i.length;a++)zd(i[a]);x1(n,n.transactionQueueTree_)}function gF(n,e){let t,i=n.transactionQueueTree_;for(t=Re(e);t!==null&&rc(i)===void 0;)i=M1(i,t),e=nt(e),t=Re(e);return i}function _F(n,e){let t=[];return vF(n,e,t),t.sort((i,r)=>i.order-r.order),t}function vF(n,e,t){let i=rc(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);Cg(e,r=>{vF(n,r,t)})}function Tg(n,e){let t=rc(e);if(t){let i=0;for(let r=0;r<t.length;r++)t[r].status!==2&&(t[i]=t[r],i++);t.length=i,lF(e,t.length>0?t:void 0)}Cg(e,i=>{Tg(n,i)})}function lK(n,e){let t=Wd(gF(n,e)),i=M1(n.transactionQueueTree_,e);return $7(i,r=>{MI(n,r)}),MI(n,i),uF(i,r=>{MI(n,r)}),t}function MI(n,e){let t=rc(e);if(t){let i=[],r=[],o=-1;for(let s=0;s<t.length;s++)t[s].status===3||(t[s].status===1?(K(o===s-1,"All SENT items should be at beginning of queue."),o=s,t[s].status=3,t[s].abortReason="set"):(K(t[s].status===0,"Unexpected transaction status in abort"),t[s].unwatcher(),r=r.concat(Wl(n.serverSyncTree_,t[s].currentWriteId,!0)),t[s].onComplete&&i.push(t[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?lF(e,void 0):t.length=o+1,ta(n.eventQueue_,Wd(e),r);for(let s=0;s<i.length;s++)zd(i[s])}}function cK(n){let e="",t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function uK(n){let e={};n.charAt(0)==="?"&&(n=n.substring(1));for(let t of n.split("&")){if(t.length===0)continue;let i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Wn(`Invalid query segment '${t}' in query '${n}'`)}return e}var dk=function(n,e){let t=dK(n),i=t.namespace;t.domain==="firebase.com"&&Br(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&Br("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||o9();let r=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new ug(t.host,t.secure,i,r,e,"",i!==t.subdomain),path:new Je(t.pathString)}},dK=function(n){let e="",t="",i="",r="",o="",s=!0,a="https",l=443;if(typeof n=="string"){let u=n.indexOf("//");u>=0&&(a=n.substring(0,u-1),n=n.substring(u+2));let d=n.indexOf("/");d===-1&&(d=n.length);let f=n.indexOf("?");f===-1&&(f=n.length),e=n.substring(0,Math.min(d,f)),d<f&&(r=cK(n.substring(d,f)));let m=uK(n.substring(Math.min(n.length,f)));u=e.indexOf(":"),u>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;let _=e.slice(0,u);if(_.toLowerCase()==="localhost")t="localhost";else if(_.split(".").length<=2)t=_;else{let T=e.indexOf(".");i=e.substring(0,T).toLowerCase(),t=e.substring(T+1),o=i}"ns"in m&&(o=m.ns)}return{host:e,port:l,domain:t,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};var _1=class n{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return Me(this._path)?null:Rk(this._path)}get ref(){return new nc(this._repo,this._path)}get _queryIdentifier(){let e=JP(this._queryParams),t=E1(e);return t==="{}"?"default":t}get _queryObject(){return JP(this._queryParams)}isEqual(e){if(e=Gt(e),!(e instanceof n))return!1;let t=this._repo===e._repo,i=kk(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+L9(this._path)}};var nc=class n extends _1{constructor(e,t){super(e,t,new JI,!1)}get parent(){let e=Pk(this._path);return e===null?null:new n(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}};N7(nc);x7(nc);var hK="FIREBASE_DATABASE_EMULATOR_HOST",v1={},fK=!1;function pK(n,e,t,i){n.repoInfo_=new ug(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}function mK(n,e,t,i,r){let o=i||n.options.databaseURL;o===void 0&&(n.options.projectId||Br("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dn("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let s=dk(o,r),a=s.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[hK]),u?(l=!0,o=`http://${u}?ns=${a.namespace}`,s=dk(o,r),a=s.repoInfo):l=!s.repoInfo.secure;let d=r&&l?new Ld(Ld.OWNER):new kI(n.name,n.options,e);K7("Invalid Firebase Database URL",s),Me(s.path)||Br("Database URL must point to the root of a Firebase Database (not including a child path).");let f=_K(a,n,d,new PI(n.name,t));return new y1(f,n)}function gK(n,e){let t=v1[e];(!t||t[n.key]!==n)&&Br(`Database ${e}(${n.repoInfo_}) has already been deleted.`),oK(n),delete t[n.key]}function _K(n,e,t,i){let r=v1[e.name];r||(r={},v1[e.name]=r);let o=r[n.toURLString()];return o&&Br("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new g1(n,fK,t,i),r[n.toURLString()]=o,o}var y1=class{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(eK(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new nc(this._repo,We())),this._rootInternal}_delete(){return this._rootInternal!==null&&(gK(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Br("Cannot call "+e+" on a deleted database.")}};function yF(n=Ds(),e){let t=Zu(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){let i=em("database");i&&wF(t,...i)}return t}function wF(n,e,t,i={}){n=Gt(n),n._checkNotDeleted("useEmulator"),n._instanceStarted&&Br("Cannot call useEmulator() after instance has already been initialized.");let r=n._repoInternal,o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Br('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ld(Ld.OWNER);else if(i.mockUserToken){let s=typeof i.mockUserToken=="string"?i.mockUserToken:tm(i.mockUserToken,n.app.options.projectId);o=new Ld(s)}pK(r,e,t,o)}function vK(n){n9(bo),Ji(new Mn("database",(e,{instanceIdentifier:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return mK(i,r,o,t)},"PUBLIC").setMultipleInstances(!0)),ht(OP,PP,n),ht(OP,PP,"esm2017")}I1.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};I1.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};vK();var Kd=class{constructor(e){return e}},EF="database",O1=class{constructor(){return Ms(EF)}};var P1=new Z("angularfire2.database-instances");function yK(n,e){let t=ed(EF,n,e);return t&&new Kd(t)}function wK(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Kd(i)}}var EK={provide:O1,deps:[[new an,P1]]},bK={provide:Kd,useFactory:yK,deps:[[new an,P1],Rr]};function bF(n,...e){return ht("angularfire",Io.full,"rtdb"),bn([bK,EK,{provide:P1,useFactory:wK(n),multi:!0,deps:[Ce,Ot,Ns,xs,[new an,bl],[new an,As],...e]}])}var IF=Cn(yF,!0);var Dg=class{http;prefix;suffix;constructor(e,t="/assets/i18n/",i=".json"){this.http=e,this.prefix=t,this.suffix=i}getTranslation(e){return this.http.get(`${this.prefix}${e}${this.suffix}`)}};function IK(n){return new Dg(n,"./assets/i18n/",".json")}var CK=()=>({loader:{provide:wo,useFactory:IK,deps:[os]}}),CF={providers:[nN(xP),bM(),P0(),kv([Xe.forRoot(CK())]),sR(()=>aR(RP.firebaseConfig)),bF(()=>IF()),yP(()=>CP())]};function TK(n,e){n&1&&(g(0,"div",27),E(1),x(2,"translate"),y()),n&2&&(I(),ie(" ",R(2,1,"ERROR_MESSAGE.COMPANY_NAME_REQUIRED")," "))}function DK(n,e){n&1&&(g(0,"span"),E(1),x(2,"translate"),y()),n&2&&(I(),ie(" ",R(2,1,"ERROR_MESSAGE.PHONE_NUMBER_INVALID")," "))}function SK(n,e){n&1&&(g(0,"span"),E(1),x(2,"translate"),y()),n&2&&(I(),F(R(2,1,"ERROR_MESSAGE.PHONE_NUMBER_REQUIRED")))}function AK(n,e){if(n&1&&(g(0,"div",27),Ie(1,DK,3,3,"span",28)(2,SK,3,3,"span",28),y()),n&2){let t,i,r=$e();I(),se("ngIf",(t=r.contactForm.get("phoneNumber"))==null||t.errors==null?null:t.errors.invalidPhone),I(),se("ngIf",(i=r.contactForm.get("phoneNumber"))==null||i.errors==null?null:i.errors.required)}}function MK(n,e){n&1&&(g(0,"span"),E(1),x(2,"translate"),y()),n&2&&(I(),F(R(2,1,"ERROR_MESSAGE.EMAIL_REQUIRED")))}function NK(n,e){n&1&&(g(0,"span"),E(1),x(2,"translate"),y()),n&2&&(I(),F(R(2,1,"ERROR_MESSAGE.EMAIL_INVALID")))}function xK(n,e){if(n&1&&(g(0,"div",27),Ie(1,MK,3,3,"span",28)(2,NK,3,3,"span",28),y()),n&2){let t,i,r=$e();I(),se("ngIf",(t=r.contactForm.get("email"))==null||t.errors==null?null:t.errors.required),I(),se("ngIf",(i=r.contactForm.get("email"))==null||i.errors==null?null:i.errors.email)}}function RK(n,e){n&1&&(g(0,"div",27),E(1),x(2,"translate"),y()),n&2&&(I(),ie(" ",R(2,1,"ERROR_MESSAGE.SUBJECT_REQUIRED")," "))}function OK(n,e){n&1&&(g(0,"div",27),E(1),x(2,"translate"),y()),n&2&&(I(),ie(" ",R(2,1,"ERROR_MESSAGE.MESSAGE_REQUIRED")," "))}function PK(n,e){if(n&1){let t=Zt();g(0,"div",29)(1,"ngb-alert",30),me("close",function(){it(t);let r=$e();return rt(r.showAlert=!1)}),E(2),x(3,"translate"),y()()}n&2&&(I(),se("type","success"),I(),ie(" ",R(3,2,"ERROR_MESSAGE.SUCCESS_MESSAGE")," "))}var TF=(()=>{class n{constructor(t,i,r,o){this.fb=t,this.http=i,this.translationService=r,this.translate=o,this.sendGridApiUrl="https://api.sendgrid.com/v3/mail/send",this.sendGridApiKey="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",this.successMessage=null,this.showAlert=!1,this.apiUrl="https://api.brevo.com/v3/smtp/email",this.apiKey="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 ",this.translationService.currentLanguage$.subscribe(s=>{}),this.contactForm=this.fb.group({fullName:[""],companyName:["",_t.required],phoneNumber:["",[_t.required,this.phoneNumberValidator]],email:["",[_t.required,_t.email]],subject:["",_t.required],message:["",_t.required]})}phoneNumberValidator(t){let i=/^\+?(\d{1,3})?\s?-?(\(?\d{1,4}\)?)\s?-?(\d{1,4})\s?-?(\d{1,9})$/;return t.value&&!i.test(t.value)?{invalidPhone:!0}:null}onSubmit(){this.contactForm.valid&&this.sendEmail()}sendEmail(){let t=new Xn({"Content-Type":"application/json","api-key":this.apiKey}),i={sender:{email:"technologieshykmann@gmail.com",name:"Hykmann Technologies"},to:[{email:"technologieshykmann@gmail.com",name:"Hykmann Technologies"}],replyTo:{email:"technologieshykmann@gmail.com",name:"Hykmann Technologies"},subject:"Hykmann Queries - "+this.contactForm.get("subject")?.value,textContent:"Hykmann",htmlContent:"<li>Full Name:"+this.contactForm.get("fullName")?.value+"</li><li>Company Name:"+this.contactForm.get("companyName")?.value+"</li><li>Phone Number:"+this.contactForm.get("phoneNumber")?.value+"</li><li>Email ID:"+this.contactForm.get("email")?.value+"</li><p>"+this.contactForm.get("message")?.value+"</p>"};return this.http.post(this.apiUrl,i,{headers:t}).subscribe(r=>{this.contactForm.reset(),this.showSuccessAlert("Message sent successfully!")},r=>console.error("Error sending email",r))}showSuccessAlert(t){this.successMessage=t,this.showAlert=!0,setTimeout(()=>{this.showAlert=!1,this.successMessage=null},3e3)}static{this.\u0275fac=function(i){return new(i||n)(H(cl),H(os),H(lt),H(Ye))}}static{this.\u0275cmp=Se({type:n,selectors:[["app-contact-us"]],standalone:!0,features:[Ae],decls:55,vars:32,consts:[[1,"message-us-content"],[1,"row"],[1,"col-6","message-us-left"],["src","assets/robo.jpg","alt","Small Image",1,"butterfly-img"],[1,"message-us-left-text"],[1,"email"],[1,"fas","fa-envelope"],["href","mailto:hello@hykmann.com"],[1,"col-6","message-us-right"],[3,"ngSubmit","formGroup"],[1,"form-row"],[1,"form-group"],["for","fullName"],["type","text","id","fullName","formControlName","fullName","maxlength","40"],["for","companyName"],["type","text","id","companyName","formControlName","companyName","maxlength","40"],["class","error",4,"ngIf"],["for","phoneNumber"],["type","text","id","phoneNumber","formControlName","phoneNumber","maxlength","15"],["for","email"],["type","email","id","email","formControlName","email","maxlength","100"],["for","subject"],["type","text","id","subject","formControlName","subject","maxlength","150"],["for","message"],["id","message","formControlName","message","rows","5","maxlength","300"],["type","submit",1,"submit-btn",3,"disabled"],["class","alert-container position-fixed top-0 end-0 p-3","style","z-index: 1200;",4,"ngIf"],[1,"error"],[4,"ngIf"],[1,"alert-container","position-fixed","top-0","end-0","p-3",2,"z-index","1200"],[1,"fade","show",3,"close","type"]],template:function(i,r){if(i&1&&(g(0,"div",0)(1,"div",1)(2,"div",2),U(3,"img",3),g(4,"div",4),E(5),x(6,"translate"),y(),g(7,"div",5),U(8,"i",6),g(9,"a",7),E(10,"hello@hykmann.com"),y()()(),g(11,"div",8)(12,"form",9),me("ngSubmit",function(){return r.onSubmit()}),g(13,"div",10)(14,"div",11)(15,"label",12),E(16),x(17,"translate"),y(),U(18,"input",13),y(),g(19,"div",11)(20,"label",14),E(21),x(22,"translate"),y(),U(23,"input",15),Ie(24,TK,3,3,"div",16),y()(),g(25,"div",10)(26,"div",11)(27,"label",17),E(28),x(29,"translate"),y(),U(30,"input",18),Ie(31,AK,3,2,"div",16),y(),g(32,"div",11)(33,"label",19),E(34),x(35,"translate"),y(),U(36,"input",20),Ie(37,xK,3,2,"div",16),y()(),g(38,"div",10)(39,"div",11)(40,"label",21),E(41),x(42,"translate"),y(),U(43,"input",22),Ie(44,RK,3,3,"div",16),y()(),g(45,"div",11)(46,"label",23),E(47),x(48,"translate"),y(),U(49,"textarea",24),Ie(50,OK,3,3,"div",16),y(),g(51,"button",25),E(52),x(53,"translate"),y()()()()(),Ie(54,PK,4,4,"div",26)),i&2){let o,s,a,l,u;I(5),ie(" ",R(6,16,"CONTACT_US_PAGE.HEADER")," "),I(7),se("formGroup",r.contactForm),I(4),ie(" ",R(17,18,"CONTACT_US_PAGE.FULL_NAME_LABEL"),""),I(5),ie(" ",R(22,20,"CONTACT_US_PAGE.COMPANY_NAME_LABEL")," *"),I(3),se("ngIf",((o=r.contactForm.get("companyName"))==null?null:o.invalid)&&((o=r.contactForm.get("companyName"))==null?null:o.touched)),I(4),ie("",R(29,22,"CONTACT_US_PAGE.PHONE_NUMBER_LABEL")," *"),I(3),se("ngIf",((s=r.contactForm.get("phoneNumber"))==null?null:s.touched)&&((s=r.contactForm.get("phoneNumber"))==null?null:s.errors)&&((s=r.contactForm.get("phoneNumber"))==null?null:s.invalid)),I(3),ie("",R(35,24,"CONTACT_US_PAGE.COMPANY_EMAIL_ID_LABEL")," *"),I(3),se("ngIf",((a=r.contactForm.get("email"))==null?null:a.touched)&&((a=r.contactForm.get("email"))==null?null:a.errors)&&((a=r.contactForm.get("email"))==null?null:a.invalid)),I(4),ie("",R(42,26,"CONTACT_US_PAGE.SUBJECT_LABEL")," *"),I(3),se("ngIf",((l=r.contactForm.get("subject"))==null?null:l.invalid)&&((l=r.contactForm.get("subject"))==null?null:l.touched)),I(3),ie("",R(48,28,"CONTACT_US_PAGE.MESSAGE_LABEL")," *"),I(3),se("ngIf",((u=r.contactForm.get("message"))==null?null:u.invalid)&&((u=r.contactForm.get("message"))==null?null:u.touched)),I(),se("disabled",r.contactForm.invalid),I(),F(R(53,30,"CONTACT_US_PAGE.SUBMIT_BUTTON")),I(2),se("ngIf",r.showAlert)}},dependencies:[uM,Bn,za,mo,ll,po,sl,al,fs,ds,hs,qp,Hp,ml,Xe,at],styles:[".message-us-content[_ngcontent-%COMP%]{margin-top:6vh}.row[_ngcontent-%COMP%]{display:flex;width:100%}.col-6[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%;padding:15px;box-sizing:border-box}.butterfly-img[_ngcontent-%COMP%]{width:250px}.message-us-left[_ngcontent-%COMP%]{font-family:Archivo Black,sans-serif;font-size:8vh;padding-left:15vh}.email[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:medium;font-weight:700;font-family:DM Sans,sans-serif;text-decoration:none;padding-left:2rem;color:gray}.email[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#d3d3d3;font-size:3rem;font-family:DM Sans,sans-serif;margin-top:2vh}label[_ngcontent-%COMP%]{font-size:x-small}#contactForm[_ngcontent-%COMP%]{max-width:600px;width:100%;padding:1.5rem;background:#fff;border-radius:10px;box-shadow:0 4px 10px #0000001a}.form-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.5rem}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #ccc;border-radius:5px;font-size:1rem}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#4057d0;outline:none}.error[_ngcontent-%COMP%]{color:red;font-size:.575rem;margin-top:.5rem;font-family:DM Sans,sans-serif}.submit-btn[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:linear-gradient(45deg,#4057d0,#999ef1);color:#fff;border:none;border-radius:25px;font-size:1rem;cursor:pointer;font-weight:700;margin:0 auto;display:block;width:100px;margin-top:2vh}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.submit-btn[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 10px 20px #0000001a;cursor:pointer}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:gray;cursor:not-allowed;opacity:.6}.error[_ngcontent-%COMP%]{color:red;font-size:.6rem;margin-top:5px}input.ng-invalid.ng-touched[_ngcontent-%COMP%], textarea.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}input.ng-valid.ng-touched[_ngcontent-%COMP%], textarea.ng-valid.ng-touched[_ngcontent-%COMP%]{border:1px solid green}@media only screen and (max-width: 768px){.message-us-content[_ngcontent-%COMP%]{overflow-x:hidden}.row[_ngcontent-%COMP%]{width:fit-content}.email[_ngcontent-%COMP%]{display:none}.col-6[_ngcontent-%COMP%]{flex:1 0 100%;max-width:100%}.message-us-left[_ngcontent-%COMP%]{padding-left:0;text-align:center;font-size:2rem}.butterfly-img[_ngcontent-%COMP%]{width:250px}.form-row[_ngcontent-%COMP%]{display:block;margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.message-us-content[_ngcontent-%COMP%]{margin-top:0vh}}"]})}}return n})();var kK=["content"];function FK(n,e){if(n&1){let t=Zt();g(0,"div",1)(1,"h4",2),E(2),x(3,"translate"),y()(),g(4,"div",3)(5,"p",4),E(6),x(7,"translate"),y()(),g(8,"div",5)(9,"div",6)(10,"button",7),me("click",function(){it(t);let r=$e();return rt(r.acceptCookies())}),E(11),x(12,"translate"),y(),g(13,"button",7),me("click",function(){it(t);let r=$e();return rt(r.declineCookies())}),E(14),x(15,"translate"),y()()()}n&2&&(I(2),F(R(3,4,"COOKIES.TITLE")),I(4),F(R(7,6,"COOKIES.DESCRIPTION")),I(5),F(R(12,8,"COOKIES.ACCEPT_BUTTON")),I(3),F(R(15,10,"COOKIES.DECLINE_BUTTON")))}var DF=(()=>{class n{constructor(t,i,r,o,s){this.platformId=t,this.modalService=i,this.renderer=r,this.translationService=o,this.translate=s,this.showModal=!1,this.translationService.currentLanguage$.subscribe(a=>{})}ngOnInit(){ao(this.platformId)&&(localStorage.getItem("cookiesAccepted")||this.modalService.open(this.content,{windowClass:"bottom-right-modal",backdrop:"static",keyboard:!1}).shown.subscribe(()=>{let r=document.querySelector(".modal-dialog");r&&(this.renderer.setStyle(r,"position","fixed"),this.renderer.setStyle(r,"bottom","50px"),this.renderer.setStyle(r,"right","1px"),this.renderer.setStyle(r,"margin","0"))}))}acceptCookies(){ao(this.platformId)&&(localStorage.setItem("cookiesAccepted","true"),this.modalService.dismissAll())}declineCookies(){ao(this.platformId)&&(localStorage.setItem("cookiesAccepted","false"),this.modalService.dismissAll())}static{this.\u0275fac=function(i){return new(i||n)(H(Bt),H(Mr),H(wr),H(lt),H(Ye))}}static{this.\u0275cmp=Se({type:n,selectors:[["app-accept-cookies"]],viewQuery:function(i,r){if(i&1&&oo(kK,7),i&2){let o;Er(o=br())&&(r.content=o.first)}},standalone:!0,features:[Hi([pw,Mr]),Ae],decls:2,vars:0,consts:[["content",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body"],[2,"text-align","justify","font-size","small"],[1,"modal-footer"],[1,"button-group"],[1,"submit-btn",3,"click"]],template:function(i,r){i&1&&Ie(0,FK,16,12,"ng-template",null,0,so)},dependencies:[Bn,Xe,at],styles:[".cookie-modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:end;align-items:end;z-index:1000}.cookie-modal[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;max-width:400px;text-align:center;box-shadow:0 4px 10px #0000004d;opacity:.8}.cookie-modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px;font-size:small;color:#333}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px}.submit-btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:14px;color:#fff;background:#000;border:none;border-radius:4px;cursor:pointer;transition:background .3s}.submit-btn[_ngcontent-%COMP%]:hover{background:#000}.submit-btn[_ngcontent-%COMP%]:nth-child(2){background:#dc3545}.submit-btn[_ngcontent-%COMP%]:nth-child(2):hover{background:#a71d2a}.bottom-right-modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{position:fixed!important;bottom:20px!important;right:20px;margin:0;max-width:300px}.bottom-right-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 4px 10px #0003}"]})}}return n})();var SF=n=>({"active-lang":n}),AF=(()=>{class n{onWindowScroll(){let t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;this.isScrolled=t>50}onLoad(t){window.scrollTo(0,0)}constructor(t){this.translationService=t,this.title="hykmann-tech",this.isScrolled=!1,this.selectedLanguage="sv",this.translationService.currentLanguage$.subscribe(i=>{this.selectedLanguage=i})}switchLanguage(t){this.selectedLanguage=t,this.translationService.useLanguage(t)}static{this.\u0275fac=function(i){return new(i||n)(H(lt))}}static{this.\u0275cmp=Se({type:n,selectors:[["app-root"]],hostBindings:function(i,r){i&1&&me("scroll",function(){return r.onWindowScroll()},!1,t0)("load",function(s){return r.onLoad(s)},!1,t0)},standalone:!0,features:[Ae],decls:181,vars:119,consts:[[1,"navbar","navbar-expand-lg","bg-white","fixed-top"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["src","assets/4.png",1,"logo","no-phone"],["src","assets/4-m.png",1,"logo","no-laptop"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],[1,"nav-item","dropdown"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"dropdown-menu","p-3"],[1,"row"],[1,"col"],[1,"dropdown-header"],["href","iot"],["href","/iot",1,"dropdown-item"],["href","/strategic"],["href","/strategic",1,"dropdown-item"],["href","/software-engineering"],["href","/software-engineering",1,"dropdown-item"],["href","/quality-lifecycle-management"],["href","/quality-lifecycle-management",1,"dropdown-item"],["href","/team-extension"],["href","sustainability"],[1,"nav-item"],["href","/about",1,"nav-link","active"],["href","/contact",1,"nav-link"],["href","/career",1,"nav-link"],[1,"nav-link"],[2,"padding-right","0.5rem","cursor","pointer",3,"click","ngClass"],[2,"padding-left","0.5rem","cursor","pointer",3,"click","ngClass"],[1,"footer-content"],[1,"row","footer-header"],[1,"row","align-items-center"],[1,"col-auto"],["src","assets/4.png","alt","Hykmann",1,"footer-logo"],[1,"mb-0"],[2,"font-size","small","font-weight","bold","font-family","'DM Sans', sans-serif"],[1,"row","footer-row"],[1,"col-5"],["href","https://www.linkedin.com/company/hykmann123","target","_blank",1,"social-icon"],[1,"fab","fa-linkedin"],["href","https://www.facebook.com/Hykmann","target","_blank",1,"social-icon"],[1,"fab","fa-facebook"],[1,"col-2"],["href","/iot",2,"text-decoration","none","color","white"],["href","/about",2,"text-decoration","none","color","white"],["href","/contact",2,"text-decoration","none","color","white"],["href","/career",2,"text-decoration","none","color","white"],[1,"col-3"],[1,"footer-copyright-row",2,"text-align","center","font-size","small"],[2,"text-align","center"]],template:function(i,r){i&1&&(g(0,"nav",0)(1,"div",1)(2,"a",2),U(3,"img",3)(4,"img",4),y(),g(5,"button",5),U(6,"span",6),y(),g(7,"div",7)(8,"ul",8)(9,"li",9)(10,"a",10),E(11),x(12,"translate"),y(),g(13,"div",11)(14,"div",12)(15,"div",13)(16,"h6",14)(17,"a",15),E(18),x(19,"translate"),y()(),g(20,"a",16),E(21),x(22,"translate"),y(),g(23,"a",16),E(24),x(25,"translate"),y(),g(26,"a",16),E(27),x(28,"translate"),y()(),g(29,"div",13)(30,"h6",14)(31,"a",17),E(32),x(33,"translate"),y()(),g(34,"a",18),E(35),x(36,"translate"),y(),g(37,"a",18),E(38),x(39,"translate"),y(),g(40,"a",18),E(41),x(42,"translate"),y(),g(43,"a",18),E(44),x(45,"translate"),y()()(),g(46,"div",12)(47,"div",13)(48,"h6",14)(49,"a",19),E(50),x(51,"translate"),y()(),g(52,"a",20),E(53),x(54,"translate"),y(),g(55,"a",20),E(56),x(57,"translate"),y(),g(58,"a",20),E(59),x(60,"translate"),y(),g(61,"a",20),E(62),x(63,"translate"),y()(),g(64,"div",13)(65,"h6",14)(66,"a",21),E(67),x(68,"translate"),y()(),g(69,"a",22),E(70),x(71,"translate"),y(),g(72,"a",22),E(73),x(74,"translate"),y(),g(75,"a",22),E(76),x(77,"translate"),y(),g(78,"a",22),E(79),x(80,"translate"),y(),g(81,"a",22),E(82),x(83,"translate"),y()()(),g(84,"div",12)(85,"div",13)(86,"h6",14)(87,"a",23),E(88),x(89,"translate"),y()()(),g(90,"div",13)(91,"h6",14)(92,"a",24),E(93),x(94,"translate"),y()()()()()(),g(95,"li",25)(96,"a",26),E(97),x(98,"translate"),y()(),g(99,"li",25)(100,"a",27),E(101),x(102,"translate"),y()(),g(103,"li",25)(104,"a",28),E(105),x(106,"translate"),y()(),g(107,"li",25)(108,"a",29)(109,"span",30),me("click",function(){return r.switchLanguage("en")}),E(110,"EN"),y(),E(111,"|"),g(112,"span",31),me("click",function(){return r.switchLanguage("sv")}),E(113,"SV"),y()()()()()()(),U(114,"router-outlet")(115,"app-accept-cookies")(116,"app-contact-us"),g(117,"div",32)(118,"div",33)(119,"div",34)(120,"div",35)(121,"a",2),U(122,"img",36),y()(),g(123,"div",13)(124,"h1",37),E(125,"Hykmann"),y(),g(126,"div",38),E(127),x(128,"translate"),y()()()(),g(129,"div",39)(130,"div",40)(131,"h3"),E(132),x(133,"translate"),y(),g(134,"a",41),U(135,"i",42),y(),g(136,"a",43),U(137,"i",44),y()(),g(138,"div",45)(139,"h3"),E(140),x(141,"translate"),y(),g(142,"p")(143,"a",46),E(144),x(145,"translate"),y()(),g(146,"p")(147,"a",47),E(148),x(149,"translate"),y()(),g(150,"p")(151,"a",48),E(152),x(153,"translate"),y()(),g(154,"p")(155,"a",49),E(156),x(157,"translate"),y()()(),g(158,"div",45)(159,"h3"),E(160),x(161,"translate"),y(),g(162,"p"),E(163,"India"),y(),g(164,"p"),E(165,"Sweden"),y(),g(166,"p"),E(167,"UK"),y()(),g(168,"div",50)(169,"h3"),E(170),x(171,"translate"),y(),g(172,"p"),E(173,"hello@hykmann.com"),y()()(),g(174,"div",51)(175,"p"),E(176),x(177,"translate"),y(),g(178,"p",52),E(179),x(180,"translate"),y()()()),i&2&&(Ei("scrolled",r.isScrolled),I(11),ie(" ",R(12,41,"SERVICES")," "),I(7),F(R(19,43,"IOT_EMBEDDED_DROPDOWN")),I(3),F(R(22,45,"IOT_SOLUTION_SUB_DROPDOWN")),I(3),F(R(25,47,"EMBEDDED_SYSTEM_SUB_DROPDOWN")),I(3),F(R(28,49,"PCB_DESIGN")),I(5),F(R(33,51,"STRATEGIC_SERVICES_DROPDOWN")),I(3),F(R(36,53,"DESIGN_CONSULTING_SUB_DROPDOWN")),I(3),F(R(39,55,"TECHNOLOGY_CONSULTING_SUB_DROPDOWN")),I(3),F(R(42,57,"BUSINESS_STRATEGY_SUB_DROPDOWN")),I(3),F(R(45,59,"PRODUCT_MANAGEMENT_SUB_DROPDOWN")),I(6),F(R(51,61,"SOFTWARE_ENGINEERING_SERVICES_DROPDOWN")),I(3),F(R(54,63,"SOFTWARE_DEVELOPMENT_SUB_DROPDOWN")),I(3),F(R(57,65,"CLOUD_SERVICES_SUB_DROPDOWN")),I(3),F(R(60,67,"DATA_AND_ANALYTICS_SUB_DROPDOWN")),I(3),F(R(63,69,"QUALITY_ENGINEERING_SUB_DROPDOWN")),I(5),F(R(68,71,"QUALITY_MANAGEMENT_SERVICES_DROPDOWN")),I(3),F(R(71,73,"QUALITY_LIFECYCLE_MANAGEMENT_SUB_DROPDOWN")),I(3),F(R(74,75,"QUALITY_SERVICES_SUB_DROPDOWN")),I(3),F(R(77,77,"QLM_SOFTWARE_SUB_DROPDOWN")),I(3),F(R(80,79,"QUALITY_AUDITS_SUB_DROPDOWN")),I(3),F(R(83,81,"PPAP_SUB_DROPDOWN")),I(6),F(R(89,83,"TEAM_EXTENSION_DROPDOWN")),I(5),F(R(94,85,"SUSTAINABILITY_DROPDOWN")),I(4),F(R(98,87,"ABOUT_US")),I(4),F(R(102,89,"CONTACT_US")),I(4),F(R(106,91,"CAREER")),I(4),se("ngClass",Hf(115,SF,r.selectedLanguage==="en")),I(3),se("ngClass",Hf(117,SF,r.selectedLanguage==="sv")),I(15),ie(" ",R(128,93,"HOME.TAGLINE")," "),I(5),F(R(133,95,"FOOTER.FOLLOW_US")),I(8),F(R(141,97,"FOOTER.COMPANY")),I(4),F(R(145,99,"SERVICES")),I(4),F(R(149,101,"ABOUT_US")),I(4),F(R(153,103,"CONTACT_US")),I(4),F(R(157,105,"CAREER")),I(4),F(R(161,107,"FOOTER.LOCATIONS")),I(10),F(R(171,109,"FOOTER.CONTACT_US")),I(6),F(R(177,111,"FOOTER.COPYRIGHT_LINE_1")),I(3),F(R(180,113,"FOOTER.COPYRIGHT_LINE_2")))},dependencies:[Bn,zA,Iy,mo,TF,Xe,at,DF],styles:[".logo[_ngcontent-%COMP%]{width:20%;margin-left:5vh}.nav-link[_ngcontent-%COMP%]{padding-right:8vh!important;font-size:large;font-weight:700;color:#000}.dropdown-menu[_ngcontent-%COMP%]{max-width:90vw;overflow-x:auto}.dropdown-menu[_ngcontent-%COMP%]{width:650px}.dropdown-header[_ngcontent-%COMP%]{color:#000;text-decoration:underline}.dropdown-item[_ngcontent-%COMP%]{font-size:small}.message-us-left-content[_ngcontent-%COMP%]{font-family:Archivo Black,sans-serif}.footer-content[_ngcontent-%COMP%]{padding:12vh 12vh 5vh;text-align:left;background-color:#000;background:url(/assets/footer-1.jpg) no-repeat center center/cover;color:#fff}.footer-header[_ngcontent-%COMP%]{margin-bottom:8vh;font-family:Archivo Black,sans-serif}.footer-row[_ngcontent-%COMP%]{font-family:DM Sans,sans-serif;font-size:small;padding-left:3vh}.footer-row[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:large;font-weight:700;margin-bottom:2vh;color:#4057d0}.social-icon[_ngcontent-%COMP%]{font-size:40px;margin-right:10px;color:#4057d0}.footer-copyright-row[_ngcontent-%COMP%]{margin-top:15vh}.navbar[_ngcontent-%COMP%]{transition:background-color .3s ease,box-shadow .3s ease;background-color:transparent!important;box-shadow:none;margin-top:-13px}.navbar.scrolled[_ngcontent-%COMP%]{background-color:#fff!important}.footer-logo[_ngcontent-%COMP%]{max-height:150px}h1[_ngcontent-%COMP%]{font-size:24px}.active-lang[_ngcontent-%COMP%]{color:red!important;font-weight:700!important}.nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000;font-weight:400;text-decoration:none}.footer-tagline[_ngcontent-%COMP%]{font-size:small;font-weight:700;font-family:DM Sans,sans-serif}.no-laptop[_ngcontent-%COMP%]{display:none}.no-phone[_ngcontent-%COMP%]{display:block}@media only screen and (max-width: 768px){body[_ngcontent-%COMP%]{overflow-x:hidden}.footer-content[_ngcontent-%COMP%]{padding:7vh 4vh 4vh}.col-5[_ngcontent-%COMP%]{width:100%}.col-2[_ngcontent-%COMP%]{width:50%;margin-top:3vh}.col-3[_ngcontent-%COMP%]{width:100%;margin-top:3vh}.footer-copyright-row[_ngcontent-%COMP%]{margin-top:8vh;font-size:xx-small!important}.logo[_ngcontent-%COMP%]{width:20%;margin-left:0vh}.navbar-collapse[_ngcontent-%COMP%]{background:#fff;opacity:.9;text-align:right;padding-top:1rem;padding-bottom:1rem}.footer-logo[_ngcontent-%COMP%]{max-height:100px}.footer-tagline[_ngcontent-%COMP%]{font-size:x-small!important}.navbar-toggler[_ngcontent-%COMP%]{margin-left:auto;height:30px}.navbar-toggler-icon[_ngcontent-%COMP%]{width:1em;height:1em}.logo[_ngcontent-%COMP%]{max-height:340px}.no-laptop[_ngcontent-%COMP%]{display:block}.no-phone[_ngcontent-%COMP%]{display:none}}"]})}}return n})();wM(AF,CF).catch(n=>console.error(n));
